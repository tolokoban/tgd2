"use strict";
(self["webpackChunk"] = self["webpackChunk"] || []).push([["app"],{

/***/ 1605:
/*!****************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./src/app/pages/theme/theme.module.css ***!
  \****************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/sourceMaps.js */ 7537);
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ 3645);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, ".D3EDS7T7PGlU7d7JKKKg {\n    display: grid;\n    grid-template-columns: repeat(5, 1fr);\n    gap: 0.25em;\n}\n\n.D3EDS7T7PGlU7d7JKKKg > div {\n    box-shadow: 0 2px 4px #000a;\n    text-align: center;\n}\n\n.K8BxzUXmGHaWkLxIKQam {\n    grid-column: 1/2;\n}\n\n.DTC1ZdVzFXezJF9VDdlA {\n    grid-column: 2/3;\n}\n\n.R9Z54i9MuPfM_uk9488w {\n    grid-column: 3/4;\n}\n\n.RWYHCef3grqwPEK3nvZC {\n    grid-column: 4/5;\n}\n\n.KrfdG9fk4Rump439zrUL {\n    grid-column: 5/6;\n}\n\n.IzVuQBhoDJZakoSYzs3I {\n    grid-row: 2/3;\n}\n\n.ZV9nlM0qUxuIbRZfS9AC {\n    grid-row: 3/4;\n}\n\n.MkXOvaLQ1A0cbzjUl7Hz {\n    grid-row: 4/5;\n}\n", "",{"version":3,"sources":["webpack://./src/app/pages/theme/theme.module.css"],"names":[],"mappings":"AAAA;IACI,aAAa;IACb,qCAAqC;IACrC,WAAW;AACf;;AAEA;IACI,2BAA2B;IAC3B,kBAAkB;AACtB;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IAEI,aAAa;AACjB;;AAEA;IAEI,aAAa;AACjB;;AAEA;IAEI,aAAa;AACjB","sourcesContent":[".themePage {\n    display: grid;\n    grid-template-columns: repeat(5, 1fr);\n    gap: 0.25em;\n}\n\n.themePage > div {\n    box-shadow: 0 2px 4px #000a;\n    text-align: center;\n}\n\n.neutral {\n    grid-column: 1/2;\n}\n\n.primary {\n    grid-column: 2/3;\n}\n\n.secondary {\n    grid-column: 3/4;\n}\n\n.tertiary {\n    grid-column: 4/5;\n}\n\n.other {\n    grid-column: 5/6;\n}\n\n.row2 {\n    composes: other;\n    grid-row: 2/3;\n}\n\n.row3 {\n    composes: other;\n    grid-row: 3/4;\n}\n\n.row4 {\n    composes: other;\n    grid-row: 4/5;\n}\n"],"sourceRoot":""}]);
// Exports
___CSS_LOADER_EXPORT___.locals = {
	"themePage": "D3EDS7T7PGlU7d7JKKKg",
	"neutral": "K8BxzUXmGHaWkLxIKQam",
	"primary": "DTC1ZdVzFXezJF9VDdlA",
	"secondary": "R9Z54i9MuPfM_uk9488w",
	"tertiary": "RWYHCef3grqwPEK3nvZC",
	"other": "KrfdG9fk4Rump439zrUL",
	"row2": "IzVuQBhoDJZakoSYzs3I KrfdG9fk4Rump439zrUL",
	"row3": "ZV9nlM0qUxuIbRZfS9AC KrfdG9fk4Rump439zrUL",
	"row4": "MkXOvaLQ1A0cbzjUl7Hz KrfdG9fk4Rump439zrUL"
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 3788:
/*!*****************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./src/index.css ***!
  \*****************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/sourceMaps.js */ 7537);
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ 3645);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "html {\n    font-family: sans-serif;\n    font-size: 16px;\n}\n\nbody {\n    background-color: var(--theme-color-neutral);\n    color: var(--theme-color-on-neutral);\n}\n", "",{"version":3,"sources":["webpack://./src/index.css"],"names":[],"mappings":"AAAA;IACI,uBAAuB;IACvB,eAAe;AACnB;;AAEA;IACI,4CAA4C;IAC5C,oCAAoC;AACxC","sourcesContent":["html {\n    font-family: sans-serif;\n    font-size: 16px;\n}\n\nbody {\n    background-color: var(--theme-color-neutral);\n    color: var(--theme-color-on-neutral);\n}\n"],"sourceRoot":""}]);
// Exports
___CSS_LOADER_EXPORT___.locals = {};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 357:
/*!**********************************************!*\
  !*** ./src/app/pages/theme/theme.module.css ***!
  \**********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ 3379);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ 7795);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/insertBySelector.js */ 569);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ 3565);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ 9216);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ 4589);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_1_use_1_theme_module_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./theme.module.css */ 1605);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_1_use_1_theme_module_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);


if (true) {
  if (!_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_1_use_1_theme_module_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals || module.hot.invalidate) {
    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {
  if (!a && b || a && !b) {
    return false;
  }

  var p;

  for (p in a) {
    if (isNamedExport && p === "default") {
      // eslint-disable-next-line no-continue
      continue;
    }

    if (a[p] !== b[p]) {
      return false;
    }
  }

  for (p in b) {
    if (isNamedExport && p === "default") {
      // eslint-disable-next-line no-continue
      continue;
    }

    if (!a[p]) {
      return false;
    }
  }

  return true;
};
    var isNamedExport = !_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_1_use_1_theme_module_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals;
    var oldLocals = isNamedExport ? _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_1_use_1_theme_module_css__WEBPACK_IMPORTED_MODULE_6__ : _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_1_use_1_theme_module_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals;

    module.hot.accept(
      /*! !!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./theme.module.css */ 1605,
      __WEBPACK_OUTDATED_DEPENDENCIES__ => { /* harmony import */ _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_1_use_1_theme_module_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./theme.module.css */ 1605);
(function () {
        if (!isEqualLocals(oldLocals, isNamedExport ? _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_1_use_1_theme_module_css__WEBPACK_IMPORTED_MODULE_6__ : _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_1_use_1_theme_module_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals, isNamedExport)) {
                module.hot.invalidate();

                return;
              }

              oldLocals = isNamedExport ? _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_1_use_1_theme_module_css__WEBPACK_IMPORTED_MODULE_6__ : _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_1_use_1_theme_module_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals;

              update(_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_1_use_1_theme_module_css__WEBPACK_IMPORTED_MODULE_6__["default"]);
      })(__WEBPACK_OUTDATED_DEPENDENCIES__); }
    )
  }

  module.hot.dispose(function() {
    update();
  });
}



       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_1_use_1_theme_module_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_1_use_1_theme_module_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_1_use_1_theme_module_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ 9317:
/*!***********************!*\
  !*** ./src/index.css ***!
  \***********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ 3379);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/styleDomAPI.js */ 7795);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/insertBySelector.js */ 569);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ 3565);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/insertStyleElement.js */ 9216);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/styleTagTransform.js */ 4589);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_1_use_1_index_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./index.css */ 3788);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_1_use_1_index_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);


if (true) {
  if (!_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_1_use_1_index_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals || module.hot.invalidate) {
    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {
  if (!a && b || a && !b) {
    return false;
  }

  var p;

  for (p in a) {
    if (isNamedExport && p === "default") {
      // eslint-disable-next-line no-continue
      continue;
    }

    if (a[p] !== b[p]) {
      return false;
    }
  }

  for (p in b) {
    if (isNamedExport && p === "default") {
      // eslint-disable-next-line no-continue
      continue;
    }

    if (!a[p]) {
      return false;
    }
  }

  return true;
};
    var isNamedExport = !_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_1_use_1_index_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals;
    var oldLocals = isNamedExport ? _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_1_use_1_index_css__WEBPACK_IMPORTED_MODULE_6__ : _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_1_use_1_index_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals;

    module.hot.accept(
      /*! !!../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./index.css */ 3788,
      __WEBPACK_OUTDATED_DEPENDENCIES__ => { /* harmony import */ _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_1_use_1_index_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./index.css */ 3788);
(function () {
        if (!isEqualLocals(oldLocals, isNamedExport ? _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_1_use_1_index_css__WEBPACK_IMPORTED_MODULE_6__ : _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_1_use_1_index_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals, isNamedExport)) {
                module.hot.invalidate();

                return;
              }

              oldLocals = isNamedExport ? _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_1_use_1_index_css__WEBPACK_IMPORTED_MODULE_6__ : _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_1_use_1_index_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals;

              update(_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_1_use_1_index_css__WEBPACK_IMPORTED_MODULE_6__["default"]);
      })(__WEBPACK_OUTDATED_DEPENDENCIES__); }
    )
  }

  module.hot.dispose(function() {
    update();
  });
}



       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_1_use_1_index_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_1_use_1_index_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_1_use_1_index_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ 3078:
/*!***************************!*\
  !*** ./src/app/index.tsx ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ App)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 7294);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router-dom */ 9655);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-router-dom */ 9250);
/* harmony import */ var _pages__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pages */ 1103);
/* harmony import */ var _pages_theme__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pages/theme */ 4448);




var router = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_3__.createBrowserRouter)([
    {
        path: "/",
        element: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_pages__WEBPACK_IMPORTED_MODULE_1__["default"], null),
    },
    {
        path: "theme",
        element: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_pages_theme__WEBPACK_IMPORTED_MODULE_2__["default"], null),
    },
], {
    basename: window.location.pathname.startsWith("/tgd2") ? "/tgd2" : "",
});
console.log("ðŸš€ [index] window.location.pathname = ", window.location.pathname);
function App() {
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().StrictMode), null,
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__.RouterProvider, { router: router })));
}


/***/ }),

/***/ 1103:
/*!*********************************!*\
  !*** ./src/app/pages/index.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Home)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 7294);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-router-dom */ 9655);
/* harmony import */ var _components_scene_scene__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/components/scene/scene */ 600);
/* harmony import */ var tgd2_painter_clear__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tgd2/painter/clear */ 5211);
/* harmony import */ var tgd2_painter_logic__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tgd2/painter/logic */ 9404);
/* harmony import */ var tgd2_move__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tgd2/move */ 170);
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spreadArray = (undefined && undefined.__spreadArray) || function (to, from, pack) {
    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
        if (ar || !(i in from)) {
            if (!ar) ar = Array.prototype.slice.call(from, 0, i);
            ar[i] = from[i];
        }
    }
    return to.concat(ar || Array.prototype.slice.call(from));
};






function Home() {
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", null,
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_5__.Link, { to: "theme" }, "Theme"),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_scene_scene__WEBPACK_IMPORTED_MODULE_1__["default"], { onReady: function (scene) {
                console.log("onReady...");
                scene.addPainter.apply(scene, __spreadArray([], __read(makePainters(scene)), false));
                scene.animate = true;
            } })));
}
function makePainters(scene) {
    var jump = (0,tgd2_move__WEBPACK_IMPORTED_MODULE_4__.makeMoveJump)({ duration: 1500 });
    var clear = new tgd2_painter_clear__WEBPACK_IMPORTED_MODULE_2__["default"]({
        color: [0.3, 0.6, 0.9, 1],
    });
    return [
        clear,
        new tgd2_painter_logic__WEBPACK_IMPORTED_MODULE_3__["default"](function (time, delay) {
            var green = jump(time);
            clear.setClearColor(0, green, 0, 1);
        }),
    ];
}


/***/ }),

/***/ 4448:
/*!***************************************!*\
  !*** ./src/app/pages/theme/index.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Home)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 7294);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _theme_module_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./theme.module.css */ 357);
/* harmony import */ var _ui_theme__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/ui/theme */ 1311);
/* harmony import */ var _ui_view_panel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/ui/view/panel */ 2211);




var Panel = (0,_ui_view_panel__WEBPACK_IMPORTED_MODULE_3__.makeCustomPanel)({
    cssPadding: 0.5,
    cssBorderRadius: 0.25,
});
function Home() {
    var theme = new _ui_theme__WEBPACK_IMPORTED_MODULE_2__["default"]();
    theme.apply();
    var indexes = [1, 2, 3, 4, 5, 6, 7, 8, 9];
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: _theme_module_css__WEBPACK_IMPORTED_MODULE_1__["default"].themePages },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h1", { className: _theme_module_css__WEBPACK_IMPORTED_MODULE_1__["default"].neutral }, "Neutral"),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h1", { className: _theme_module_css__WEBPACK_IMPORTED_MODULE_1__["default"].primary }, "Primary"),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h1", { className: _theme_module_css__WEBPACK_IMPORTED_MODULE_1__["default"].secondary }, "Secondary"),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h1", { className: _theme_module_css__WEBPACK_IMPORTED_MODULE_1__["default"].tertiary }, "Tertiary"),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h1", { className: _theme_module_css__WEBPACK_IMPORTED_MODULE_1__["default"].other }, "Other"),
        indexes.map(function (index) {
            return ["neutral", "primary", "secondary", "tertiary"].map(function (type) {
                var name = "--theme-color-".concat(type, "-").concat(index);
                return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Panel, { className: _theme_module_css__WEBPACK_IMPORTED_MODULE_1__["default"][type], color: type, tone: index }, name));
            });
        }),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Panel, { className: _theme_module_css__WEBPACK_IMPORTED_MODULE_1__["default"].row2, color: "input" }, "--theme-color-input"),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Panel, { className: _theme_module_css__WEBPACK_IMPORTED_MODULE_1__["default"].row3, color: "error" }, "--theme-color-error"),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Panel, { className: _theme_module_css__WEBPACK_IMPORTED_MODULE_1__["default"].row4, color: "valid" }, "--theme-color-valid")));
}


/***/ }),

/***/ 600:
/*!****************************************!*\
  !*** ./src/components/scene/scene.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ SceneView)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 7294);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var tgd2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tgd2 */ 3349);


function SceneView(_a) {
    var className = _a.className, options = _a.options, onReady = _a.onReady;
    var mountCanvas = function (canvas) {
        if (!canvas)
            return;
        var scene = new tgd2__WEBPACK_IMPORTED_MODULE_1__.Scene(canvas, options);
        scene
            .initialize()
            .then(function () {
            scene.draw();
            if (onReady)
                onReady(scene);
        })
            .catch(console.error);
    };
    return react__WEBPACK_IMPORTED_MODULE_0___default().createElement("canvas", { ref: mountCanvas, className: className });
}


/***/ }),

/***/ 5796:
/*!***********************!*\
  !*** ./src/index.tsx ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 7294);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./app */ 3078);
/* harmony import */ var react_dom_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom/client */ 745);
/* harmony import */ var _index_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index.css */ 9317);
/* harmony import */ var _ui_theme__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ui/theme */ 1311);





function start() {
    var theme = new _ui_theme__WEBPACK_IMPORTED_MODULE_4__["default"]();
    theme.apply();
    var container = document.getElementById("app");
    if (!container)
        throw Error("No element with id \"app\"!");
    var root = (0,react_dom_client__WEBPACK_IMPORTED_MODULE_2__.createRoot)(container);
    root.render(react__WEBPACK_IMPORTED_MODULE_0__.createElement(_app__WEBPACK_IMPORTED_MODULE_1__["default"], null));
}
start();


/***/ }),

/***/ 6836:
/*!*************************!*\
  !*** ./src/ui/color.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var colord_plugins_lch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! colord/plugins/lch */ 5408);
/* harmony import */ var colord__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! colord */ 6765);
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spreadArray = (undefined && undefined.__spreadArray) || function (to, from, pack) {
    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
        if (ar || !(i in from)) {
            if (!ar) ar = Array.prototype.slice.call(from, 0, i);
            ar[i] = from[i];
        }
    }
    return to.concat(ar || Array.prototype.slice.call(from));
};


(0,colord__WEBPACK_IMPORTED_MODULE_0__.extend)([colord_plugins_lch__WEBPACK_IMPORTED_MODULE_1__["default"]]);
var Color = (function () {
    function Color(cssValue) {
        this.cssValue = cssValue;
        this.color = (0,colord__WEBPACK_IMPORTED_MODULE_0__.colord)(cssValue);
    }
    Color.isLight = function (color) {
        if (typeof color === "string") {
            return new Color(color).isLight();
        }
        return color.isLight();
    };
    Color.fromRGB = function (red, green, blue, alpha) {
        if (alpha === void 0) { alpha = 1; }
        return new Color((0,colord__WEBPACK_IMPORTED_MODULE_0__.colord)({
            r: clamp(red) * 255,
            g: clamp(green) * 255,
            b: clamp(blue) * 255,
            a: alpha,
        }).toHex());
    };
    Color.fromLCH = function (lightness, chroma, hue, alpha) {
        if (alpha === void 0) { alpha = 1; }
        return new Color((0,colord__WEBPACK_IMPORTED_MODULE_0__.colord)({ l: lightness, c: chroma, h: hue, a: alpha }).toHex());
    };
    Color.makeGradient = function (size) {
        var from = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            from[_i - 1] = arguments[_i];
        }
        var colors = [];
        var factor = 1 / (size - 1);
        for (var i = 0; i < size; i++) {
            colors.push(Color.mix.apply(Color, __spreadArray([i * factor], __read(from), false)));
        }
        return colors;
    };
    Color.mix = function (value) {
        var from = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            from[_i - 1] = arguments[_i];
        }
        var inputs = getColors(from);
        var steps = inputs.length - 1;
        if (steps < 0)
            return new Color("#000");
        if (steps === 0)
            return inputs[0];
        var start = Math.min(Math.floor(value * steps), steps - 1);
        var A = inputs[start + 1];
        var B = inputs[start];
        var a = steps * (value - start / steps);
        var b = 1 - a;
        var _a = __read(A.lch, 3), lightnessA = _a[0], chromaA = _a[1], hueA = _a[2];
        var _b = __read(B.lch, 3), lightnessB = _b[0], chromaB = _b[1], hueB = _b[2];
        var lightness = a * lightnessA + b * lightnessB;
        var chroma = a * chromaA + b * chromaB;
        var shiftA = 0;
        var shiftB = 0;
        if (Math.abs(hueA - hueB) > 180) {
            if (hueA < hueB)
                shiftA = 360;
            else
                shiftB = 360;
        }
        var hue = a * (hueA + shiftA) + b * (hueB + shiftB);
        var alpha = a * A.alpha + b * B.alpha;
        return Color.fromLCH(lightness, chroma, hue, alpha);
    };
    Color.prototype.isLight = function () {
        return this.color.isLight();
    };
    Object.defineProperty(Color.prototype, "lch", {
        get: function () {
            var lch = this.color.toLch();
            return [lch.l, lch.c, lch.h];
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Color.prototype, "lcha", {
        get: function () {
            var lch = this.color.toLch();
            return [lch.l, lch.c, lch.h, lch.a];
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Color.prototype, "hue", {
        get: function () {
            return this.color.toLch().h;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Color.prototype, "alpha", {
        get: function () {
            return this.color.alpha();
        },
        enumerable: false,
        configurable: true
    });
    return Color;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Color);
function clamp(value) {
    if (value < 0)
        return 0;
    if (value > 1)
        return 1;
    return value;
}
function getColors(values) {
    return values.map(function (v) { return (typeof v === "string" ? new Color(v) : v); });
}


/***/ }),

/***/ 4586:
/*!********************************!*\
  !*** ./src/ui/styles/color.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "styleColor": () => (/* binding */ styleColor)
/* harmony export */ });
/* harmony import */ var _util_calc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/calc */ 2692);

function styleColor(_a) {
    var color = _a.color, _b = _a.tone, tone = _b === void 0 ? 5 : _b, _c = _a.opacity, opacity = _c === void 0 ? 1 : _c;
    var clampedTone = (0,_util_calc__WEBPACK_IMPORTED_MODULE_0__.clamp)(Math.round(tone), 1, 9);
    var toneSuffix = typeof tone === "number" ? "-".concat(clampedTone) : "";
    var opacitySuffix = opacity < 1 ? "-opacity-".concat((0,_util_calc__WEBPACK_IMPORTED_MODULE_0__.clamp)(Math.round(10 * opacity), 1, 9)) : "";
    return {
        backgroundColor: "var(--theme-color-".concat(color).concat(toneSuffix).concat(opacitySuffix, ")"),
        color: "var(--theme-color-on-".concat(color).concat(toneSuffix, ")"),
    };
}


/***/ }),

/***/ 9397:
/*!***************************************!*\
  !*** ./src/ui/styles/crcumference.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "convertCircumferenceIntoString": () => (/* binding */ convertCircumferenceIntoString)
/* harmony export */ });
function convertCircumferenceIntoString(circumference, unit) {
    if (unit === void 0) { unit = "em"; }
    if (typeof circumference === "string")
        return circumference;
    if (typeof circumference === "number")
        return "".concat(circumference).concat(unit);
    return circumference.map(function (value) { return "".concat(value).concat(unit); }).join(" ");
}


/***/ }),

/***/ 2633:
/*!***********************************!*\
  !*** ./src/ui/styles/overflow.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "styleOverflow": () => (/* binding */ styleOverflow)
/* harmony export */ });
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
function styleOverflow(_a) {
    var overflow = _a.cssOverflow, overflowX = _a.cssOverflowX, overflowY = _a.cssOverflowY;
    var style = {};
    if (overflow) {
        if (typeof overflow === "string") {
            style.overflow = overflow;
            return style;
        }
        var _b = __read(overflow, 2), x = _b[0], y = _b[1];
        style.overflowX = x;
        style.overflowY = y;
        return style;
    }
    if (overflowX)
        style.overflowX = overflowX;
    if (overflowY)
        style.overflowY = overflowY;
    return style;
}


/***/ }),

/***/ 577:
/*!********************************!*\
  !*** ./src/ui/styles/space.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "styleSpace": () => (/* binding */ styleSpace)
/* harmony export */ });
/* harmony import */ var _crcumference__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./crcumference */ 9397);

function styleSpace(_a) {
    var borderRadius = _a.cssBorderRadius, margin = _a.cssMargin, padding = _a.cssPadding;
    var style = {};
    if (borderRadius)
        style.borderRadius = (0,_crcumference__WEBPACK_IMPORTED_MODULE_0__.convertCircumferenceIntoString)(borderRadius);
    if (margin)
        style.margin = (0,_crcumference__WEBPACK_IMPORTED_MODULE_0__.convertCircumferenceIntoString)(margin);
    if (padding)
        style.padding = (0,_crcumference__WEBPACK_IMPORTED_MODULE_0__.convertCircumferenceIntoString)(padding);
    return style;
}


/***/ }),

/***/ 1311:
/*!*******************************!*\
  !*** ./src/ui/theme/index.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _theme__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _theme__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./theme */ 352);



/***/ }),

/***/ 352:
/*!*******************************!*\
  !*** ./src/ui/theme/theme.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../color */ 6836);
var __values = (undefined && undefined.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spreadArray = (undefined && undefined.__spreadArray) || function (to, from, pack) {
    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
        if (ar || !(i in from)) {
            if (!ar) ar = Array.prototype.slice.call(from, 0, i);
            ar[i] = from[i];
        }
    }
    return to.concat(ar || Array.prototype.slice.call(from));
};

var DEFAULT_COLOR_TEXT_LIGHT = "#fffe";
var DEFAULT_COLOR_TEXT_DARK = "#000e";
var DEFAULT_COLOR_PRIMARY = { hue: 215 };
var DEFAULT_COLOR_SECONDARY = { hue: 60 };
var DEFAULT_COLOR_TERTIARY = { hue: 100 };
var DEFAULT_COLOR_NEUTRAL = {
    hue: 61,
    chroma: 0,
    lightness: [50, 100],
};
var DEFAULT_COLOR_INPUT = "#fff";
var DEFAULT_COLOR_ERROR = "#d00";
var DEFAULT_COLOR_VALID = "#0f0";
var Theme = (function () {
    function Theme(_a) {
        var _b = _a === void 0 ? {} : _a, _c = _b.colors, colors = _c === void 0 ? {} : _c;
        var _d, _e, _f, _g, _h, _j, _k, _l, _m;
        this.vars = [];
        this.add("color-text-light", (_d = colors.textLight) !== null && _d !== void 0 ? _d : DEFAULT_COLOR_TEXT_LIGHT);
        this.add("color-text-dark", (_e = colors.textDark) !== null && _e !== void 0 ? _e : DEFAULT_COLOR_TEXT_DARK);
        this.addColor("input", (_f = colors.input) !== null && _f !== void 0 ? _f : DEFAULT_COLOR_INPUT);
        this.addColor("error", (_g = colors.error) !== null && _g !== void 0 ? _g : DEFAULT_COLOR_ERROR);
        this.addColor("valid", (_h = colors.valid) !== null && _h !== void 0 ? _h : DEFAULT_COLOR_VALID);
        this.addColorVars("primary", makeColors((_j = colors.primary) !== null && _j !== void 0 ? _j : DEFAULT_COLOR_PRIMARY));
        this.addColorVars("secondary", makeColors((_k = colors.secondary) !== null && _k !== void 0 ? _k : DEFAULT_COLOR_SECONDARY));
        this.addColorVars("tertiary", makeColors((_l = colors.tertiary) !== null && _l !== void 0 ? _l : DEFAULT_COLOR_TERTIARY));
        this.addColorVars("neutral", makeColors((_m = colors.neutral) !== null && _m !== void 0 ? _m : DEFAULT_COLOR_NEUTRAL));
    }
    Theme.prototype.add = function (name, value) {
        this.vars.push([name, value]);
    };
    Theme.prototype.addColor = function (name, color) {
        this.add("color-".concat(name), color);
        this.add("color-on-".concat(name), "var(--theme-color-text-".concat(_color__WEBPACK_IMPORTED_MODULE_0__["default"].isLight(color) ? "dark" : "light"));
    };
    Theme.prototype.addColorVars = function (name, colors) {
        var e_1, _a;
        var index = 1;
        try {
            for (var colors_1 = __values(colors), colors_1_1 = colors_1.next(); !colors_1_1.done; colors_1_1 = colors_1.next()) {
                var color = colors_1_1.value;
                this.add("color-".concat(name, "-").concat(index), color);
                this.add("color-on-".concat(name, "-").concat(index), "var(--theme-color-text-".concat(_color__WEBPACK_IMPORTED_MODULE_0__["default"].isLight(color) ? "dark" : "light", ")"));
                index++;
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (colors_1_1 && !colors_1_1.done && (_a = colors_1.return)) _a.call(colors_1);
            }
            finally { if (e_1) throw e_1.error; }
        }
        this.add("color-".concat(name), "var(--theme-color-".concat(name, "-5)"));
    };
    Theme.prototype.apply = function (element) {
        var e_2, _a;
        var _b;
        var target = element !== null && element !== void 0 ? element : (_b = globalThis.window) === null || _b === void 0 ? void 0 : _b.document.body;
        if (target) {
            try {
                for (var _c = __values(this.vars), _d = _c.next(); !_d.done; _d = _c.next()) {
                    var _e = __read(_d.value, 2), key = _e[0], val = _e[1];
                    target.style.setProperty("--theme-".concat(key), val);
                }
            }
            catch (e_2_1) { e_2 = { error: e_2_1 }; }
            finally {
                try {
                    if (_d && !_d.done && (_a = _c.return)) _a.call(_c);
                }
                finally { if (e_2) throw e_2.error; }
            }
        }
    };
    return Theme;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Theme);
function makeColors(colorDef) {
    var colors = convertThemeColorIntoArray(colorDef);
    var output = _color__WEBPACK_IMPORTED_MODULE_0__["default"].makeGradient.apply(_color__WEBPACK_IMPORTED_MODULE_0__["default"], __spreadArray([9], __read(colors), false)).map(function (color) { return color.cssValue; });
    return output;
}
function convertThemeColorIntoArray(colorDef) {
    var _a, _b;
    if (Array.isArray(colorDef))
        return colorDef;
    var _c = __read(ensurePair(colorDef.hue), 2), hue1 = _c[0], hue2 = _c[1];
    var _d = __read(ensurePair((_a = colorDef.chroma) !== null && _a !== void 0 ? _a : [200, 50]), 2), chroma1 = _d[0], chroma2 = _d[1];
    var _e = __read(ensurePair((_b = colorDef.lightness) !== null && _b !== void 0 ? _b : [5, 100]), 2), lightness1 = _e[0], lightness2 = _e[1];
    return [
        _color__WEBPACK_IMPORTED_MODULE_0__["default"].fromLCH(lightness1, chroma1, hue1).cssValue,
        _color__WEBPACK_IMPORTED_MODULE_0__["default"].fromLCH(lightness2, chroma2, hue2).cssValue,
    ];
}
function ensurePair(value) {
    if (Array.isArray(value))
        return value;
    return [value, value];
}


/***/ }),

/***/ 2692:
/*!*****************************!*\
  !*** ./src/ui/util/calc.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "clamp": () => (/* binding */ clamp)
/* harmony export */ });
function clamp(value, min, max) {
    if (min === void 0) { min = 0; }
    if (max === void 0) { max = 1; }
    if (value < min)
        return min;
    if (value > max)
        return max;
    return value;
}


/***/ }),

/***/ 2211:
/*!*******************************!*\
  !*** ./src/ui/view/panel.tsx ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "makeCustomPanel": () => (/* binding */ makeCustomPanel)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 7294);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _styles_color__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../styles/color */ 4586);
/* harmony import */ var _styles_overflow__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../styles/overflow */ 2633);
/* harmony import */ var _styles_space__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../styles/space */ 577);
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};




function Panel(props) {
    var style = __assign(__assign(__assign({}, (0,_styles_color__WEBPACK_IMPORTED_MODULE_1__.styleColor)(props)), (0,_styles_space__WEBPACK_IMPORTED_MODULE_3__.styleSpace)(props)), (0,_styles_overflow__WEBPACK_IMPORTED_MODULE_2__.styleOverflow)(props));
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: props.className, style: style }, props.children));
}
function makeCustomPanel(defaultProps) {
    return function (props) {
        return Panel(__assign(__assign({}, defaultProps), props));
    };
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Panel);


/***/ }),

/***/ 3349:
/*!************************!*\
  !*** ../dist/index.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Scene": () => (/* reexport safe */ _scene__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _scene__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./scene */ 846);

//# sourceMappingURL=index.js.map

/***/ }),

/***/ 170:
/*!*****************************!*\
  !*** ../dist/move/index.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "makeMoveJump": () => (/* reexport safe */ _jump__WEBPACK_IMPORTED_MODULE_0__.makeMoveJump)
/* harmony export */ });
/* harmony import */ var _jump__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./jump */ 7879);

//# sourceMappingURL=index.js.map

/***/ }),

/***/ 7879:
/*!****************************!*\
  !*** ../dist/move/jump.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "makeMoveJump": () => (/* binding */ makeMoveJump)
/* harmony export */ });
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
function makeMoveJump(options) {
    var _a = __assign({ duration: 300, height: 1 }, options), duration = _a.duration, height = _a.height;
    var radius = height;
    var scale = Math.PI / duration;
    return function (time) { return radius * Math.abs(Math.sin(time * scale)); };
}
//# sourceMappingURL=jump.js.map

/***/ }),

/***/ 3554:
/*!********************************!*\
  !*** ../dist/painter/array.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var PainterArray = (function () {
    function PainterArray() {
        this.enabled = true;
        this.containers = [];
        this.scene = null;
    }
    PainterArray.prototype.add = function () {
        var painters = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            painters[_i] = arguments[_i];
        }
        for (var _a = 0, painters_1 = painters; _a < painters_1.length; _a++) {
            var painter = painters_1[_a];
            this.containers.push({
                painter: painter,
                status: ContainerStatusEnum.Created,
            });
        }
    };
    PainterArray.prototype.initialize = function (scene) {
        return __awaiter(this, void 0, void 0, function () {
            var _i, _a, container, working;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _i = 0, _a = this.containers;
                        _b.label = 1;
                    case 1:
                        if (!(_i < _a.length)) return [3, 4];
                        container = _a[_i];
                        if (container.status !== ContainerStatusEnum.Created)
                            return [3, 3];
                        container.status = ContainerStatusEnum.Initializing;
                        return [4, container.painter.initialize(scene)];
                    case 2:
                        working = _b.sent();
                        container.status = working
                            ? ContainerStatusEnum.Initialized
                            : ContainerStatusEnum.Broken;
                        _b.label = 3;
                    case 3:
                        _i++;
                        return [3, 1];
                    case 4: return [2, true];
                }
            });
        });
    };
    PainterArray.prototype.destroy = function (scene) {
        for (var _i = 0, _a = this.containers; _i < _a.length; _i++) {
            var container = _a[_i];
            container.painter.destroy(scene);
            container.status = ContainerStatusEnum.Destroyed;
        }
    };
    PainterArray.prototype.draw = function (time, delay, scene) {
        if (!this.enabled)
            return;
        for (var _i = 0, _a = this.containers; _i < _a.length; _i++) {
            var container = _a[_i];
            if (container.status !== ContainerStatusEnum.Initialized)
                continue;
            container.painter.draw(time, delay, scene);
        }
    };
    PainterArray.prototype.play = function (time, delay, scene) {
        if (!this.enabled)
            return;
        var needInitialization = false;
        for (var _i = 0, _a = this.containers; _i < _a.length; _i++) {
            var container = _a[_i];
            if (container.status !== ContainerStatusEnum.Initialized)
                continue;
            container.painter.play(time, delay, scene);
        }
        if (needInitialization) {
            var scene_1 = this.scene;
            if (scene_1)
                void this.initialize(scene_1);
        }
    };
    return PainterArray;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PainterArray);
var ContainerStatusEnum;
(function (ContainerStatusEnum) {
    ContainerStatusEnum[ContainerStatusEnum["Created"] = 0] = "Created";
    ContainerStatusEnum[ContainerStatusEnum["Initializing"] = 1] = "Initializing";
    ContainerStatusEnum[ContainerStatusEnum["Initialized"] = 2] = "Initialized";
    ContainerStatusEnum[ContainerStatusEnum["Broken"] = 3] = "Broken";
    ContainerStatusEnum[ContainerStatusEnum["Destroyed"] = 4] = "Destroyed";
})(ContainerStatusEnum || (ContainerStatusEnum = {}));
//# sourceMappingURL=array.js.map

/***/ }),

/***/ 5211:
/*!********************************!*\
  !*** ../dist/painter/clear.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var PainterClear = (function () {
    function PainterClear(options) {
        this.options = options;
        this.gl = null;
        this.clearMask = 0;
    }
    PainterClear.prototype.setClearColor = function (red, green, blue, alpha) {
        var gl = this.gl;
        if (!gl)
            return;
        gl.clearColor(red, green, blue, alpha);
    };
    PainterClear.prototype.initialize = function (scene) {
        this.gl = scene.gl;
        var _a = this, gl = _a.gl, options = _a.options;
        if (options.color) {
            this.clearMask |= gl.COLOR_BUFFER_BIT;
            gl.clearColor.apply(gl, options.color);
        }
        return new Promise(function (resolve) { return resolve(true); });
    };
    PainterClear.prototype.destroy = function () { };
    PainterClear.prototype.draw = function (_time, _delay) {
        var _a = this, clearMask = _a.clearMask, gl = _a.gl;
        if (!gl)
            return;
        if (clearMask > 0)
            gl.clear(clearMask);
    };
    PainterClear.prototype.play = function (_time, _delay) { };
    return PainterClear;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PainterClear);
//# sourceMappingURL=clear.js.map

/***/ }),

/***/ 9404:
/*!********************************!*\
  !*** ../dist/painter/logic.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var PainterLogic = (function () {
    function PainterLogic(logicFunction) {
        this.logicFunction = logicFunction;
    }
    PainterLogic.prototype.initialize = function (scene) {
        return new Promise(function (resolve) { return resolve(true); });
    };
    PainterLogic.prototype.destroy = function () { };
    PainterLogic.prototype.draw = function (time, delay) { };
    PainterLogic.prototype.play = function (time, delay) {
        this.logicFunction(time, delay);
    };
    return PainterLogic;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PainterLogic);
//# sourceMappingURL=logic.js.map

/***/ }),

/***/ 7990:
/*!************************************!*\
  !*** ../dist/scene/asset/asset.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ref_map__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ref-map */ 5507);

var Asset = (function () {
    function Asset() {
        this.images = new _ref_map__WEBPACK_IMPORTED_MODULE_0__["default"]();
    }
    Asset.prototype.createImage = function (src) {
        var key = src;
        return this.images.add(key, function () {
            var image = new Image();
            image.loading = "eager";
            return {
                type: "TgdAssetImage",
                key: key,
                image: image,
                isSuccessfullyLoaded: new Promise(function (resolve) {
                    image.src = src;
                    image.onload = function () { return resolve(true); };
                    image.onerror = function () { return resolve(false); };
                }),
            };
        });
    };
    Asset.prototype.destroyImage = function (asset) {
        this.images.delete(asset.key);
    };
    return Asset;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Asset);
//# sourceMappingURL=asset.js.map

/***/ }),

/***/ 8671:
/*!************************************!*\
  !*** ../dist/scene/asset/index.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _asset__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _asset__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./asset */ 7990);

//# sourceMappingURL=index.js.map

/***/ }),

/***/ 846:
/*!******************************!*\
  !*** ../dist/scene/index.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _scene__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _scene__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./scene */ 9303);

//# sourceMappingURL=index.js.map

/***/ }),

/***/ 9143:
/*!***********************************************!*\
  !*** ../dist/scene/program/create-program.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createProgram": () => (/* binding */ createProgram)
/* harmony export */ });
function createProgram(gl, vert, frag) {
    var prg = gl.createProgram();
    if (!prg)
        throw Error("Unable to create WebGL Program!");
    var vertShader = gl.createShader(gl.VERTEX_SHADER);
    if (!vertShader)
        throw Error("Unable to create a Vertex Shader handle!");
    gl.shaderSource(vertShader, vert);
    gl.compileShader(vertShader);
    gl.attachShader(prg, vertShader);
    var fragShader = gl.createShader(gl.FRAGMENT_SHADER);
    if (!fragShader)
        throw Error("Unable to create a Fragment Shader handle!");
    gl.shaderSource(fragShader, frag);
    gl.compileShader(fragShader);
    gl.attachShader(prg, fragShader);
    gl.linkProgram(prg);
    return prg;
}
//# sourceMappingURL=create-program.js.map

/***/ }),

/***/ 7032:
/*!************************************************!*\
  !*** ../dist/scene/program/program-manager.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ref_map__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ref-map */ 5507);
/* harmony import */ var _create_program__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./create-program */ 9143);


var ProgramManager = (function () {
    function ProgramManager(gl) {
        this.gl = gl;
        this.programs = new _ref_map__WEBPACK_IMPORTED_MODULE_0__["default"]();
    }
    ProgramManager.prototype.create = function (options) {
        var gl = this.gl;
        var key = "".concat(options.fragmentShaderCode, "\n").concat(options.vertexShaderCode);
        return this.programs.add(key, function () {
            var program = (0,_create_program__WEBPACK_IMPORTED_MODULE_1__.createProgram)(gl, options.vertexShaderCode, options.fragmentShaderCode);
            return {
                type: "TgdProgram",
                key: key,
                program: program,
                use: function () {
                    gl.useProgram(program);
                },
            };
        });
    };
    ProgramManager.prototype.destroy = function (_a) {
        var key = _a.key;
        var program = this.programs.delete(key);
        if (!program)
            return;
        this.gl.deleteProgram(program);
    };
    return ProgramManager;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ProgramManager);
//# sourceMappingURL=program-manager.js.map

/***/ }),

/***/ 5507:
/*!********************************!*\
  !*** ../dist/scene/ref-map.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var RefMap = (function () {
    function RefMap() {
        this.map = new Map();
        this.count = new Map();
    }
    RefMap.prototype.add = function (key, factory) {
        var _a = this, map = _a.map, count = _a.count;
        if (count.has(key)) {
            count.set(key, 1 + count.get(key));
            var curVal = map.get(key);
            if (!curVal)
                throw Error("[CountMap] Map should not be empty!");
            return curVal;
        }
        var newVal = factory();
        map.set(key, newVal);
        count.set(key, 1);
    };
    RefMap.prototype.addAsync = function (key, factory) {
        return __awaiter(this, void 0, void 0, function () {
            var _a, map, count, curVal, newVal;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _a = this, map = _a.map, count = _a.count;
                        if (count.has(key)) {
                            count.set(key, 1 + count.get(key));
                            curVal = map.get(key);
                            if (!curVal)
                                throw Error("[CountMap] Map should not be empty!");
                            return [2, curVal];
                        }
                        return [4, factory()];
                    case 1:
                        newVal = _b.sent();
                        map.set(key, newVal);
                        count.set(key, 1);
                        return [2];
                }
            });
        });
    };
    RefMap.prototype.delete = function (key) {
        var _a = this, map = _a.map, count = _a.count;
        if (!map.has(key))
            return;
        var newCount = count.get(key) - 1;
        if (newCount > 0) {
            count.set(key, newCount);
            return;
        }
        var value = map.get(key);
        map.delete(key);
        count.delete(key);
        return value;
    };
    return RefMap;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RefMap);
//# sourceMappingURL=ref-map.js.map

/***/ }),

/***/ 9303:
/*!******************************!*\
  !*** ../dist/scene/scene.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _painter_array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../painter/array */ 3554);
/* harmony import */ var _asset__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./asset */ 8671);
/* harmony import */ var _texture_texture_manager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./texture/texture-manager */ 9264);
/* harmony import */ var _program_program_manager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./program/program-manager */ 7032);
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};




var Scene = (function () {
    function Scene(canvas, options) {
        var _this = this;
        this.canvas = canvas;
        this.painters = new _painter_array__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.isAnimated = false;
        this.lastCanvasWidth = 0;
        this.lastCanvasHeight = 0;
        this.lastTime = -1;
        this._screenRatio = 1;
        this.paint = function (time) {
            var _a = _this, gl = _a.gl, lastCanvasWidth = _a.lastCanvasWidth, lastCanvasHeight = _a.lastCanvasHeight, lastTime = _a.lastTime;
            if (lastTime < 0) {
                _this.lastTime = time;
                _this.draw();
                return;
            }
            var canvas = gl.canvas;
            var dpr = window.devicePixelRatio;
            var expectedWidth = Math.max(1, Math.round(canvas.clientWidth * dpr));
            var expectedheight = Math.max(1, Math.round(canvas.clientHeight * dpr));
            if (lastCanvasWidth !== expectedWidth ||
                lastCanvasHeight !== expectedheight) {
                canvas.width = expectedWidth;
                canvas.height = expectedheight;
                _this.lastCanvasWidth = expectedWidth;
                _this.lastCanvasHeight = expectedheight;
                gl.viewport(0, 0, expectedWidth, expectedheight);
                _this.screenRatio = expectedWidth / expectedheight;
            }
            var delay = time - _this.lastTime;
            _this.lastTime = time;
            _this.painters.draw(time, delay, _this);
            _this.painters.play(time, delay, _this);
            if (_this.isAnimated)
                _this.draw();
        };
        var gl = canvas.getContext("webgl2", options);
        if (!gl)
            throw Error("Unable to create a WebGL2 context!");
        this.gl = gl;
        this.asset = new _asset__WEBPACK_IMPORTED_MODULE_1__["default"]();
        this.program = new _program_program_manager__WEBPACK_IMPORTED_MODULE_3__["default"](gl);
        this.texture = new _texture_texture_manager__WEBPACK_IMPORTED_MODULE_2__["default"](gl);
    }
    Object.defineProperty(Scene.prototype, "screenRatio", {
        get: function () {
            return this._screenRatio;
        },
        set: function (value) {
            this._screenRatio = value;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Scene.prototype, "width", {
        get: function () {
            return this.lastCanvasWidth;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Scene.prototype, "height", {
        get: function () {
            return this.lastCanvasHeight;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Scene.prototype, "animate", {
        get: function () {
            return this.isAnimated;
        },
        set: function (value) {
            if (this.isAnimated === value)
                return;
            this.isAnimated = value;
            if (value)
                this.draw();
        },
        enumerable: false,
        configurable: true
    });
    Scene.prototype.addPainter = function () {
        var painters = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            painters[_i] = arguments[_i];
        }
        return __awaiter(this, void 0, void 0, function () {
            var _a, painters_1, painter;
            return __generator(this, function (_b) {
                for (_a = 0, painters_1 = painters; _a < painters_1.length; _a++) {
                    painter = painters_1[_a];
                    this.painters.add(painter);
                }
                return [2];
            });
        });
    };
    Scene.prototype.draw = function () {
        window.requestAnimationFrame(this.paint);
    };
    Scene.prototype.initialize = function () {
        return this.painters.initialize(this);
    };
    Scene.prototype.destroy = function () {
        this.painters.destroy(this);
    };
    return Scene;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Scene);
//# sourceMappingURL=scene.js.map

/***/ }),

/***/ 9264:
/*!************************************************!*\
  !*** ../dist/scene/texture/texture-manager.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ref_map__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ref-map */ 5507);

var TextureManager = (function () {
    function TextureManager(gl) {
        this.gl = gl;
        this.textures = new _ref_map__WEBPACK_IMPORTED_MODULE_0__["default"]();
    }
    TextureManager.prototype.createFromAsset = function (asset, _a) {
        var _b = _a === void 0 ? {} : _a, _c = _b.placeholder, placeholder = _c === void 0 ? [0, 0, 0, 0] : _c;
        var gl = this.gl;
        var key = asset.key;
        return this.textures.add(key, function () {
            var texture = gl.createTexture();
            gl.bindTexture(gl.TEXTURE_2D, texture);
            var level = 0;
            var internalFormat = gl.RGBA;
            var width = 1;
            var height = 1;
            var border = 0;
            var srcFormat = gl.RGBA;
            var srcType = gl.UNSIGNED_BYTE;
            var pixel = new Uint8Array(placeholder);
            gl.texImage2D(gl.TEXTURE_2D, level, internalFormat, width, height, border, srcFormat, srcType, pixel);
            asset.isSuccessfullyLoaded.then(function (success) {
                if (!success)
                    return;
                gl.bindTexture(gl.TEXTURE_2D, texture);
                gl.texImage2D(gl.TEXTURE_2D, level, internalFormat, srcFormat, srcType, asset.image);
            });
            return {
                type: "TgdTexture",
                key: key,
                texture: texture,
            };
        });
    };
    TextureManager.prototype.destroy = function (_a) {
        var key = _a.key;
        var texture = this.textures.delete(key);
        if (!texture)
            return;
        this.gl.deleteTexture(texture.texture);
    };
    return TextureManager;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TextureManager);
//# sourceMappingURL=texture-manager.js.map

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ __webpack_require__.O(0, ["libs"], () => (__webpack_exec__(2661), __webpack_exec__(6952), __webpack_exec__(5796)));
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ }
]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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U0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSx5QkFBeUIsdUJBQXVCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0Qsd0JBQXdCO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGlFQUFlLEtBQUssRUFBQztBQUNyQjs7Ozs7Ozs7Ozs7Ozs7O0FDdkpnQztBQUNoQztBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsZ0RBQU07QUFDbEM7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxpRUFBZSxjQUFjLEVBQUM7QUFDOUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3BhZ2VzL3RoZW1lL3RoZW1lLm1vZHVsZS5jc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmNzcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3BhZ2VzL3RoZW1lL3RoZW1lLm1vZHVsZS5jc3M/MDA5MCIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguY3NzPzM1MjEiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9pbmRleC50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9wYWdlcy9pbmRleC50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9wYWdlcy90aGVtZS9pbmRleC50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvc2NlbmUvc2NlbmUudHN4Iiwid2VicGFjazovLy8uL3NyYy9pbmRleC50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL3VpL2NvbG9yLnRzIiwid2VicGFjazovLy8uL3NyYy91aS9zdHlsZXMvY29sb3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3VpL3N0eWxlcy9jcmN1bWZlcmVuY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3VpL3N0eWxlcy9vdmVyZmxvdy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdWkvc3R5bGVzL3NwYWNlLnRzIiwid2VicGFjazovLy8uL3NyYy91aS90aGVtZS9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdWkvdGhlbWUvdGhlbWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3VpL3V0aWwvY2FsYy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdWkvdmlldy9wYW5lbC50c3giLCJ3ZWJwYWNrOi8vLy4uL2Rpc3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4uL2Rpc3QvbW92ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vZGlzdC9tb3ZlL2p1bXAuanMiLCJ3ZWJwYWNrOi8vLy4uL2Rpc3QvcGFpbnRlci9hcnJheS5qcyIsIndlYnBhY2s6Ly8vLi4vZGlzdC9wYWludGVyL2NsZWFyLmpzIiwid2VicGFjazovLy8uLi9kaXN0L3BhaW50ZXIvbG9naWMuanMiLCJ3ZWJwYWNrOi8vLy4uL2Rpc3Qvc2NlbmUvYXNzZXQvYXNzZXQuanMiLCJ3ZWJwYWNrOi8vLy4uL2Rpc3Qvc2NlbmUvYXNzZXQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4uL2Rpc3Qvc2NlbmUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4uL2Rpc3Qvc2NlbmUvcHJvZ3JhbS9jcmVhdGUtcHJvZ3JhbS5qcyIsIndlYnBhY2s6Ly8vLi4vZGlzdC9zY2VuZS9wcm9ncmFtL3Byb2dyYW0tbWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi4vZGlzdC9zY2VuZS9yZWYtbWFwLmpzIiwid2VicGFjazovLy8uLi9kaXN0L3NjZW5lL3NjZW5lLmpzIiwid2VicGFjazovLy8uLi9kaXN0L3NjZW5lL3RleHR1cmUvdGV4dHVyZS1tYW5hZ2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiLkQzRURTN1Q3UEdsVTdkN0pLS0tnIHtcXG4gICAgZGlzcGxheTogZ3JpZDtcXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoNSwgMWZyKTtcXG4gICAgZ2FwOiAwLjI1ZW07XFxufVxcblxcbi5EM0VEUzdUN1BHbFU3ZDdKS0tLZyA+IGRpdiB7XFxuICAgIGJveC1zaGFkb3c6IDAgMnB4IDRweCAjMDAwYTtcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG5cXG4uSzhCeHpVWG1HSGFXa0x4SUtRYW0ge1xcbiAgICBncmlkLWNvbHVtbjogMS8yO1xcbn1cXG5cXG4uRFRDMVpkVnpGWGV6SkY5VkRkbEEge1xcbiAgICBncmlkLWNvbHVtbjogMi8zO1xcbn1cXG5cXG4uUjlaNTRpOU11UGZNX3VrOTQ4OHcge1xcbiAgICBncmlkLWNvbHVtbjogMy80O1xcbn1cXG5cXG4uUldZSENlZjNncnF3UEVLM252WkMge1xcbiAgICBncmlkLWNvbHVtbjogNC81O1xcbn1cXG5cXG4uS3JmZEc5Zms0UnVtcDQzOXpyVUwge1xcbiAgICBncmlkLWNvbHVtbjogNS82O1xcbn1cXG5cXG4uSXpWdVFCaG9ESlpha29TWXpzM0kge1xcbiAgICBncmlkLXJvdzogMi8zO1xcbn1cXG5cXG4uWlY5bmxNMHFVeHVJYlJaZlM5QUMge1xcbiAgICBncmlkLXJvdzogMy80O1xcbn1cXG5cXG4uTWtYT3ZhTFExQTBjYnpqVWw3SHoge1xcbiAgICBncmlkLXJvdzogNC81O1xcbn1cXG5cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvYXBwL3BhZ2VzL3RoZW1lL3RoZW1lLm1vZHVsZS5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7SUFDSSxhQUFhO0lBQ2IscUNBQXFDO0lBQ3JDLFdBQVc7QUFDZjs7QUFFQTtJQUNJLDJCQUEyQjtJQUMzQixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxnQkFBZ0I7QUFDcEI7O0FBRUE7SUFFSSxhQUFhO0FBQ2pCOztBQUVBO0lBRUksYUFBYTtBQUNqQjs7QUFFQTtJQUVJLGFBQWE7QUFDakJcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLnRoZW1lUGFnZSB7XFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDUsIDFmcik7XFxuICAgIGdhcDogMC4yNWVtO1xcbn1cXG5cXG4udGhlbWVQYWdlID4gZGl2IHtcXG4gICAgYm94LXNoYWRvdzogMCAycHggNHB4ICMwMDBhO1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcblxcbi5uZXV0cmFsIHtcXG4gICAgZ3JpZC1jb2x1bW46IDEvMjtcXG59XFxuXFxuLnByaW1hcnkge1xcbiAgICBncmlkLWNvbHVtbjogMi8zO1xcbn1cXG5cXG4uc2Vjb25kYXJ5IHtcXG4gICAgZ3JpZC1jb2x1bW46IDMvNDtcXG59XFxuXFxuLnRlcnRpYXJ5IHtcXG4gICAgZ3JpZC1jb2x1bW46IDQvNTtcXG59XFxuXFxuLm90aGVyIHtcXG4gICAgZ3JpZC1jb2x1bW46IDUvNjtcXG59XFxuXFxuLnJvdzIge1xcbiAgICBjb21wb3Nlczogb3RoZXI7XFxuICAgIGdyaWQtcm93OiAyLzM7XFxufVxcblxcbi5yb3czIHtcXG4gICAgY29tcG9zZXM6IG90aGVyO1xcbiAgICBncmlkLXJvdzogMy80O1xcbn1cXG5cXG4ucm93NCB7XFxuICAgIGNvbXBvc2VzOiBvdGhlcjtcXG4gICAgZ3JpZC1yb3c6IDQvNTtcXG59XFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5sb2NhbHMgPSB7XG5cdFwidGhlbWVQYWdlXCI6IFwiRDNFRFM3VDdQR2xVN2Q3SktLS2dcIixcblx0XCJuZXV0cmFsXCI6IFwiSzhCeHpVWG1HSGFXa0x4SUtRYW1cIixcblx0XCJwcmltYXJ5XCI6IFwiRFRDMVpkVnpGWGV6SkY5VkRkbEFcIixcblx0XCJzZWNvbmRhcnlcIjogXCJSOVo1NGk5TXVQZk1fdWs5NDg4d1wiLFxuXHRcInRlcnRpYXJ5XCI6IFwiUldZSENlZjNncnF3UEVLM252WkNcIixcblx0XCJvdGhlclwiOiBcIktyZmRHOWZrNFJ1bXA0Mzl6clVMXCIsXG5cdFwicm93MlwiOiBcIkl6VnVRQmhvREpaYWtvU1l6czNJIEtyZmRHOWZrNFJ1bXA0Mzl6clVMXCIsXG5cdFwicm93M1wiOiBcIlpWOW5sTTBxVXh1SWJSWmZTOUFDIEtyZmRHOWZrNFJ1bXA0Mzl6clVMXCIsXG5cdFwicm93NFwiOiBcIk1rWE92YUxRMUEwY2J6alVsN0h6IEtyZmRHOWZrNFJ1bXA0Mzl6clVMXCJcbn07XG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiaHRtbCB7XFxuICAgIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmO1xcbiAgICBmb250LXNpemU6IDE2cHg7XFxufVxcblxcbmJvZHkge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS10aGVtZS1jb2xvci1uZXV0cmFsKTtcXG4gICAgY29sb3I6IHZhcigtLXRoZW1lLWNvbG9yLW9uLW5ldXRyYWwpO1xcbn1cXG5cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvaW5kZXguY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0lBQ0ksdUJBQXVCO0lBQ3ZCLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSw0Q0FBNEM7SUFDNUMsb0NBQW9DO0FBQ3hDXCIsXCJzb3VyY2VzQ29udGVudFwiOltcImh0bWwge1xcbiAgICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcXG4gICAgZm9udC1zaXplOiAxNnB4O1xcbn1cXG5cXG5ib2R5IHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tdGhlbWUtY29sb3ItbmV1dHJhbCk7XFxuICAgIGNvbG9yOiB2YXIoLS10aGVtZS1jb2xvci1vbi1uZXV0cmFsKTtcXG59XFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5sb2NhbHMgPSB7fTtcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFsxXS5ydWxlc1sxXS51c2VbMV0hLi90aGVtZS5tb2R1bGUuY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5cbiAgICAgIG9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG4gICAgXG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cbmlmIChtb2R1bGUuaG90KSB7XG4gIGlmICghY29udGVudC5sb2NhbHMgfHwgbW9kdWxlLmhvdC5pbnZhbGlkYXRlKSB7XG4gICAgdmFyIGlzRXF1YWxMb2NhbHMgPSBmdW5jdGlvbiBpc0VxdWFsTG9jYWxzKGEsIGIsIGlzTmFtZWRFeHBvcnQpIHtcbiAgaWYgKCFhICYmIGIgfHwgYSAmJiAhYikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBwO1xuXG4gIGZvciAocCBpbiBhKSB7XG4gICAgaWYgKGlzTmFtZWRFeHBvcnQgJiYgcCA9PT0gXCJkZWZhdWx0XCIpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250aW51ZVxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKGFbcF0gIT09IGJbcF0pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBmb3IgKHAgaW4gYikge1xuICAgIGlmIChpc05hbWVkRXhwb3J0ICYmIHAgPT09IFwiZGVmYXVsdFwiKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmICghYVtwXSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcbiAgICB2YXIgaXNOYW1lZEV4cG9ydCA9ICFjb250ZW50LmxvY2FscztcbiAgICB2YXIgb2xkTG9jYWxzID0gaXNOYW1lZEV4cG9ydCA/IG5hbWVkRXhwb3J0IDogY29udGVudC5sb2NhbHM7XG5cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcbiAgICAgIFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFsxXS5ydWxlc1sxXS51c2VbMV0hLi90aGVtZS5tb2R1bGUuY3NzXCIsXG4gICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghaXNFcXVhbExvY2FscyhvbGRMb2NhbHMsIGlzTmFtZWRFeHBvcnQgPyBuYW1lZEV4cG9ydCA6IGNvbnRlbnQubG9jYWxzLCBpc05hbWVkRXhwb3J0KSkge1xuICAgICAgICAgICAgICAgIG1vZHVsZS5ob3QuaW52YWxpZGF0ZSgpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgb2xkTG9jYWxzID0gaXNOYW1lZEV4cG9ydCA/IG5hbWVkRXhwb3J0IDogY29udGVudC5sb2NhbHM7XG5cbiAgICAgICAgICAgICAgdXBkYXRlKGNvbnRlbnQpO1xuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHtcbiAgICB1cGRhdGUoKTtcbiAgfSk7XG59XG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMV0ucnVsZXNbMV0udXNlWzFdIS4vdGhlbWUubW9kdWxlLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMV0ucnVsZXNbMV0udXNlWzFdIS4vaW5kZXguY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5cbiAgICAgIG9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG4gICAgXG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cbmlmIChtb2R1bGUuaG90KSB7XG4gIGlmICghY29udGVudC5sb2NhbHMgfHwgbW9kdWxlLmhvdC5pbnZhbGlkYXRlKSB7XG4gICAgdmFyIGlzRXF1YWxMb2NhbHMgPSBmdW5jdGlvbiBpc0VxdWFsTG9jYWxzKGEsIGIsIGlzTmFtZWRFeHBvcnQpIHtcbiAgaWYgKCFhICYmIGIgfHwgYSAmJiAhYikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBwO1xuXG4gIGZvciAocCBpbiBhKSB7XG4gICAgaWYgKGlzTmFtZWRFeHBvcnQgJiYgcCA9PT0gXCJkZWZhdWx0XCIpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250aW51ZVxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKGFbcF0gIT09IGJbcF0pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBmb3IgKHAgaW4gYikge1xuICAgIGlmIChpc05hbWVkRXhwb3J0ICYmIHAgPT09IFwiZGVmYXVsdFwiKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmICghYVtwXSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcbiAgICB2YXIgaXNOYW1lZEV4cG9ydCA9ICFjb250ZW50LmxvY2FscztcbiAgICB2YXIgb2xkTG9jYWxzID0gaXNOYW1lZEV4cG9ydCA/IG5hbWVkRXhwb3J0IDogY29udGVudC5sb2NhbHM7XG5cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcbiAgICAgIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFsxXS5ydWxlc1sxXS51c2VbMV0hLi9pbmRleC5jc3NcIixcbiAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFpc0VxdWFsTG9jYWxzKG9sZExvY2FscywgaXNOYW1lZEV4cG9ydCA/IG5hbWVkRXhwb3J0IDogY29udGVudC5sb2NhbHMsIGlzTmFtZWRFeHBvcnQpKSB7XG4gICAgICAgICAgICAgICAgbW9kdWxlLmhvdC5pbnZhbGlkYXRlKCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBvbGRMb2NhbHMgPSBpc05hbWVkRXhwb3J0ID8gbmFtZWRFeHBvcnQgOiBjb250ZW50LmxvY2FscztcblxuICAgICAgICAgICAgICB1cGRhdGUoY29udGVudCk7XG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkge1xuICAgIHVwZGF0ZSgpO1xuICB9KTtcbn1cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFsxXS5ydWxlc1sxXS51c2VbMV0hLi9pbmRleC5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IGNyZWF0ZUJyb3dzZXJSb3V0ZXIsIFJvdXRlclByb3ZpZGVyIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIlxuaW1wb3J0IFBhZ2UgZnJvbSBcIi4vcGFnZXNcIlxuaW1wb3J0IFBhZ2VUaGVtZSBmcm9tIFwiLi9wYWdlcy90aGVtZVwiXG5cbmNvbnN0IHJvdXRlciA9IGNyZWF0ZUJyb3dzZXJSb3V0ZXIoXG4gICAgW1xuICAgICAgICB7XG4gICAgICAgICAgICBwYXRoOiBcIi9cIixcbiAgICAgICAgICAgIGVsZW1lbnQ6IDxQYWdlIC8+LFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBwYXRoOiBcInRoZW1lXCIsXG4gICAgICAgICAgICBlbGVtZW50OiA8UGFnZVRoZW1lIC8+LFxuICAgICAgICB9LFxuICAgIF0sXG4gICAge1xuICAgICAgICBiYXNlbmFtZTogd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnN0YXJ0c1dpdGgoXCIvdGdkMlwiKSA/IFwiL3RnZDJcIiA6IFwiXCIsXG4gICAgfVxuKVxuXG5jb25zb2xlLmxvZyhcIvCfmoAgW2luZGV4XSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPSBcIiwgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lKSAvLyBARklYTUU6IFJlbW92ZSB0aGlzIGxpbmUgd3JpdHRlbiBvbiAyMDIyLTExLTE4IGF0IDE3OjI3XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFwcCgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8UmVhY3QuU3RyaWN0TW9kZT5cbiAgICAgICAgICAgIDxSb3V0ZXJQcm92aWRlciByb3V0ZXI9e3JvdXRlcn0gLz5cbiAgICAgICAgPC9SZWFjdC5TdHJpY3RNb2RlPlxuICAgIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgTGluayB9IGZyb20gXCJyZWFjdC1yb3V0ZXItZG9tXCJcbmltcG9ydCBTY2VuZVZpZXcgZnJvbSBcIkAvY29tcG9uZW50cy9zY2VuZS9zY2VuZVwiXG5pbXBvcnQgUGFpbnRlckNsZWFyIGZyb20gXCJ0Z2QyL3BhaW50ZXIvY2xlYXJcIlxuaW1wb3J0IFBhaW50ZXJMb2dpYyBmcm9tIFwidGdkMi9wYWludGVyL2xvZ2ljXCJcbmltcG9ydCB7IFBhaW50ZXJJbnRlcmZhY2UgfSBmcm9tIFwidGdkMi9wYWludGVyL3BhaW50ZXItaW50ZXJmYWNlXCJcbmltcG9ydCB7IG1ha2VNb3ZlSnVtcCB9IGZyb20gXCJ0Z2QyL21vdmVcIlxuaW1wb3J0IHsgbWFrZURhdGEgfSBmcm9tIFwidGdkMi9kYXRhXCJcbmltcG9ydCB7IFNjZW5lIH0gZnJvbSBcInRnZDJcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBIb21lKCkge1xuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8TGluayB0bz1cInRoZW1lXCI+VGhlbWU8L0xpbms+XG4gICAgICAgICAgICA8U2NlbmVWaWV3XG4gICAgICAgICAgICAgICAgb25SZWFkeT17c2NlbmUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIm9uUmVhZHkuLi5cIilcbiAgICAgICAgICAgICAgICAgICAgc2NlbmUuYWRkUGFpbnRlciguLi5tYWtlUGFpbnRlcnMoc2NlbmUpKVxuICAgICAgICAgICAgICAgICAgICBzY2VuZS5hbmltYXRlID0gdHJ1ZVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICApXG59XG5cbmZ1bmN0aW9uIG1ha2VQYWludGVycyhzY2VuZTogU2NlbmUpOiBQYWludGVySW50ZXJmYWNlW10ge1xuICAgIGNvbnN0IGp1bXAgPSBtYWtlTW92ZUp1bXAoeyBkdXJhdGlvbjogMTUwMCB9KVxuICAgIGNvbnN0IGNsZWFyID0gbmV3IFBhaW50ZXJDbGVhcih7XG4gICAgICAgIGNvbG9yOiBbMC4zLCAwLjYsIDAuOSwgMV0sXG4gICAgfSlcblxuICAgIHJldHVybiBbXG4gICAgICAgIGNsZWFyLFxuICAgICAgICBuZXcgUGFpbnRlckxvZ2ljKCh0aW1lLCBkZWxheSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZ3JlZW4gPSBqdW1wKHRpbWUpXG4gICAgICAgICAgICBjbGVhci5zZXRDbGVhckNvbG9yKDAsIGdyZWVuLCAwLCAxKVxuICAgICAgICB9KSxcbiAgICBdXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBzdHlsZXMgZnJvbSBcIi4vdGhlbWUubW9kdWxlLmNzc1wiXG5pbXBvcnQgVGhlbWUgZnJvbSBcIkAvdWkvdGhlbWVcIlxuaW1wb3J0IHsgQ29sb3JOYW1lcyB9IGZyb20gXCJAL3VpL3N0eWxlcy9jb2xvclwiXG5pbXBvcnQgeyBtYWtlQ3VzdG9tUGFuZWwgfSBmcm9tIFwiQC91aS92aWV3L3BhbmVsXCJcblxuY29uc3QgUGFuZWwgPSBtYWtlQ3VzdG9tUGFuZWwoe1xuICAgIGNzc1BhZGRpbmc6IDAuNSxcbiAgICBjc3NCb3JkZXJSYWRpdXM6IDAuMjUsXG59KVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBIb21lKCkge1xuICAgIGNvbnN0IHRoZW1lID0gbmV3IFRoZW1lKClcbiAgICB0aGVtZS5hcHBseSgpXG5cbiAgICBjb25zdCBpbmRleGVzOiBudW1iZXJbXSA9IFsxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5XVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy50aGVtZVBhZ2VzfT5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9e3N0eWxlcy5uZXV0cmFsfT5OZXV0cmFsPC9oMT5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9e3N0eWxlcy5wcmltYXJ5fT5QcmltYXJ5PC9oMT5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9e3N0eWxlcy5zZWNvbmRhcnl9PlNlY29uZGFyeTwvaDE+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPXtzdHlsZXMudGVydGlhcnl9PlRlcnRpYXJ5PC9oMT5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9e3N0eWxlcy5vdGhlcn0+T3RoZXI8L2gxPlxuICAgICAgICAgICAge2luZGV4ZXMubWFwKGluZGV4ID0+XG4gICAgICAgICAgICAgICAgW1wibmV1dHJhbFwiLCBcInByaW1hcnlcIiwgXCJzZWNvbmRhcnlcIiwgXCJ0ZXJ0aWFyeVwiXS5tYXAodHlwZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBgLS10aGVtZS1jb2xvci0ke3R5cGV9LSR7aW5kZXh9YFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPFBhbmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXNbdHlwZV19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I9e3R5cGUgYXMgQ29sb3JOYW1lc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b25lPXtpbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvUGFuZWw+XG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDxQYW5lbCBjbGFzc05hbWU9e3N0eWxlcy5yb3cyfSBjb2xvcj1cImlucHV0XCI+XG4gICAgICAgICAgICAgICAgLS10aGVtZS1jb2xvci1pbnB1dFxuICAgICAgICAgICAgPC9QYW5lbD5cbiAgICAgICAgICAgIDxQYW5lbCBjbGFzc05hbWU9e3N0eWxlcy5yb3czfSBjb2xvcj1cImVycm9yXCI+XG4gICAgICAgICAgICAgICAgLS10aGVtZS1jb2xvci1lcnJvclxuICAgICAgICAgICAgPC9QYW5lbD5cbiAgICAgICAgICAgIDxQYW5lbCBjbGFzc05hbWU9e3N0eWxlcy5yb3c0fSBjb2xvcj1cInZhbGlkXCI+XG4gICAgICAgICAgICAgICAgLS10aGVtZS1jb2xvci12YWxpZFxuICAgICAgICAgICAgPC9QYW5lbD5cbiAgICAgICAgPC9kaXY+XG4gICAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBTY2VuZSB9IGZyb20gXCJ0Z2QyXCJcblxuaW50ZXJmYWNlIFNjZW5lVmlld1Byb3BzIHtcbiAgICBjbGFzc05hbWU/OiBzdHJpbmdcbiAgICBvcHRpb25zPzogV2ViR0xDb250ZXh0QXR0cmlidXRlc1xuICAgIG9uUmVhZHk/KHNjZW5lOiBTY2VuZSk6IHZvaWRcbn1cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNjZW5lVmlldyh7XG4gICAgY2xhc3NOYW1lLFxuICAgIG9wdGlvbnMsXG4gICAgb25SZWFkeSxcbn06IFNjZW5lVmlld1Byb3BzKSB7XG4gICAgY29uc3QgbW91bnRDYW52YXMgPSAoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkgPT4ge1xuICAgICAgICBpZiAoIWNhbnZhcykgcmV0dXJuXG5cbiAgICAgICAgY29uc3Qgc2NlbmUgPSBuZXcgU2NlbmUoY2FudmFzLCBvcHRpb25zKVxuICAgICAgICBzY2VuZVxuICAgICAgICAgICAgLmluaXRpYWxpemUoKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNjZW5lLmRyYXcoKVxuICAgICAgICAgICAgICAgIGlmIChvblJlYWR5KSBvblJlYWR5KHNjZW5lKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChjb25zb2xlLmVycm9yKVxuICAgIH1cbiAgICByZXR1cm4gPGNhbnZhcyByZWY9e21vdW50Q2FudmFzfSBjbGFzc05hbWU9e2NsYXNzTmFtZX0+PC9jYW52YXM+XG59XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEFwcCBmcm9tIFwiLi9hcHBcIlxuaW1wb3J0IHsgY3JlYXRlUm9vdCB9IGZyb20gXCJyZWFjdC1kb20vY2xpZW50XCJcbmltcG9ydCBcIi4vaW5kZXguY3NzXCJcbmltcG9ydCBUaGVtZSBmcm9tIFwiLi91aS90aGVtZVwiXG5cbmZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgIGNvbnN0IHRoZW1lID0gbmV3IFRoZW1lKClcbiAgICB0aGVtZS5hcHBseSgpXG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhcHBcIilcbiAgICBpZiAoIWNvbnRhaW5lcikgdGhyb3cgRXJyb3IoYE5vIGVsZW1lbnQgd2l0aCBpZCBcImFwcFwiIWApXG5cbiAgICBjb25zdCByb290ID0gY3JlYXRlUm9vdChjb250YWluZXIpXG4gICAgcm9vdC5yZW5kZXIoPEFwcCAvPilcbn1cblxuc3RhcnQoKVxuIiwiaW1wb3J0IGxjaFBsdWdpbiBmcm9tIFwiY29sb3JkL3BsdWdpbnMvbGNoXCJcbmltcG9ydCB7IGNvbG9yZCwgQ29sb3JkLCBleHRlbmQgfSBmcm9tIFwiY29sb3JkXCJcblxuZXh0ZW5kKFtsY2hQbHVnaW5dKVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb2xvciB7XG4gICAgcHJpdmF0ZSBjb2xvcjogQ29sb3JkXG5cbiAgICBzdGF0aWMgaXNMaWdodChjb2xvcjogc3RyaW5nIHwgQ29sb3IpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjb2xvciA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb2xvcihjb2xvcikuaXNMaWdodCgpXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29sb3IuaXNMaWdodCgpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVkIDAuMCB0byAxLjFcbiAgICAgKiBAcGFyYW0gZ3JlZW4gMC4wIHRvIDEuMVxuICAgICAqIEBwYXJhbSBibHVlIDAuMCB0byAxLjFcbiAgICAgKiBAcGFyYW0gYWxwaGEgMC4wIHRvIDEuMVxuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgc3RhdGljIGZyb21SR0IocmVkOiBudW1iZXIsIGdyZWVuOiBudW1iZXIsIGJsdWU6IG51bWJlciwgYWxwaGEgPSAxKTogQ29sb3Ige1xuICAgICAgICByZXR1cm4gbmV3IENvbG9yKFxuICAgICAgICAgICAgY29sb3JkKHtcbiAgICAgICAgICAgICAgICByOiBjbGFtcChyZWQpICogMjU1LFxuICAgICAgICAgICAgICAgIGc6IGNsYW1wKGdyZWVuKSAqIDI1NSxcbiAgICAgICAgICAgICAgICBiOiBjbGFtcChibHVlKSAqIDI1NSxcbiAgICAgICAgICAgICAgICBhOiBhbHBoYSxcbiAgICAgICAgICAgIH0pLnRvSGV4KClcbiAgICAgICAgKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGxpZ2h0bmVzcyAwLi4xMDBcbiAgICAgKiBAcGFyYW0gY2hyb21hIE5vIHVwcGVyIGJvdW5kLCBidXQgMTMyIGlzIGFscmVhZHkgYSBtYXhpbXVtIG9uIG1vc3Qgc2NyZWVucyBpbiAyMDIyLlxuICAgICAqIEBwYXJhbSBodWUgMC4uMzYwXG4gICAgICogQHBhcmFtIGFscGhhIDAuMCB0byAxLjBcbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tTENIKFxuICAgICAgICBsaWdodG5lc3M6IG51bWJlcixcbiAgICAgICAgY2hyb21hOiBudW1iZXIsXG4gICAgICAgIGh1ZTogbnVtYmVyLFxuICAgICAgICBhbHBoYSA9IDFcbiAgICApOiBDb2xvciB7XG4gICAgICAgIHJldHVybiBuZXcgQ29sb3IoXG4gICAgICAgICAgICBjb2xvcmQoeyBsOiBsaWdodG5lc3MsIGM6IGNocm9tYSwgaDogaHVlLCBhOiBhbHBoYSB9KS50b0hleCgpXG4gICAgICAgIClcbiAgICB9XG5cbiAgICBzdGF0aWMgbWFrZUdyYWRpZW50KHNpemU6IG51bWJlciwgLi4uZnJvbTogQXJyYXk8c3RyaW5nIHwgQ29sb3I+KTogQ29sb3JbXSB7XG4gICAgICAgIGNvbnN0IGNvbG9yczogQ29sb3JbXSA9IFtdXG4gICAgICAgIGNvbnN0IGZhY3RvciA9IDEgLyAoc2l6ZSAtIDEpXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICBjb2xvcnMucHVzaChDb2xvci5taXgoaSAqIGZhY3RvciwgLi4uZnJvbSkpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbG9yc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGZyb20gQ29sb3JzXG4gICAgICogQHBhcmFtIHZhbHVlIEZyb20gMC4wIHRvIDEuMFxuICAgICAqL1xuICAgIHN0YXRpYyBtaXgodmFsdWU6IG51bWJlciwgLi4uZnJvbTogQXJyYXk8c3RyaW5nIHwgQ29sb3I+KTogQ29sb3Ige1xuICAgICAgICBjb25zdCBpbnB1dHMgPSBnZXRDb2xvcnMoZnJvbSlcbiAgICAgICAgY29uc3Qgc3RlcHMgPSBpbnB1dHMubGVuZ3RoIC0gMVxuICAgICAgICBpZiAoc3RlcHMgPCAwKSByZXR1cm4gbmV3IENvbG9yKFwiIzAwMFwiKVxuICAgICAgICBpZiAoc3RlcHMgPT09IDApIHJldHVybiBpbnB1dHNbMF1cblxuICAgICAgICBjb25zdCBzdGFydCA9IE1hdGgubWluKE1hdGguZmxvb3IodmFsdWUgKiBzdGVwcyksIHN0ZXBzIC0gMSlcbiAgICAgICAgY29uc3QgQSA9IGlucHV0c1tzdGFydCArIDFdXG4gICAgICAgIGNvbnN0IEIgPSBpbnB1dHNbc3RhcnRdXG4gICAgICAgIGNvbnN0IGEgPSBzdGVwcyAqICh2YWx1ZSAtIHN0YXJ0IC8gc3RlcHMpXG4gICAgICAgIGNvbnN0IGIgPSAxIC0gYVxuICAgICAgICBjb25zdCBbbGlnaHRuZXNzQSwgY2hyb21hQSwgaHVlQV0gPSBBLmxjaFxuICAgICAgICBjb25zdCBbbGlnaHRuZXNzQiwgY2hyb21hQiwgaHVlQl0gPSBCLmxjaFxuICAgICAgICBjb25zdCBsaWdodG5lc3MgPSBhICogbGlnaHRuZXNzQSArIGIgKiBsaWdodG5lc3NCXG4gICAgICAgIGNvbnN0IGNocm9tYSA9IGEgKiBjaHJvbWFBICsgYiAqIGNocm9tYUJcbiAgICAgICAgbGV0IHNoaWZ0QSA9IDBcbiAgICAgICAgbGV0IHNoaWZ0QiA9IDBcbiAgICAgICAgaWYgKE1hdGguYWJzKGh1ZUEgLSBodWVCKSA+IDE4MCkge1xuICAgICAgICAgICAgaWYgKGh1ZUEgPCBodWVCKSBzaGlmdEEgPSAzNjBcbiAgICAgICAgICAgIGVsc2Ugc2hpZnRCID0gMzYwXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaHVlID0gYSAqIChodWVBICsgc2hpZnRBKSArIGIgKiAoaHVlQiArIHNoaWZ0QilcbiAgICAgICAgY29uc3QgYWxwaGEgPSBhICogQS5hbHBoYSArIGIgKiBCLmFscGhhXG4gICAgICAgIHJldHVybiBDb2xvci5mcm9tTENIKGxpZ2h0bmVzcywgY2hyb21hLCBodWUsIGFscGhhKVxuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBjc3NWYWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvcmQoY3NzVmFsdWUpXG4gICAgfVxuXG4gICAgaXNMaWdodCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sb3IuaXNMaWdodCgpXG4gICAgfVxuXG4gICAgZ2V0IGxjaCgpOiBbbGlnaHRuZXNzOiBudW1iZXIsIGNocm9tYTogbnVtYmVyLCBodWU6IG51bWJlcl0ge1xuICAgICAgICBjb25zdCBsY2ggPSB0aGlzLmNvbG9yLnRvTGNoKClcbiAgICAgICAgcmV0dXJuIFtsY2gubCwgbGNoLmMsIGxjaC5oXVxuICAgIH1cblxuICAgIGdldCBsY2hhKCk6IFtcbiAgICAgICAgbGlnaHRuZXNzOiBudW1iZXIsXG4gICAgICAgIGNocm9tYTogbnVtYmVyLFxuICAgICAgICBodWU6IG51bWJlcixcbiAgICAgICAgYWxwaGE6IG51bWJlclxuICAgIF0ge1xuICAgICAgICBjb25zdCBsY2ggPSB0aGlzLmNvbG9yLnRvTGNoKClcbiAgICAgICAgcmV0dXJuIFtsY2gubCwgbGNoLmMsIGxjaC5oLCBsY2guYV1cbiAgICB9XG5cbiAgICBnZXQgaHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xvci50b0xjaCgpLmhcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyBhbHBoYSB2YWx1ZSBiZXR3ZWVuIDAuMCBhbmQgMS4wXG4gICAgICovXG4gICAgZ2V0IGFscGhhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xvci5hbHBoYSgpXG4gICAgfVxufVxuXG5mdW5jdGlvbiBjbGFtcCh2YWx1ZTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBpZiAodmFsdWUgPCAwKSByZXR1cm4gMFxuICAgIGlmICh2YWx1ZSA+IDEpIHJldHVybiAxXG4gICAgcmV0dXJuIHZhbHVlXG59XG5cbmZ1bmN0aW9uIGdldENvbG9ycyh2YWx1ZXM6IEFycmF5PENvbG9yIHwgc3RyaW5nPik6IENvbG9yW10ge1xuICAgIHJldHVybiB2YWx1ZXMubWFwKHYgPT4gKHR5cGVvZiB2ID09PSBcInN0cmluZ1wiID8gbmV3IENvbG9yKHYpIDogdikpXG59XG4iLCJpbXBvcnQgeyBjbGFtcCB9IGZyb20gXCIuLi91dGlsL2NhbGNcIlxuXG5leHBvcnQgdHlwZSBDb2xvck5hbWVzID1cbiAgICB8IFwibmV1dHJhbFwiXG4gICAgfCBcInByaW1hcnlcIlxuICAgIHwgXCJzZWNvbmRhcnlcIlxuICAgIHwgXCJ0ZXJ0aWFyeVwiXG4gICAgfCBcImlucHV0XCJcbiAgICB8IFwiZXJyb3JcIlxuICAgIHwgXCJ2YWxpZFwiXG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29sb3JTdHlsZVByb3BzIHtcbiAgICBjb2xvcjogQ29sb3JOYW1lc1xuICAgIC8qKlxuICAgICAqIEludGVnZXIgdmFsdWUgZnJvbSAxIChkYXJrKSB0byA5IChsaWdodCkuXG4gICAgICovXG4gICAgdG9uZT86IG51bWJlclxuICAgIC8qKlxuICAgICAqIEZsb2F0IHZhbHVlIGJldHdlZW4gMC4wIGFuZCAxLjAuXG4gICAgICovXG4gICAgb3BhY2l0eT86IG51bWJlclxufVxuXG5leHBvcnQgZnVuY3Rpb24gc3R5bGVDb2xvcih7XG4gICAgY29sb3IsXG4gICAgdG9uZSA9IDUsXG4gICAgb3BhY2l0eSA9IDEsXG59OiBDb2xvclN0eWxlUHJvcHMpOiBSZWFjdC5DU1NQcm9wZXJ0aWVzIHtcbiAgICBjb25zdCBjbGFtcGVkVG9uZSA9IGNsYW1wKE1hdGgucm91bmQodG9uZSksIDEsIDkpXG4gICAgY29uc3QgdG9uZVN1ZmZpeCA9IHR5cGVvZiB0b25lID09PSBcIm51bWJlclwiID8gYC0ke2NsYW1wZWRUb25lfWAgOiBcIlwiXG4gICAgY29uc3Qgb3BhY2l0eVN1ZmZpeCA9XG4gICAgICAgIG9wYWNpdHkgPCAxID8gYC1vcGFjaXR5LSR7Y2xhbXAoTWF0aC5yb3VuZCgxMCAqIG9wYWNpdHkpLCAxLCA5KX1gIDogXCJcIlxuICAgIHJldHVybiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogYHZhcigtLXRoZW1lLWNvbG9yLSR7Y29sb3J9JHt0b25lU3VmZml4fSR7b3BhY2l0eVN1ZmZpeH0pYCxcbiAgICAgICAgY29sb3I6IGB2YXIoLS10aGVtZS1jb2xvci1vbi0ke2NvbG9yfSR7dG9uZVN1ZmZpeH0pYCxcbiAgICB9XG59XG4iLCJleHBvcnQgdHlwZSBDaXJjdW1mZXJlbmNlID1cbiAgICB8IHN0cmluZ1xuICAgIHwgbnVtYmVyXG4gICAgfCBbdmVydGljYWw6IG51bWJlciwgaG9yaXpvbnRhbDogbnVtYmVyXVxuICAgIHwgW3RvcDogbnVtYmVyLCByaWdodDogbnVtYmVyLCBib3R0b206IG51bWJlciwgbGVmdDogbnVtYmVyXVxuXG4vKipcbiAqIEF0dHJpYnV0ZXMgbGlrZSBgbWFyZ2luYCwgYHBhZGRpbmdgLCBib3gtcmFkaXVzYCwgZXRjLiBhY2NlcHQgdmFsdWVzIG9mIHR5cGUgQ2lyY3VtZmVyZW5jZS5cbiAqIEl0IGNhbiBiZSBhIHNpbmdsZSBudW1iZXIsIGFuIGFycmF5IG9mIHR3byBudW1iZXIgb3IgYW4gYXJyYXkgb2YgZm91ciBudW1iZXJzLlxuICogSXQgaXMgYWxzbyBwb3NzaWJsZSB0byB1c2UgYSBzdHJpbmcgdGhhdCB3aWxsIGJlIHVzZWQgdmVyYmF0aW0uXG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogYGBgdHNcbiAqIGNvbnZlcnRDaXJjdW1mZXJlbmNlSW50b1N0cmluZyhcIjI3XCIpID09PSBcIjI3XCJcbiAqIGNvbnZlcnRDaXJjdW1mZXJlbmNlSW50b1N0cmluZygyNykgPT09IFwiMjdlbVwiXG4gKiBjb252ZXJ0Q2lyY3VtZmVyZW5jZUludG9TdHJpbmcoMjcsIFwicHhcIikgPT09IFwiMjdweFwiXG4gKiBjb252ZXJ0Q2lyY3VtZmVyZW5jZUludG9TdHJpbmcoWzE2LCAzMl0sIFwicHhcIikgPT09IFwiMTZweCAzMnB4XCJcbiAqIGBgYFxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udmVydENpcmN1bWZlcmVuY2VJbnRvU3RyaW5nKFxuICAgIGNpcmN1bWZlcmVuY2U6IENpcmN1bWZlcmVuY2UsXG4gICAgdW5pdCA9IFwiZW1cIlxuKTogc3RyaW5nIHtcbiAgICBpZiAodHlwZW9mIGNpcmN1bWZlcmVuY2UgPT09IFwic3RyaW5nXCIpIHJldHVybiBjaXJjdW1mZXJlbmNlXG4gICAgaWYgKHR5cGVvZiBjaXJjdW1mZXJlbmNlID09PSBcIm51bWJlclwiKSByZXR1cm4gYCR7Y2lyY3VtZmVyZW5jZX0ke3VuaXR9YFxuICAgIHJldHVybiBjaXJjdW1mZXJlbmNlLm1hcCh2YWx1ZSA9PiBgJHt2YWx1ZX0ke3VuaXR9YCkuam9pbihcIiBcIilcbn1cbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCB0eXBlIE92ZXJmbG93VmFsdWVzID1cbiAgICAvKipcbiAgICAgKiBDb250ZW50IGlzIG5vdCBjbGlwcGVkIGFuZCBtYXkgYmUgcmVuZGVyZWQgb3V0c2lkZSB0aGUgcGFkZGluZyBib3guXG4gICAgICovXG4gICAgfCBcInZpc2libGVcIlxuICAgIC8qKlxuICAgICAqIENvbnRlbnQgaXMgY2xpcHBlZCBpZiBuZWNlc3NhcnkgdG8gZml0IHRoZSBwYWRkaW5nIGJveC5cbiAgICAgKiBObyBzY3JvbGxiYXJzIGFyZSBwcm92aWRlZCwgYW5kIG5vIHN1cHBvcnQgZm9yIGFsbG93aW5nXG4gICAgICogdGhlIHVzZXIgdG8gc2Nyb2xsIChzdWNoIGFzIGJ5IGRyYWdnaW5nIG9yIHVzaW5nIGEgc2Nyb2xsXG4gICAgICogd2hlZWwpIGlzIGFsbG93ZWQuIFRoZSBjb250ZW50IGNhbiBiZSBzY3JvbGxlZFxuICAgICAqIHByb2dyYW1tYXRpY2FsbHkgKGZvciBleGFtcGxlLCBieSBzZXR0aW5nIHRoZSB2YWx1ZSBvZiBhXG4gICAgICogcHJvcGVydHkgc3VjaCBhcyBzY3JvbGxMZWZ0IG9yIHRoZSBzY3JvbGxUbygpIG1ldGhvZCksXG4gICAgICogc28gdGhlIGVsZW1lbnQgaXMgc3RpbGwgYSBzY3JvbGwgY29udGFpbmVyLlxuICAgICAqL1xuICAgIHwgXCJoaWRkZW5cIlxuICAgIC8qKlxuICAgICAqIFNpbWlsYXIgdG8gaGlkZGVuLCB0aGUgY29udGVudCBpcyBjbGlwcGVkIHRvIHRoZSBlbGVtZW50J3NcbiAgICAgKiBwYWRkaW5nIGJveC4gVGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBjbGlwIGFuZCBoaWRkZW4gaXMgdGhhdFxuICAgICAqIHRoZSBjbGlwIGtleXdvcmQgYWxzbyBmb3JiaWRzIGFsbCBzY3JvbGxpbmcsIGluY2x1ZGluZ1xuICAgICAqIHByb2dyYW1tYXRpYyBzY3JvbGxpbmcuIFRoZSBib3ggaXMgbm90IGEgc2Nyb2xsIGNvbnRhaW5lcixcbiAgICAgKiBhbmQgZG9lcyBub3Qgc3RhcnQgYSBuZXcgZm9ybWF0dGluZyBjb250ZXh0LlxuICAgICAqXG4gICAgICogSWYgeW91IHdpc2ggdG8gc3RhcnQgYSBuZXcgZm9ybWF0dGluZyBjb250ZXh0LFxuICAgICAqIHlvdSBjYW4gdXNlIGRpc3BsYXk6IGZsb3ctcm9vdCB0byBkbyBzby5cbiAgICAgKi9cbiAgICB8IFwiY2xpcFwiXG4gICAgLyoqXG4gICAgICogQ29udGVudCBpcyBjbGlwcGVkIGlmIG5lY2Vzc2FyeSB0byBmaXQgdGhlIHBhZGRpbmcgYm94LlxuICAgICAqIEJyb3dzZXJzIGFsd2F5cyBkaXNwbGF5IHNjcm9sbGJhcnMgd2hldGhlciBvciBub3QgYW55XG4gICAgICogY29udGVudCBpcyBhY3R1YWxseSBjbGlwcGVkLCBwcmV2ZW50aW5nIHNjcm9sbGJhcnMgZnJvbVxuICAgICAqIGFwcGVhcmluZyBvciBkaXNhcHBlYXJpbmcgYXMgY29udGVudCBjaGFuZ2VzLlxuICAgICAqIFByaW50ZXJzIG1heSBzdGlsbCBwcmludCBvdmVyZmxvd2luZyBjb250ZW50LlxuICAgICAqL1xuICAgIHwgXCJzY3JvbGxcIlxuICAgIC8qKlxuICAgICAqIERlcGVuZHMgb24gdGhlIHVzZXIgYWdlbnQuIElmIGNvbnRlbnQgZml0cyBpbnNpZGUgdGhlXG4gICAgICogcGFkZGluZyBib3gsIGl0IGxvb2tzIHRoZSBzYW1lIGFzIHZpc2libGUsXG4gICAgICogYnV0IHN0aWxsIGVzdGFibGlzaGVzIGEgbmV3IGJsb2NrIGZvcm1hdHRpbmcgY29udGV4dC5cbiAgICAgKiBEZXNrdG9wIGJyb3dzZXJzIHByb3ZpZGUgc2Nyb2xsYmFycyBpZiBjb250ZW50IG92ZXJmbG93cy5cbiAgICAgKi9cbiAgICB8IFwiYXV0b1wiXG5cbmV4cG9ydCBpbnRlcmZhY2UgT3ZlcmZsb3dTdHlsZVByb3BzIHtcbiAgICBjc3NPdmVyZmxvdz86XG4gICAgICAgIHwgT3ZlcmZsb3dWYWx1ZXNcbiAgICAgICAgfCBbb3ZlcmZsb3dYOiBPdmVyZmxvd1ZhbHVlcywgb3ZlcmZsb3dZOiBPdmVyZmxvd1ZhbHVlc11cbiAgICBjc3NPdmVyZmxvd1g/OiBPdmVyZmxvd1ZhbHVlc1xuICAgIGNzc092ZXJmbG93WT86IE92ZXJmbG93VmFsdWVzXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdHlsZU92ZXJmbG93KHtcbiAgICBjc3NPdmVyZmxvdzogb3ZlcmZsb3csXG4gICAgY3NzT3ZlcmZsb3dYOiBvdmVyZmxvd1gsXG4gICAgY3NzT3ZlcmZsb3dZOiBvdmVyZmxvd1ksXG59OiBPdmVyZmxvd1N0eWxlUHJvcHMpOiBSZWFjdC5DU1NQcm9wZXJ0aWVzIHtcbiAgICBjb25zdCBzdHlsZTogUmVhY3QuQ1NTUHJvcGVydGllcyA9IHt9XG4gICAgaWYgKG92ZXJmbG93KSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3ZlcmZsb3cgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHN0eWxlLm92ZXJmbG93ID0gb3ZlcmZsb3dcbiAgICAgICAgICAgIHJldHVybiBzdHlsZVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFt4LCB5XSA9IG92ZXJmbG93XG4gICAgICAgIHN0eWxlLm92ZXJmbG93WCA9IHhcbiAgICAgICAgc3R5bGUub3ZlcmZsb3dZID0geVxuICAgICAgICByZXR1cm4gc3R5bGVcbiAgICB9XG4gICAgaWYgKG92ZXJmbG93WCkgc3R5bGUub3ZlcmZsb3dYID0gb3ZlcmZsb3dYXG4gICAgaWYgKG92ZXJmbG93WSkgc3R5bGUub3ZlcmZsb3dZID0gb3ZlcmZsb3dZXG4gICAgcmV0dXJuIHN0eWxlXG59XG4iLCJpbXBvcnQgeyBDaXJjdW1mZXJlbmNlLCBjb252ZXJ0Q2lyY3VtZmVyZW5jZUludG9TdHJpbmcgfSBmcm9tIFwiLi9jcmN1bWZlcmVuY2VcIlxuXG5leHBvcnQgaW50ZXJmYWNlIFNwYWNlU3R5bGVQcm9wcyB7XG4gICAgY3NzQm9yZGVyUmFkaXVzPzogQ2lyY3VtZmVyZW5jZVxuICAgIGNzc01hcmdpbj86IENpcmN1bWZlcmVuY2VcbiAgICBjc3NQYWRkaW5nPzogQ2lyY3VtZmVyZW5jZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc3R5bGVTcGFjZSh7XG4gICAgY3NzQm9yZGVyUmFkaXVzOiBib3JkZXJSYWRpdXMsXG4gICAgY3NzTWFyZ2luOiBtYXJnaW4sXG4gICAgY3NzUGFkZGluZzogcGFkZGluZyxcbn06IFNwYWNlU3R5bGVQcm9wcykge1xuICAgIGNvbnN0IHN0eWxlOiBSZWFjdC5DU1NQcm9wZXJ0aWVzID0ge31cbiAgICBpZiAoYm9yZGVyUmFkaXVzKVxuICAgICAgICBzdHlsZS5ib3JkZXJSYWRpdXMgPSBjb252ZXJ0Q2lyY3VtZmVyZW5jZUludG9TdHJpbmcoYm9yZGVyUmFkaXVzKVxuICAgIGlmIChtYXJnaW4pIHN0eWxlLm1hcmdpbiA9IGNvbnZlcnRDaXJjdW1mZXJlbmNlSW50b1N0cmluZyhtYXJnaW4pXG4gICAgaWYgKHBhZGRpbmcpIHN0eWxlLnBhZGRpbmcgPSBjb252ZXJ0Q2lyY3VtZmVyZW5jZUludG9TdHJpbmcocGFkZGluZylcbiAgICByZXR1cm4gc3R5bGVcbn1cbiIsImV4cG9ydCB7IGRlZmF1bHQgfSBmcm9tIFwiLi90aGVtZVwiXG4iLCJpbXBvcnQgQ29sb3IgZnJvbSBcIi4uL2NvbG9yXCJcblxuY29uc3QgREVGQVVMVF9DT0xPUl9URVhUX0xJR0hUID0gXCIjZmZmZVwiXG5jb25zdCBERUZBVUxUX0NPTE9SX1RFWFRfREFSSyA9IFwiIzAwMGVcIlxuY29uc3QgREVGQVVMVF9DT0xPUl9QUklNQVJZOiBUaGVtZUNvbG9yID0geyBodWU6IDIxNSB9XG5jb25zdCBERUZBVUxUX0NPTE9SX1NFQ09OREFSWTogVGhlbWVDb2xvciA9IHsgaHVlOiA2MCB9XG5jb25zdCBERUZBVUxUX0NPTE9SX1RFUlRJQVJZOiBUaGVtZUNvbG9yID0geyBodWU6IDEwMCB9XG5jb25zdCBERUZBVUxUX0NPTE9SX05FVVRSQUw6IFRoZW1lQ29sb3IgPSB7XG4gICAgaHVlOiA2MSxcbiAgICBjaHJvbWE6IDAsXG4gICAgbGlnaHRuZXNzOiBbNTAsIDEwMF0sXG59XG5jb25zdCBERUZBVUxUX0NPTE9SX0lOUFVUID0gXCIjZmZmXCJcbmNvbnN0IERFRkFVTFRfQ09MT1JfRVJST1IgPSBcIiNkMDBcIlxuY29uc3QgREVGQVVMVF9DT0xPUl9WQUxJRCA9IFwiIzBmMFwiXG5cbmV4cG9ydCB0eXBlIFRoZW1lQ29sb3IgPVxuICAgIHwgc3RyaW5nW11cbiAgICB8IHtcbiAgICAgICAgICBodWU6IG51bWJlciB8IFtudW1iZXIsIG51bWJlcl1cbiAgICAgICAgICBjaHJvbWE/OiBudW1iZXIgfCBbbnVtYmVyLCBudW1iZXJdXG4gICAgICAgICAgbGlnaHRuZXNzPzogbnVtYmVyIHwgW251bWJlciwgbnVtYmVyXVxuICAgICAgfVxuXG5pbnRlcmZhY2UgVGhlbWVTZXR0aW5nc0NvbG9ycyB7XG4gICAgdGV4dExpZ2h0OiBzdHJpbmdcbiAgICB0ZXh0RGFyazogc3RyaW5nXG4gICAgcHJpbWFyeTogVGhlbWVDb2xvclxuICAgIHNlY29uZGFyeTogVGhlbWVDb2xvclxuICAgIHRlcnRpYXJ5OiBUaGVtZUNvbG9yXG4gICAgbmV1dHJhbDogVGhlbWVDb2xvclxuICAgIGlucHV0OiBzdHJpbmdcbiAgICBlcnJvcjogc3RyaW5nXG4gICAgdmFsaWQ6IHN0cmluZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRoZW1lU2V0dGluZ3Mge1xuICAgIGNvbG9ycz86IFBhcnRpYWw8VGhlbWVTZXR0aW5nc0NvbG9ycz5cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGhlbWUge1xuICAgIHByaXZhdGUgcmVhZG9ubHkgdmFyczogQXJyYXk8W25hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZ10+ID0gW11cblxuICAgIGNvbnN0cnVjdG9yKHsgY29sb3JzID0ge30gfTogVGhlbWVTZXR0aW5ncyA9IHt9KSB7XG4gICAgICAgIHRoaXMuYWRkKFxuICAgICAgICAgICAgXCJjb2xvci10ZXh0LWxpZ2h0XCIsXG4gICAgICAgICAgICBjb2xvcnMudGV4dExpZ2h0ID8/IERFRkFVTFRfQ09MT1JfVEVYVF9MSUdIVFxuICAgICAgICApXG4gICAgICAgIHRoaXMuYWRkKFwiY29sb3ItdGV4dC1kYXJrXCIsIGNvbG9ycy50ZXh0RGFyayA/PyBERUZBVUxUX0NPTE9SX1RFWFRfREFSSylcbiAgICAgICAgdGhpcy5hZGRDb2xvcihcImlucHV0XCIsIGNvbG9ycy5pbnB1dCA/PyBERUZBVUxUX0NPTE9SX0lOUFVUKVxuICAgICAgICB0aGlzLmFkZENvbG9yKFwiZXJyb3JcIiwgY29sb3JzLmVycm9yID8/IERFRkFVTFRfQ09MT1JfRVJST1IpXG4gICAgICAgIHRoaXMuYWRkQ29sb3IoXCJ2YWxpZFwiLCBjb2xvcnMudmFsaWQgPz8gREVGQVVMVF9DT0xPUl9WQUxJRClcbiAgICAgICAgdGhpcy5hZGRDb2xvclZhcnMoXG4gICAgICAgICAgICBcInByaW1hcnlcIixcbiAgICAgICAgICAgIG1ha2VDb2xvcnMoY29sb3JzLnByaW1hcnkgPz8gREVGQVVMVF9DT0xPUl9QUklNQVJZKVxuICAgICAgICApXG4gICAgICAgIHRoaXMuYWRkQ29sb3JWYXJzKFxuICAgICAgICAgICAgXCJzZWNvbmRhcnlcIixcbiAgICAgICAgICAgIG1ha2VDb2xvcnMoY29sb3JzLnNlY29uZGFyeSA/PyBERUZBVUxUX0NPTE9SX1NFQ09OREFSWSlcbiAgICAgICAgKVxuICAgICAgICB0aGlzLmFkZENvbG9yVmFycyhcbiAgICAgICAgICAgIFwidGVydGlhcnlcIixcbiAgICAgICAgICAgIG1ha2VDb2xvcnMoY29sb3JzLnRlcnRpYXJ5ID8/IERFRkFVTFRfQ09MT1JfVEVSVElBUlkpXG4gICAgICAgIClcbiAgICAgICAgdGhpcy5hZGRDb2xvclZhcnMoXG4gICAgICAgICAgICBcIm5ldXRyYWxcIixcbiAgICAgICAgICAgIG1ha2VDb2xvcnMoY29sb3JzLm5ldXRyYWwgPz8gREVGQVVMVF9DT0xPUl9ORVVUUkFMKVxuICAgICAgICApXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgbmV3IENTUyBjdXN0b20gdmFyaWFibGUuXG4gICAgICovXG4gICAgcHJpdmF0ZSBhZGQobmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMudmFycy5wdXNoKFtuYW1lLCB2YWx1ZV0pXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhZGRDb2xvcihuYW1lOiBzdHJpbmcsIGNvbG9yOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5hZGQoYGNvbG9yLSR7bmFtZX1gLCBjb2xvcilcbiAgICAgICAgdGhpcy5hZGQoXG4gICAgICAgICAgICBgY29sb3Itb24tJHtuYW1lfWAsXG4gICAgICAgICAgICBgdmFyKC0tdGhlbWUtY29sb3ItdGV4dC0ke0NvbG9yLmlzTGlnaHQoY29sb3IpID8gYGRhcmtgIDogXCJsaWdodFwifWBcbiAgICAgICAgKVxuICAgIH1cblxuICAgIHByaXZhdGUgYWRkQ29sb3JWYXJzKG5hbWU6IHN0cmluZywgY29sb3JzOiBzdHJpbmdbXSkge1xuICAgICAgICBsZXQgaW5kZXggPSAxXG4gICAgICAgIGZvciAoY29uc3QgY29sb3Igb2YgY29sb3JzKSB7XG4gICAgICAgICAgICB0aGlzLmFkZChgY29sb3ItJHtuYW1lfS0ke2luZGV4fWAsIGNvbG9yKVxuICAgICAgICAgICAgdGhpcy5hZGQoXG4gICAgICAgICAgICAgICAgYGNvbG9yLW9uLSR7bmFtZX0tJHtpbmRleH1gLFxuICAgICAgICAgICAgICAgIGB2YXIoLS10aGVtZS1jb2xvci10ZXh0LSR7XG4gICAgICAgICAgICAgICAgICAgIENvbG9yLmlzTGlnaHQoY29sb3IpID8gXCJkYXJrXCIgOiBcImxpZ2h0XCJcbiAgICAgICAgICAgICAgICB9KWBcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGluZGV4KytcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkZChgY29sb3ItJHtuYW1lfWAsIGB2YXIoLS10aGVtZS1jb2xvci0ke25hbWV9LTUpYClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBseSB0aGlzIHRoZW1lIHRvIGBlbGVtZW50YC5cbiAgICAgKiBAcGFyYW0gZWxlbWVudCBEZWZhdWx0IHRvIGBkb2N1bWVudC5ib2R5YC5cbiAgICAgKi9cbiAgICBhcHBseShlbGVtZW50PzogSFRNTEVsZW1lbnQgfCBTVkdFbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGVsZW1lbnQgPz8gZ2xvYmFsVGhpcy53aW5kb3c/LmRvY3VtZW50LmJvZHlcbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWxdIG9mIHRoaXMudmFycykge1xuICAgICAgICAgICAgICAgIHRhcmdldC5zdHlsZS5zZXRQcm9wZXJ0eShgLS10aGVtZS0ke2tleX1gLCB2YWwpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIG1ha2VDb2xvcnMoY29sb3JEZWY6IFRoZW1lQ29sb3IpOiBzdHJpbmdbXSB7XG4gICAgY29uc3QgY29sb3JzOiBzdHJpbmdbXSA9IGNvbnZlcnRUaGVtZUNvbG9ySW50b0FycmF5KGNvbG9yRGVmKVxuICAgIGNvbnN0IG91dHB1dCA9IENvbG9yLm1ha2VHcmFkaWVudCg5LCAuLi5jb2xvcnMpLm1hcChjb2xvciA9PiBjb2xvci5jc3NWYWx1ZSlcbiAgICByZXR1cm4gb3V0cHV0XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRUaGVtZUNvbG9ySW50b0FycmF5KGNvbG9yRGVmOiBUaGVtZUNvbG9yKTogc3RyaW5nW10ge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGNvbG9yRGVmKSkgcmV0dXJuIGNvbG9yRGVmXG5cbiAgICBjb25zdCBbaHVlMSwgaHVlMl0gPSBlbnN1cmVQYWlyKGNvbG9yRGVmLmh1ZSlcbiAgICBjb25zdCBbY2hyb21hMSwgY2hyb21hMl0gPSBlbnN1cmVQYWlyKGNvbG9yRGVmLmNocm9tYSA/PyBbMjAwLCA1MF0pXG4gICAgY29uc3QgW2xpZ2h0bmVzczEsIGxpZ2h0bmVzczJdID0gZW5zdXJlUGFpcihjb2xvckRlZi5saWdodG5lc3MgPz8gWzUsIDEwMF0pXG4gICAgcmV0dXJuIFtcbiAgICAgICAgQ29sb3IuZnJvbUxDSChsaWdodG5lc3MxLCBjaHJvbWExLCBodWUxKS5jc3NWYWx1ZSxcbiAgICAgICAgQ29sb3IuZnJvbUxDSChsaWdodG5lc3MyLCBjaHJvbWEyLCBodWUyKS5jc3NWYWx1ZSxcbiAgICBdXG59XG5cbmZ1bmN0aW9uIGVuc3VyZVBhaXIodmFsdWU6IG51bWJlciB8IFtudW1iZXIsIG51bWJlcl0pOiBbbnVtYmVyLCBudW1iZXJdIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHJldHVybiB2YWx1ZVxuXG4gICAgcmV0dXJuIFt2YWx1ZSwgdmFsdWVdXG59XG4iLCJleHBvcnQgZnVuY3Rpb24gY2xhbXAodmFsdWU6IG51bWJlciwgbWluID0gMCwgbWF4ID0gMSk6IG51bWJlciB7XG4gICAgaWYgKHZhbHVlIDwgbWluKSByZXR1cm4gbWluXG4gICAgaWYgKHZhbHVlID4gbWF4KSByZXR1cm4gbWF4XG4gICAgcmV0dXJuIHZhbHVlXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IENpcmN1bWZlcmVuY2UgfSBmcm9tIFwiLi4vc3R5bGVzL2NyY3VtZmVyZW5jZVwiXG5pbXBvcnQgeyBDb2xvclN0eWxlUHJvcHMsIHN0eWxlQ29sb3IgfSBmcm9tIFwiLi4vc3R5bGVzL2NvbG9yXCJcbmltcG9ydCB7IE92ZXJmbG93U3R5bGVQcm9wcywgc3R5bGVPdmVyZmxvdyB9IGZyb20gXCIuLi9zdHlsZXMvb3ZlcmZsb3dcIlxuaW1wb3J0IHsgU3BhY2VTdHlsZVByb3BzLCBzdHlsZVNwYWNlIH0gZnJvbSBcIi4uL3N0eWxlcy9zcGFjZVwiXG5cbmV4cG9ydCB0eXBlIFBhbmVsUHJvcHMgPSB7XG4gICAgY2xhc3NOYW1lPzogc3RyaW5nXG4gICAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZVxuICAgIGJvcmRlclJhZGl1cz86IENpcmN1bWZlcmVuY2Vcbn0gJiBDb2xvclN0eWxlUHJvcHMgJlxuICAgIFNwYWNlU3R5bGVQcm9wcyAmXG4gICAgT3ZlcmZsb3dTdHlsZVByb3BzXG5cbmZ1bmN0aW9uIFBhbmVsKHByb3BzOiBQYW5lbFByb3BzKSB7XG4gICAgY29uc3Qgc3R5bGU6IFJlYWN0LkNTU1Byb3BlcnRpZXMgPSB7XG4gICAgICAgIC4uLnN0eWxlQ29sb3IocHJvcHMpLFxuICAgICAgICAuLi5zdHlsZVNwYWNlKHByb3BzKSxcbiAgICAgICAgLi4uc3R5bGVPdmVyZmxvdyhwcm9wcyksXG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWV9IHN0eWxlPXtzdHlsZX0+XG4gICAgICAgICAgICB7cHJvcHMuY2hpbGRyZW59XG4gICAgICAgIDwvZGl2PlxuICAgIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VDdXN0b21QYW5lbChcbiAgICBkZWZhdWx0UHJvcHM6IFBhcnRpYWw8UGFuZWxQcm9wcz5cbik6IChwcm9wczogUGFuZWxQcm9wcykgPT4gSlNYLkVsZW1lbnQge1xuICAgIHJldHVybiAocHJvcHM6IFBhbmVsUHJvcHMpID0+XG4gICAgICAgIFBhbmVsKHtcbiAgICAgICAgICAgIC4uLmRlZmF1bHRQcm9wcyxcbiAgICAgICAgICAgIC4uLnByb3BzLFxuICAgICAgICB9KVxufVxuXG5leHBvcnQgZGVmYXVsdCBQYW5lbFxuIiwiZXhwb3J0IHsgZGVmYXVsdCBhcyBTY2VuZSB9IGZyb20gXCIuL3NjZW5lXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJleHBvcnQgeyBtYWtlTW92ZUp1bXAgfSBmcm9tIFwiLi9qdW1wXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VNb3ZlSnVtcChvcHRpb25zKSB7XG4gICAgdmFyIF9hID0gX19hc3NpZ24oeyBkdXJhdGlvbjogMzAwLCBoZWlnaHQ6IDEgfSwgb3B0aW9ucyksIGR1cmF0aW9uID0gX2EuZHVyYXRpb24sIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICB2YXIgcmFkaXVzID0gaGVpZ2h0O1xuICAgIHZhciBzY2FsZSA9IE1hdGguUEkgLyBkdXJhdGlvbjtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRpbWUpIHsgcmV0dXJuIHJhZGl1cyAqIE1hdGguYWJzKE1hdGguc2luKHRpbWUgKiBzY2FsZSkpOyB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9anVtcC5qcy5tYXAiLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG52YXIgUGFpbnRlckFycmF5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQYWludGVyQXJyYXkoKSB7XG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuY29udGFpbmVycyA9IFtdO1xuICAgICAgICB0aGlzLnNjZW5lID0gbnVsbDtcbiAgICB9XG4gICAgUGFpbnRlckFycmF5LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwYWludGVycyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgcGFpbnRlcnNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBfYSA9IDAsIHBhaW50ZXJzXzEgPSBwYWludGVyczsgX2EgPCBwYWludGVyc18xLmxlbmd0aDsgX2ErKykge1xuICAgICAgICAgICAgdmFyIHBhaW50ZXIgPSBwYWludGVyc18xW19hXTtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBwYWludGVyOiBwYWludGVyLFxuICAgICAgICAgICAgICAgIHN0YXR1czogQ29udGFpbmVyU3RhdHVzRW51bS5DcmVhdGVkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFBhaW50ZXJBcnJheS5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIChzY2VuZSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2ksIF9hLCBjb250YWluZXIsIHdvcmtpbmc7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBfaSA9IDAsIF9hID0gdGhpcy5jb250YWluZXJzO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShfaSA8IF9hLmxlbmd0aCkpIHJldHVybiBbMywgNF07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIgPSBfYVtfaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyLnN0YXR1cyAhPT0gQ29udGFpbmVyU3RhdHVzRW51bS5DcmVhdGVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMywgM107XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuc3RhdHVzID0gQ29udGFpbmVyU3RhdHVzRW51bS5Jbml0aWFsaXppbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIGNvbnRhaW5lci5wYWludGVyLmluaXRpYWxpemUoc2NlbmUpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgd29ya2luZyA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zdGF0dXMgPSB3b3JraW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBDb250YWluZXJTdGF0dXNFbnVtLkluaXRpYWxpemVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBDb250YWluZXJTdGF0dXNFbnVtLkJyb2tlbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2krKztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMywgMV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFsyLCB0cnVlXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBQYWludGVyQXJyYXkucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoc2NlbmUpIHtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMuY29udGFpbmVyczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBfYVtfaV07XG4gICAgICAgICAgICBjb250YWluZXIucGFpbnRlci5kZXN0cm95KHNjZW5lKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdGF0dXMgPSBDb250YWluZXJTdGF0dXNFbnVtLkRlc3Ryb3llZDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUGFpbnRlckFycmF5LnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKHRpbWUsIGRlbGF5LCBzY2VuZSkge1xuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMuY29udGFpbmVyczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBfYVtfaV07XG4gICAgICAgICAgICBpZiAoY29udGFpbmVyLnN0YXR1cyAhPT0gQ29udGFpbmVyU3RhdHVzRW51bS5Jbml0aWFsaXplZClcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5wYWludGVyLmRyYXcodGltZSwgZGVsYXksIHNjZW5lKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUGFpbnRlckFycmF5LnByb3RvdHlwZS5wbGF5ID0gZnVuY3Rpb24gKHRpbWUsIGRlbGF5LCBzY2VuZSkge1xuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIG5lZWRJbml0aWFsaXphdGlvbiA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5jb250YWluZXJzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IF9hW19pXTtcbiAgICAgICAgICAgIGlmIChjb250YWluZXIuc3RhdHVzICE9PSBDb250YWluZXJTdGF0dXNFbnVtLkluaXRpYWxpemVkKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgY29udGFpbmVyLnBhaW50ZXIucGxheSh0aW1lLCBkZWxheSwgc2NlbmUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZWVkSW5pdGlhbGl6YXRpb24pIHtcbiAgICAgICAgICAgIHZhciBzY2VuZV8xID0gdGhpcy5zY2VuZTtcbiAgICAgICAgICAgIGlmIChzY2VuZV8xKVxuICAgICAgICAgICAgICAgIHZvaWQgdGhpcy5pbml0aWFsaXplKHNjZW5lXzEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUGFpbnRlckFycmF5O1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFBhaW50ZXJBcnJheTtcbnZhciBDb250YWluZXJTdGF0dXNFbnVtO1xuKGZ1bmN0aW9uIChDb250YWluZXJTdGF0dXNFbnVtKSB7XG4gICAgQ29udGFpbmVyU3RhdHVzRW51bVtDb250YWluZXJTdGF0dXNFbnVtW1wiQ3JlYXRlZFwiXSA9IDBdID0gXCJDcmVhdGVkXCI7XG4gICAgQ29udGFpbmVyU3RhdHVzRW51bVtDb250YWluZXJTdGF0dXNFbnVtW1wiSW5pdGlhbGl6aW5nXCJdID0gMV0gPSBcIkluaXRpYWxpemluZ1wiO1xuICAgIENvbnRhaW5lclN0YXR1c0VudW1bQ29udGFpbmVyU3RhdHVzRW51bVtcIkluaXRpYWxpemVkXCJdID0gMl0gPSBcIkluaXRpYWxpemVkXCI7XG4gICAgQ29udGFpbmVyU3RhdHVzRW51bVtDb250YWluZXJTdGF0dXNFbnVtW1wiQnJva2VuXCJdID0gM10gPSBcIkJyb2tlblwiO1xuICAgIENvbnRhaW5lclN0YXR1c0VudW1bQ29udGFpbmVyU3RhdHVzRW51bVtcIkRlc3Ryb3llZFwiXSA9IDRdID0gXCJEZXN0cm95ZWRcIjtcbn0pKENvbnRhaW5lclN0YXR1c0VudW0gfHwgKENvbnRhaW5lclN0YXR1c0VudW0gPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXJyYXkuanMubWFwIiwidmFyIFBhaW50ZXJDbGVhciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUGFpbnRlckNsZWFyKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5nbCA9IG51bGw7XG4gICAgICAgIHRoaXMuY2xlYXJNYXNrID0gMDtcbiAgICB9XG4gICAgUGFpbnRlckNsZWFyLnByb3RvdHlwZS5zZXRDbGVhckNvbG9yID0gZnVuY3Rpb24gKHJlZCwgZ3JlZW4sIGJsdWUsIGFscGhhKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGlmICghZ2wpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGdsLmNsZWFyQ29sb3IocmVkLCBncmVlbiwgYmx1ZSwgYWxwaGEpO1xuICAgIH07XG4gICAgUGFpbnRlckNsZWFyLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKHNjZW5lKSB7XG4gICAgICAgIHRoaXMuZ2wgPSBzY2VuZS5nbDtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgb3B0aW9ucyA9IF9hLm9wdGlvbnM7XG4gICAgICAgIGlmIChvcHRpb25zLmNvbG9yKSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFyTWFzayB8PSBnbC5DT0xPUl9CVUZGRVJfQklUO1xuICAgICAgICAgICAgZ2wuY2xlYXJDb2xvci5hcHBseShnbCwgb3B0aW9ucy5jb2xvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJldHVybiByZXNvbHZlKHRydWUpOyB9KTtcbiAgICB9O1xuICAgIFBhaW50ZXJDbGVhci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICBQYWludGVyQ2xlYXIucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoX3RpbWUsIF9kZWxheSkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBjbGVhck1hc2sgPSBfYS5jbGVhck1hc2ssIGdsID0gX2EuZ2w7XG4gICAgICAgIGlmICghZ2wpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChjbGVhck1hc2sgPiAwKVxuICAgICAgICAgICAgZ2wuY2xlYXIoY2xlYXJNYXNrKTtcbiAgICB9O1xuICAgIFBhaW50ZXJDbGVhci5wcm90b3R5cGUucGxheSA9IGZ1bmN0aW9uIChfdGltZSwgX2RlbGF5KSB7IH07XG4gICAgcmV0dXJuIFBhaW50ZXJDbGVhcjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBQYWludGVyQ2xlYXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jbGVhci5qcy5tYXAiLCJ2YXIgUGFpbnRlckxvZ2ljID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQYWludGVyTG9naWMobG9naWNGdW5jdGlvbikge1xuICAgICAgICB0aGlzLmxvZ2ljRnVuY3Rpb24gPSBsb2dpY0Z1bmN0aW9uO1xuICAgIH1cbiAgICBQYWludGVyTG9naWMucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoc2NlbmUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJldHVybiByZXNvbHZlKHRydWUpOyB9KTtcbiAgICB9O1xuICAgIFBhaW50ZXJMb2dpYy5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICBQYWludGVyTG9naWMucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAodGltZSwgZGVsYXkpIHsgfTtcbiAgICBQYWludGVyTG9naWMucHJvdG90eXBlLnBsYXkgPSBmdW5jdGlvbiAodGltZSwgZGVsYXkpIHtcbiAgICAgICAgdGhpcy5sb2dpY0Z1bmN0aW9uKHRpbWUsIGRlbGF5KTtcbiAgICB9O1xuICAgIHJldHVybiBQYWludGVyTG9naWM7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgUGFpbnRlckxvZ2ljO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9naWMuanMubWFwIiwiaW1wb3J0IFJlZk1hcCBmcm9tIFwiLi4vcmVmLW1hcFwiO1xudmFyIEFzc2V0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBc3NldCgpIHtcbiAgICAgICAgdGhpcy5pbWFnZXMgPSBuZXcgUmVmTWFwKCk7XG4gICAgfVxuICAgIEFzc2V0LnByb3RvdHlwZS5jcmVhdGVJbWFnZSA9IGZ1bmN0aW9uIChzcmMpIHtcbiAgICAgICAgdmFyIGtleSA9IHNyYztcbiAgICAgICAgcmV0dXJuIHRoaXMuaW1hZ2VzLmFkZChrZXksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgaW1hZ2UubG9hZGluZyA9IFwiZWFnZXJcIjtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJUZ2RBc3NldEltYWdlXCIsXG4gICAgICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICAgICAgaW1hZ2U6IGltYWdlLFxuICAgICAgICAgICAgICAgIGlzU3VjY2Vzc2Z1bGx5TG9hZGVkOiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgICAgICBpbWFnZS5zcmMgPSBzcmM7XG4gICAgICAgICAgICAgICAgICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUodHJ1ZSk7IH07XG4gICAgICAgICAgICAgICAgICAgIGltYWdlLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7IHJldHVybiByZXNvbHZlKGZhbHNlKTsgfTtcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQXNzZXQucHJvdG90eXBlLmRlc3Ryb3lJbWFnZSA9IGZ1bmN0aW9uIChhc3NldCkge1xuICAgICAgICB0aGlzLmltYWdlcy5kZWxldGUoYXNzZXQua2V5KTtcbiAgICB9O1xuICAgIHJldHVybiBBc3NldDtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBBc3NldDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFzc2V0LmpzLm1hcCIsImV4cG9ydCB7IGRlZmF1bHQgfSBmcm9tIFwiLi9hc3NldFwiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiZXhwb3J0IHsgZGVmYXVsdCB9IGZyb20gXCIuL3NjZW5lXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJvZ3JhbShnbCwgdmVydCwgZnJhZykge1xuICAgIHZhciBwcmcgPSBnbC5jcmVhdGVQcm9ncmFtKCk7XG4gICAgaWYgKCFwcmcpXG4gICAgICAgIHRocm93IEVycm9yKFwiVW5hYmxlIHRvIGNyZWF0ZSBXZWJHTCBQcm9ncmFtIVwiKTtcbiAgICB2YXIgdmVydFNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihnbC5WRVJURVhfU0hBREVSKTtcbiAgICBpZiAoIXZlcnRTaGFkZXIpXG4gICAgICAgIHRocm93IEVycm9yKFwiVW5hYmxlIHRvIGNyZWF0ZSBhIFZlcnRleCBTaGFkZXIgaGFuZGxlIVwiKTtcbiAgICBnbC5zaGFkZXJTb3VyY2UodmVydFNoYWRlciwgdmVydCk7XG4gICAgZ2wuY29tcGlsZVNoYWRlcih2ZXJ0U2hhZGVyKTtcbiAgICBnbC5hdHRhY2hTaGFkZXIocHJnLCB2ZXJ0U2hhZGVyKTtcbiAgICB2YXIgZnJhZ1NoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIpO1xuICAgIGlmICghZnJhZ1NoYWRlcilcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJVbmFibGUgdG8gY3JlYXRlIGEgRnJhZ21lbnQgU2hhZGVyIGhhbmRsZSFcIik7XG4gICAgZ2wuc2hhZGVyU291cmNlKGZyYWdTaGFkZXIsIGZyYWcpO1xuICAgIGdsLmNvbXBpbGVTaGFkZXIoZnJhZ1NoYWRlcik7XG4gICAgZ2wuYXR0YWNoU2hhZGVyKHByZywgZnJhZ1NoYWRlcik7XG4gICAgZ2wubGlua1Byb2dyYW0ocHJnKTtcbiAgICByZXR1cm4gcHJnO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlLXByb2dyYW0uanMubWFwIiwiaW1wb3J0IFJlZk1hcCBmcm9tIFwiLi4vcmVmLW1hcFwiO1xuaW1wb3J0IHsgY3JlYXRlUHJvZ3JhbSB9IGZyb20gXCIuL2NyZWF0ZS1wcm9ncmFtXCI7XG52YXIgUHJvZ3JhbU1hbmFnZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFByb2dyYW1NYW5hZ2VyKGdsKSB7XG4gICAgICAgIHRoaXMuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy5wcm9ncmFtcyA9IG5ldyBSZWZNYXAoKTtcbiAgICB9XG4gICAgUHJvZ3JhbU1hbmFnZXIucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBrZXkgPSBcIlwiLmNvbmNhdChvcHRpb25zLmZyYWdtZW50U2hhZGVyQ29kZSwgXCJcXG5cIikuY29uY2F0KG9wdGlvbnMudmVydGV4U2hhZGVyQ29kZSk7XG4gICAgICAgIHJldHVybiB0aGlzLnByb2dyYW1zLmFkZChrZXksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBwcm9ncmFtID0gY3JlYXRlUHJvZ3JhbShnbCwgb3B0aW9ucy52ZXJ0ZXhTaGFkZXJDb2RlLCBvcHRpb25zLmZyYWdtZW50U2hhZGVyQ29kZSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiVGdkUHJvZ3JhbVwiLFxuICAgICAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgICAgIHByb2dyYW06IHByb2dyYW0sXG4gICAgICAgICAgICAgICAgdXNlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUHJvZ3JhbU1hbmFnZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIGtleSA9IF9hLmtleTtcbiAgICAgICAgdmFyIHByb2dyYW0gPSB0aGlzLnByb2dyYW1zLmRlbGV0ZShrZXkpO1xuICAgICAgICBpZiAoIXByb2dyYW0pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuZ2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICB9O1xuICAgIHJldHVybiBQcm9ncmFtTWFuYWdlcjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBQcm9ncmFtTWFuYWdlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb2dyYW0tbWFuYWdlci5qcy5tYXAiLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG52YXIgUmVmTWFwID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZWZNYXAoKSB7XG4gICAgICAgIHRoaXMubWFwID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLmNvdW50ID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBSZWZNYXAucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChrZXksIGZhY3RvcnkpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgbWFwID0gX2EubWFwLCBjb3VudCA9IF9hLmNvdW50O1xuICAgICAgICBpZiAoY291bnQuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIGNvdW50LnNldChrZXksIDEgKyBjb3VudC5nZXQoa2V5KSk7XG4gICAgICAgICAgICB2YXIgY3VyVmFsID0gbWFwLmdldChrZXkpO1xuICAgICAgICAgICAgaWYgKCFjdXJWYWwpXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJbQ291bnRNYXBdIE1hcCBzaG91bGQgbm90IGJlIGVtcHR5IVwiKTtcbiAgICAgICAgICAgIHJldHVybiBjdXJWYWw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5ld1ZhbCA9IGZhY3RvcnkoKTtcbiAgICAgICAgbWFwLnNldChrZXksIG5ld1ZhbCk7XG4gICAgICAgIGNvdW50LnNldChrZXksIDEpO1xuICAgIH07XG4gICAgUmVmTWFwLnByb3RvdHlwZS5hZGRBc3luYyA9IGZ1bmN0aW9uIChrZXksIGZhY3RvcnkpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hLCBtYXAsIGNvdW50LCBjdXJWYWwsIG5ld1ZhbDtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hID0gdGhpcywgbWFwID0gX2EubWFwLCBjb3VudCA9IF9hLmNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50LmhhcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQuc2V0KGtleSwgMSArIGNvdW50LmdldChrZXkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJWYWwgPSBtYXAuZ2V0KGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJWYWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiW0NvdW50TWFwXSBNYXAgc2hvdWxkIG5vdCBiZSBlbXB0eSFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyLCBjdXJWYWxdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCBmYWN0b3J5KCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdWYWwgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXAuc2V0KGtleSwgbmV3VmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50LnNldChrZXksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBSZWZNYXAucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgbWFwID0gX2EubWFwLCBjb3VudCA9IF9hLmNvdW50O1xuICAgICAgICBpZiAoIW1hcC5oYXMoa2V5KSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIG5ld0NvdW50ID0gY291bnQuZ2V0KGtleSkgLSAxO1xuICAgICAgICBpZiAobmV3Q291bnQgPiAwKSB7XG4gICAgICAgICAgICBjb3VudC5zZXQoa2V5LCBuZXdDb3VudCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbHVlID0gbWFwLmdldChrZXkpO1xuICAgICAgICBtYXAuZGVsZXRlKGtleSk7XG4gICAgICAgIGNvdW50LmRlbGV0ZShrZXkpO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICByZXR1cm4gUmVmTWFwO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFJlZk1hcDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlZi1tYXAuanMubWFwIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChnICYmIChnID0gMCwgb3BbMF0gJiYgKF8gPSAwKSksIF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xuaW1wb3J0IFBhaW50ZXJBcnJheSBmcm9tIFwiLi4vcGFpbnRlci9hcnJheVwiO1xuaW1wb3J0IEFzc2V0IGZyb20gXCIuL2Fzc2V0XCI7XG5pbXBvcnQgVGV4dHVyZU1hbmFnZXIgZnJvbSBcIi4vdGV4dHVyZS90ZXh0dXJlLW1hbmFnZXJcIjtcbmltcG9ydCBQcm9ncmFtTWFuYWdlciBmcm9tIFwiLi9wcm9ncmFtL3Byb2dyYW0tbWFuYWdlclwiO1xudmFyIFNjZW5lID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTY2VuZShjYW52YXMsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XG4gICAgICAgIHRoaXMucGFpbnRlcnMgPSBuZXcgUGFpbnRlckFycmF5KCk7XG4gICAgICAgIHRoaXMuaXNBbmltYXRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxhc3RDYW52YXNXaWR0aCA9IDA7XG4gICAgICAgIHRoaXMubGFzdENhbnZhc0hlaWdodCA9IDA7XG4gICAgICAgIHRoaXMubGFzdFRpbWUgPSAtMTtcbiAgICAgICAgdGhpcy5fc2NyZWVuUmF0aW8gPSAxO1xuICAgICAgICB0aGlzLnBhaW50ID0gZnVuY3Rpb24gKHRpbWUpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLCBnbCA9IF9hLmdsLCBsYXN0Q2FudmFzV2lkdGggPSBfYS5sYXN0Q2FudmFzV2lkdGgsIGxhc3RDYW52YXNIZWlnaHQgPSBfYS5sYXN0Q2FudmFzSGVpZ2h0LCBsYXN0VGltZSA9IF9hLmxhc3RUaW1lO1xuICAgICAgICAgICAgaWYgKGxhc3RUaW1lIDwgMCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmxhc3RUaW1lID0gdGltZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5kcmF3KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNhbnZhcyA9IGdsLmNhbnZhcztcbiAgICAgICAgICAgIHZhciBkcHIgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICAgICAgICAgIHZhciBleHBlY3RlZFdpZHRoID0gTWF0aC5tYXgoMSwgTWF0aC5yb3VuZChjYW52YXMuY2xpZW50V2lkdGggKiBkcHIpKTtcbiAgICAgICAgICAgIHZhciBleHBlY3RlZGhlaWdodCA9IE1hdGgubWF4KDEsIE1hdGgucm91bmQoY2FudmFzLmNsaWVudEhlaWdodCAqIGRwcikpO1xuICAgICAgICAgICAgaWYgKGxhc3RDYW52YXNXaWR0aCAhPT0gZXhwZWN0ZWRXaWR0aCB8fFxuICAgICAgICAgICAgICAgIGxhc3RDYW52YXNIZWlnaHQgIT09IGV4cGVjdGVkaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gZXhwZWN0ZWRXaWR0aDtcbiAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gZXhwZWN0ZWRoZWlnaHQ7XG4gICAgICAgICAgICAgICAgX3RoaXMubGFzdENhbnZhc1dpZHRoID0gZXhwZWN0ZWRXaWR0aDtcbiAgICAgICAgICAgICAgICBfdGhpcy5sYXN0Q2FudmFzSGVpZ2h0ID0gZXhwZWN0ZWRoZWlnaHQ7XG4gICAgICAgICAgICAgICAgZ2wudmlld3BvcnQoMCwgMCwgZXhwZWN0ZWRXaWR0aCwgZXhwZWN0ZWRoZWlnaHQpO1xuICAgICAgICAgICAgICAgIF90aGlzLnNjcmVlblJhdGlvID0gZXhwZWN0ZWRXaWR0aCAvIGV4cGVjdGVkaGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGRlbGF5ID0gdGltZSAtIF90aGlzLmxhc3RUaW1lO1xuICAgICAgICAgICAgX3RoaXMubGFzdFRpbWUgPSB0aW1lO1xuICAgICAgICAgICAgX3RoaXMucGFpbnRlcnMuZHJhdyh0aW1lLCBkZWxheSwgX3RoaXMpO1xuICAgICAgICAgICAgX3RoaXMucGFpbnRlcnMucGxheSh0aW1lLCBkZWxheSwgX3RoaXMpO1xuICAgICAgICAgICAgaWYgKF90aGlzLmlzQW5pbWF0ZWQpXG4gICAgICAgICAgICAgICAgX3RoaXMuZHJhdygpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dChcIndlYmdsMlwiLCBvcHRpb25zKTtcbiAgICAgICAgaWYgKCFnbClcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiVW5hYmxlIHRvIGNyZWF0ZSBhIFdlYkdMMiBjb250ZXh0IVwiKTtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLmFzc2V0ID0gbmV3IEFzc2V0KCk7XG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IG5ldyBQcm9ncmFtTWFuYWdlcihnbCk7XG4gICAgICAgIHRoaXMudGV4dHVyZSA9IG5ldyBUZXh0dXJlTWFuYWdlcihnbCk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTY2VuZS5wcm90b3R5cGUsIFwic2NyZWVuUmF0aW9cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zY3JlZW5SYXRpbztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3NjcmVlblJhdGlvID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2NlbmUucHJvdG90eXBlLCBcIndpZHRoXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sYXN0Q2FudmFzV2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2NlbmUucHJvdG90eXBlLCBcImhlaWdodFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFzdENhbnZhc0hlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTY2VuZS5wcm90b3R5cGUsIFwiYW5pbWF0ZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNBbmltYXRlZDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzQW5pbWF0ZWQgPT09IHZhbHVlKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuaXNBbmltYXRlZCA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKHZhbHVlKVxuICAgICAgICAgICAgICAgIHRoaXMuZHJhdygpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgU2NlbmUucHJvdG90eXBlLmFkZFBhaW50ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwYWludGVycyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgcGFpbnRlcnNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2EsIHBhaW50ZXJzXzEsIHBhaW50ZXI7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICAgICAgZm9yIChfYSA9IDAsIHBhaW50ZXJzXzEgPSBwYWludGVyczsgX2EgPCBwYWludGVyc18xLmxlbmd0aDsgX2ErKykge1xuICAgICAgICAgICAgICAgICAgICBwYWludGVyID0gcGFpbnRlcnNfMVtfYV07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFpbnRlcnMuYWRkKHBhaW50ZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gWzJdO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU2NlbmUucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5wYWludCk7XG4gICAgfTtcbiAgICBTY2VuZS5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFpbnRlcnMuaW5pdGlhbGl6ZSh0aGlzKTtcbiAgICB9O1xuICAgIFNjZW5lLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnBhaW50ZXJzLmRlc3Ryb3kodGhpcyk7XG4gICAgfTtcbiAgICByZXR1cm4gU2NlbmU7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgU2NlbmU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2VuZS5qcy5tYXAiLCJpbXBvcnQgUmVmTWFwIGZyb20gXCIuLi9yZWYtbWFwXCI7XG52YXIgVGV4dHVyZU1hbmFnZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRleHR1cmVNYW5hZ2VyKGdsKSB7XG4gICAgICAgIHRoaXMuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy50ZXh0dXJlcyA9IG5ldyBSZWZNYXAoKTtcbiAgICB9XG4gICAgVGV4dHVyZU1hbmFnZXIucHJvdG90eXBlLmNyZWF0ZUZyb21Bc3NldCA9IGZ1bmN0aW9uIChhc3NldCwgX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIF9jID0gX2IucGxhY2Vob2xkZXIsIHBsYWNlaG9sZGVyID0gX2MgPT09IHZvaWQgMCA/IFswLCAwLCAwLCAwXSA6IF9jO1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIga2V5ID0gYXNzZXQua2V5O1xuICAgICAgICByZXR1cm4gdGhpcy50ZXh0dXJlcy5hZGQoa2V5LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUpO1xuICAgICAgICAgICAgdmFyIGxldmVsID0gMDtcbiAgICAgICAgICAgIHZhciBpbnRlcm5hbEZvcm1hdCA9IGdsLlJHQkE7XG4gICAgICAgICAgICB2YXIgd2lkdGggPSAxO1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IDE7XG4gICAgICAgICAgICB2YXIgYm9yZGVyID0gMDtcbiAgICAgICAgICAgIHZhciBzcmNGb3JtYXQgPSBnbC5SR0JBO1xuICAgICAgICAgICAgdmFyIHNyY1R5cGUgPSBnbC5VTlNJR05FRF9CWVRFO1xuICAgICAgICAgICAgdmFyIHBpeGVsID0gbmV3IFVpbnQ4QXJyYXkocGxhY2Vob2xkZXIpO1xuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCBsZXZlbCwgaW50ZXJuYWxGb3JtYXQsIHdpZHRoLCBoZWlnaHQsIGJvcmRlciwgc3JjRm9ybWF0LCBzcmNUeXBlLCBwaXhlbCk7XG4gICAgICAgICAgICBhc3NldC5pc1N1Y2Nlc3NmdWxseUxvYWRlZC50aGVuKGZ1bmN0aW9uIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzdWNjZXNzKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCBsZXZlbCwgaW50ZXJuYWxGb3JtYXQsIHNyY0Zvcm1hdCwgc3JjVHlwZSwgYXNzZXQuaW1hZ2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiVGdkVGV4dHVyZVwiLFxuICAgICAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgICAgIHRleHR1cmU6IHRleHR1cmUsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFRleHR1cmVNYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBrZXkgPSBfYS5rZXk7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy50ZXh0dXJlcy5kZWxldGUoa2V5KTtcbiAgICAgICAgaWYgKCF0ZXh0dXJlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLmdsLmRlbGV0ZVRleHR1cmUodGV4dHVyZS50ZXh0dXJlKTtcbiAgICB9O1xuICAgIHJldHVybiBUZXh0dXJlTWFuYWdlcjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBUZXh0dXJlTWFuYWdlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRleHR1cmUtbWFuYWdlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=