"use strict";(self.webpackChunk_tolokoban_tgd=self.webpackChunk_tolokoban_tgd||[]).push([["1650"],{6167:function(e,A,n){n.r(A),n.d(A,{default:()=>b});var t=n(4848),r=n(8453),o=n(6540),a=n(1818),i=n(385),l=n(8471),d=n(3172);class s extends l.TgdMaterial{constructor(){super({uniforms:{texDiffuse:"sampler2D",uniTime:"float"},varyings:{varUV:"vec2"},fragmentShaderCode:["vec4 color1 = texture(texDiffuse, varUV * 1.0);","float k = 0.7071067811865476;","float ang = uniTime * .777;","vec4 color2 = vec4(",["0.5 + k * sin(ang - 2.0943951023931953),","0.5 + k * sin(ang),","0.5 + k * sin(ang + 2.0943951023931953),","1.0"],");","vec2 p = 2.0 * (varUV - vec2(.5));","vec2 polar = vec2(",["length(p),","atan(p.y, p.x)"],");","float alpha = 0.1 + 0.3 * (cos(uniTime * 1.451) * sin(uniTime) + 1.0);","polar.y -= uniTime * 1.421 * (1.0 + pow(polar.x, .5));","polar.x += 0.25 * sin(0.75 * uniTime + polar.y * 3.0) * cos(uniTime * 1.751);","float beta = 1.0 - smoothstep(0.0, 0.1 + 0.1 * abs(sin(uniTime * 1.1474) * cos(uniTime) * 1.452), abs(fract(polar.x * 0.90) - 0.5));","return mix(color1, color2, max(alpha, beta));"],vertexShaderCode:["varUV = TEXCOORD_0;"],setUniforms:({program:e,time:A})=>{let{texture:n}=this;n&&n.activate(0,e,"texDiffuse"),e.uniform1f("uniTime",.001*A)}}),this.texture=void 0}}var c=n(4859);function f(e,A){e.camera=new l.TgdCameraPerspective({transfo:{distance:0},far:100,near:.01,fovy:.25*Math.PI,zoom:.333}),new l.TgdControllerCameraOrbit(e,{speedPanning:0,inertiaOrbit:1e3});let n=new l.TgdPainterFramebuffer(e,{textureColor0:new l.TgdTexture2D(e)}),t=new l.TgdPainterFramebuffer(e,{textureColor0:new l.TgdTexture2D(e)}),r=new s;r.texture=new l.TgdTexture2D(e).loadBitmap(A.image.background);let o=new l.TgdPainterState(e,{depth:l.webglPresetDepth.less,children:[new l.TgdPainterClear(e,{color:new l.TgdVec4,depth:1}),new l.TgdPainterMeshGltf(e,{asset:A.glb.mesh,material:()=>r})]});n.add(o);let a=new l.TgdPainterFilter(e,{filters:[new l.TgdFilterHueRotation({hueShiftInDegrees:90})],texture:n.textureColor0});t.add(a);let i=new l.TgdPainterFilter(e,{texture:n.textureColor0,filters:[new l.TgdFilterZoom({zoom:1.1})],flipY:!0});n.onExit=()=>{a.texture=n.textureColor0},t.onExit=()=>{r.texture=t.textureColor0,i.texture=t.textureColor0},e.add(n,t,i,new l.TgdPainterLogic((A,n)=>{let{camera:t}=e;t.transfo.orbitAroundY(n)})),e.play()}function u(){return(0,t.jsx)(d.A,{onReady:f,assets:{glb:{mesh:"data:model/gltf-binary;base64,Z2xURgIAAADABgAAXAMAAEpTT057ImFzc2V0Ijp7ImdlbmVyYXRvciI6Iktocm9ub3MgZ2xURiBCbGVuZGVyIEkvTyB2NC4zLjQ3IiwidmVyc2lvbiI6IjIuMCJ9LCJzY2VuZSI6MCwic2NlbmVzIjpbeyJuYW1lIjoiU2NlbmUiLCJub2RlcyI6WzBdfV0sIm5vZGVzIjpbeyJtZXNoIjowLCJuYW1lIjoiQ3ViZSJ9XSwibWVzaGVzIjpbeyJuYW1lIjoiQ3ViZSIsInByaW1pdGl2ZXMiOlt7ImF0dHJpYnV0ZXMiOnsiUE9TSVRJT04iOjAsIk5PUk1BTCI6MSwiVEVYQ09PUkRfMCI6Mn0sImluZGljZXMiOjN9XX1dLCJhY2Nlc3NvcnMiOlt7ImJ1ZmZlclZpZXciOjAsImNvbXBvbmVudFR5cGUiOjUxMjYsImNvdW50IjoyNCwibWF4IjpbMSwxLDFdLCJtaW4iOlstMSwtMSwtMV0sInR5cGUiOiJWRUMzIn0seyJidWZmZXJWaWV3IjoxLCJjb21wb25lbnRUeXBlIjo1MTI2LCJjb3VudCI6MjQsInR5cGUiOiJWRUMzIn0seyJidWZmZXJWaWV3IjoyLCJjb21wb25lbnRUeXBlIjo1MTI2LCJjb3VudCI6MjQsInR5cGUiOiJWRUMyIn0seyJidWZmZXJWaWV3IjozLCJjb21wb25lbnRUeXBlIjo1MTIzLCJjb3VudCI6MzYsInR5cGUiOiJTQ0FMQVIifV0sImJ1ZmZlclZpZXdzIjpbeyJidWZmZXIiOjAsImJ5dGVMZW5ndGgiOjI4OCwiYnl0ZU9mZnNldCI6MCwidGFyZ2V0IjozNDk2Mn0seyJidWZmZXIiOjAsImJ5dGVMZW5ndGgiOjI4OCwiYnl0ZU9mZnNldCI6Mjg4LCJ0YXJnZXQiOjM0OTYyfSx7ImJ1ZmZlciI6MCwiYnl0ZUxlbmd0aCI6MTkyLCJieXRlT2Zmc2V0Ijo1NzYsInRhcmdldCI6MzQ5NjJ9LHsiYnVmZmVyIjowLCJieXRlTGVuZ3RoIjo3MiwiYnl0ZU9mZnNldCI6NzY4LCJ0YXJnZXQiOjM0OTYzfV0sImJ1ZmZlcnMiOlt7ImJ5dGVMZW5ndGgiOjg0MH1dfUgDAABCSU4AAACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIC/AACAPwAAgD8AAIC/AACAPwAAgD8AAIC/AACAPwAAgL8AAIA/AACAPwAAgL8AAIA/AACAPwAAgL8AAIA/AACAPwAAgL8AAIC/AACAPwAAgL8AAIC/AACAPwAAgL8AAIC/AACAvwAAgD8AAIA/AACAvwAAgD8AAIA/AACAvwAAgD8AAIA/AACAvwAAgD8AAIC/AACAvwAAgD8AAIC/AACAvwAAgD8AAIC/AACAvwAAgL8AAIA/AACAvwAAgL8AAIA/AACAvwAAgL8AAIA/AACAvwAAgL8AAIC/AACAvwAAgL8AAIC/AACAvwAAgL8AAIC/AAAAAAAAAAAAAIA/AAAAAAAAgD8AAAAAAACAPwAAAAAAAAAAAAAAAAAAAAAAAIC/AAAAAAAAgD8AAAAAAACAPwAAAAAAAAAAAAAAAAAAAAAAAIA/AAAAAAAAgL8AAAAAAACAPwAAAAAAAAAAAAAAAAAAAAAAAIC/AAAAAAAAgL8AAAAAAACAPwAAAAAAAAAAAAAAAAAAAAAAAIA/AAAAAAAAgD8AAAAAAACAvwAAAAAAAAAAAAAAAAAAAAAAAIC/AAAAAAAAgD8AAAAAAACAvwAAAAAAAAAAAAAAAAAAAAAAAIA/AAAAAAAAgL8AAAAAAACAvwAAAAAAAAAAAAAAAAAAAAAAAIC/AAAAAAAAgL8AAAAAAACAvwAAAAAAAAAAuth/P7nYfz+22H8/uth/P7XYfz+52H8/uNh/P7nYfz+22H8/ACQdOgASHTq42H8/ACAdOrjYfz+42H8/uth/P7jYfz8AKB06uth/PwAcHToAHB06udh/PwAYHToAHB06uth/PwAoHToAFh06uth/P7bYfz+52H8/ACAdOrbYfz8AIh06ACQdOrrYfz8AKB06ACYdOgAcHTq62H8/ACgdOgAgHTq52H8/ACgdOgAQHToAIB06ABwdOgAgHToAKB06AAAMABIAAAASAAYACgAHABMACgATABYAFwAUAA4AFwAOABEADwADAAkADwAJABUABQACAAgABQAIAAsAEAANAAEAEAABAAQA"},image:{background:c}}})}let g={"Detail #1":"    context.camera = new TgdCameraPerspective({\n        transfo: { distance: 0 },\n        far: 100,\n        near: 0.01,\n        fovy: Math.PI * 0.25,\n        zoom: 0.333,\n    })\n    new TgdControllerCameraOrbit(context, {\n        speedPanning: 0,\n        inertiaOrbit: 1000,\n    })\n    const framebufferRender = new TgdPainterFramebuffer(context, {\n        textureColor0: new TgdTexture2D(context),\n    })\n    const framebufferCopy = new TgdPainterFramebuffer(context, {\n        textureColor0: new TgdTexture2D(context),\n    })\n    const material = new Material()\n    material.texture = new TgdTexture2D(context).loadBitmap(\n        assets.image.background\n    )\n    const painter = new TgdPainterState(context, {\n        depth: webglPresetDepth.less,\n        // cull: webglPresetCull.front,\n        children: [\n            new TgdPainterClear(context, {\n                color: new TgdVec4(),\n                depth: 1,\n            }),\n            new TgdPainterMeshGltf(context, {\n                asset: assets.glb.mesh,\n                material: () => material,\n            }),\n        ],\n    })\n    framebufferRender.add(painter)\n    const copy = new TgdPainterFilter(context, {\n        filters: [\n            new TgdFilterHueRotation({\n                hueShiftInDegrees: 90,\n            }),\n        ],\n        texture: framebufferRender.textureColor0,\n    })\n    framebufferCopy.add(copy)\n    const screen = new TgdPainterFilter(context, {\n        texture: framebufferRender.textureColor0,\n        filters: [new TgdFilterZoom({ zoom: 1.1 })],\n        flipY: true,\n    })\n    framebufferRender.onExit = () => {\n        copy.texture = framebufferRender.textureColor0\n    }\n    framebufferCopy.onExit = () => {\n        material.texture = framebufferCopy.textureColor0\n        screen.texture = framebufferCopy.textureColor0\n    }\n    context.add(\n        framebufferRender,\n        framebufferCopy,\n        screen,\n        new TgdPainterLogic((time, delay) => {\n            const { camera } = context\n            camera.transfo.orbitAroundY(delay)\n        })\n    )\n    context.play()"};function m(){let[e,A]=o.useState(!1);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"half-left",children:(0,t.jsx)(u,{})}),(0,t.jsxs)("div",{className:"half-right",children:[(0,t.jsx)("div",{children:(0,t.jsx)(a.yQN,{variant:"elevated",onClick:()=>A(!e),children:e?"Show code details":"Show full code"})}),(0,t.jsx)(i.A,{language:"tsx",value:e?'import {\n    TgdCameraPerspective,\n    TgdContext,\n    TgdControllerCameraOrbit,\n    TgdFilterHueRotation,\n    TgdFilterZoom,\n    TgdPainterClear,\n    TgdPainterFilter,\n    TgdPainterFramebuffer,\n    TgdPainterLogic,\n    TgdPainterMeshGltf,\n    TgdPainterState,\n    TgdTexture2D,\n    TgdVec4,\n    webglPresetDepth,\n} from "@tolokoban/tgd"\nimport View, { Assets } from "@/components/demo/Tgd"\nimport { Material } from "./material"\n\nimport CubeURL from "@/assets/mesh/cube.glb"\nimport BackgroundURL from "@/assets/image/dino.webp"\n\nfunction init(context: TgdContext, assets: Assets) {\n    context.camera = new TgdCameraPerspective({\n        transfo: { distance: 0 },\n        far: 100,\n        near: 0.01,\n        fovy: Math.PI * 0.25,\n        zoom: 0.333,\n    })\n    new TgdControllerCameraOrbit(context, {\n        speedPanning: 0,\n        inertiaOrbit: 1000,\n    })\n    const framebufferRender = new TgdPainterFramebuffer(context, {\n        textureColor0: new TgdTexture2D(context),\n    })\n    const framebufferCopy = new TgdPainterFramebuffer(context, {\n        textureColor0: new TgdTexture2D(context),\n    })\n    const material = new Material()\n    material.texture = new TgdTexture2D(context).loadBitmap(\n        assets.image.background\n    )\n    const painter = new TgdPainterState(context, {\n        depth: webglPresetDepth.less,\n        // cull: webglPresetCull.front,\n        children: [\n            new TgdPainterClear(context, {\n                color: new TgdVec4(),\n                depth: 1,\n            }),\n            new TgdPainterMeshGltf(context, {\n                asset: assets.glb.mesh,\n                material: () => material,\n            }),\n        ],\n    })\n    framebufferRender.add(painter)\n    const copy = new TgdPainterFilter(context, {\n        filters: [\n            new TgdFilterHueRotation({\n                hueShiftInDegrees: 90,\n            }),\n        ],\n        texture: framebufferRender.textureColor0,\n    })\n    framebufferCopy.add(copy)\n    const screen = new TgdPainterFilter(context, {\n        texture: framebufferRender.textureColor0,\n        filters: [new TgdFilterZoom({ zoom: 1.1 })],\n        flipY: true,\n    })\n    framebufferRender.onExit = () => {\n        copy.texture = framebufferRender.textureColor0\n    }\n    framebufferCopy.onExit = () => {\n        material.texture = framebufferCopy.textureColor0\n        screen.texture = framebufferCopy.textureColor0\n    }\n    context.add(\n        framebufferRender,\n        framebufferCopy,\n        screen,\n        new TgdPainterLogic((time, delay) => {\n            const { camera } = context\n            camera.transfo.orbitAroundY(delay)\n        })\n    )\n    context.play()\n}\n\nexport default function Demo() {\n    return (\n        <View\n            onReady={init}\n            assets={{\n                glb: {\n                    mesh: CubeURL,\n                },\n                image: {\n                    background: BackgroundURL,\n                },\n            }}\n        />\n    )\n}\n':g})]})]})}function C(e){for(var A=1;A<arguments.length;A++){var n=null!=arguments[A]?arguments[A]:{},t=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.forEach(function(A){var t;t=n[A],A in e?Object.defineProperty(e,A,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[A]=t})}return e}function w(e){var A=C({a:"a",h1:"h1"},(0,r.R)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(A.h1,{children:[(0,t.jsx)(A.a,{href:"docs/classes/TgdPainterFramebuffer.html",children:"TgdPainterFramebuffer"})," - Example 2"]}),"\n",(0,t.jsx)(m,{})]})}function b(){var e,A,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=C({},(0,r.R)(),n.components).wrapper;return o?(0,t.jsx)(o,(e=C({},n),A=A={children:(0,t.jsx)(w,C({},n))},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):(function(e,A){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n.push.apply(n,t)}return n})(Object(A)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(A,n))}),e)):w(n)}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NyLzE2NTAuYzBlZGViYTZkNWI1YWNmZC5qcyIsInNvdXJjZXMiOlsiL1VzZXJzL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvZG9jL3NyYy9hcHAvYXJ0aWNsZXMvcGFpbnRlci9mcmFtZWJ1ZmZlci9leGFtcGxlMi9fL2ZyYW1lYnVmZmVyLmRlbW8vbWF0ZXJpYWwudHMiLCIvVXNlcnMvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9kb2Mvc3JjL2FwcC9hcnRpY2xlcy9wYWludGVyL2ZyYW1lYnVmZmVyL2V4YW1wbGUyL18vZnJhbWVidWZmZXIuZGVtby9mcmFtZWJ1ZmZlci5kZW1vLnRzeCIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2RvYy9zcmMvYXBwL2FydGljbGVzL3BhaW50ZXIvZnJhbWVidWZmZXIvZXhhbXBsZTIvXy9mcmFtZWJ1ZmZlci5kZW1vL2luZGV4LnRzeCIsIi9Vc2Vycy90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2RvYy9zcmMvYXBwL2FydGljbGVzL3BhaW50ZXIvZnJhbWVidWZmZXIvZXhhbXBsZTIvcGFnZS5tZHgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNOdW1iZXIgfSBmcm9tIFwiQHRvbG9rb2Jhbi90eXBlLWd1YXJkc1wiXG5pbXBvcnQgeyBUZ2RNYXRlcmlhbCwgVGdkUHJvZ3JhbSwgVGdkVGV4dHVyZTJEIH0gZnJvbSBcIkB0b2xva29iYW4vdGdkXCJcblxuZXhwb3J0IGNsYXNzIE1hdGVyaWFsIGV4dGVuZHMgVGdkTWF0ZXJpYWwge1xuICAgIHB1YmxpYyB0ZXh0dXJlOiBUZ2RUZXh0dXJlMkQgfCB1bmRlZmluZWQgPSB1bmRlZmluZWRcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICB1bmlmb3JtczogeyB0ZXhEaWZmdXNlOiBcInNhbXBsZXIyRFwiLCB1bmlUaW1lOiBcImZsb2F0XCIgfSxcbiAgICAgICAgICAgIHZhcnlpbmdzOiB7IHZhclVWOiBcInZlYzJcIiB9LFxuICAgICAgICAgICAgZnJhZ21lbnRTaGFkZXJDb2RlOiBbXG4gICAgICAgICAgICAgICAgYHZlYzQgY29sb3IxID0gdGV4dHVyZSh0ZXhEaWZmdXNlLCB2YXJVViAqIDEuMCk7YCxcbiAgICAgICAgICAgICAgICBgZmxvYXQgayA9IDAuNzA3MTA2NzgxMTg2NTQ3NjtgLFxuICAgICAgICAgICAgICAgIGBmbG9hdCBhbmcgPSB1bmlUaW1lICogLjc3NztgLFxuICAgICAgICAgICAgICAgIGB2ZWM0IGNvbG9yMiA9IHZlYzQoYCxcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIGAwLjUgKyBrICogc2luKGFuZyAtIDIuMDk0Mzk1MTAyMzkzMTk1MyksYCxcbiAgICAgICAgICAgICAgICAgICAgYDAuNSArIGsgKiBzaW4oYW5nKSxgLFxuICAgICAgICAgICAgICAgICAgICBgMC41ICsgayAqIHNpbihhbmcgKyAyLjA5NDM5NTEwMjM5MzE5NTMpLGAsXG4gICAgICAgICAgICAgICAgICAgIGAxLjBgLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgYCk7YCxcbiAgICAgICAgICAgICAgICBgdmVjMiBwID0gMi4wICogKHZhclVWIC0gdmVjMiguNSkpO2AsXG4gICAgICAgICAgICAgICAgYHZlYzIgcG9sYXIgPSB2ZWMyKGAsXG4gICAgICAgICAgICAgICAgW2BsZW5ndGgocCksYCwgYGF0YW4ocC55LCBwLngpYF0sXG4gICAgICAgICAgICAgICAgYCk7YCxcbiAgICAgICAgICAgICAgICBgZmxvYXQgYWxwaGEgPSAwLjEgKyAwLjMgKiAoY29zKHVuaVRpbWUgKiAxLjQ1MSkgKiBzaW4odW5pVGltZSkgKyAxLjApO2AsXG4gICAgICAgICAgICAgICAgYHBvbGFyLnkgLT0gdW5pVGltZSAqIDEuNDIxICogKDEuMCArIHBvdyhwb2xhci54LCAuNSkpO2AsXG4gICAgICAgICAgICAgICAgYHBvbGFyLnggKz0gMC4yNSAqIHNpbigwLjc1ICogdW5pVGltZSArIHBvbGFyLnkgKiAzLjApICogY29zKHVuaVRpbWUgKiAxLjc1MSk7YCxcbiAgICAgICAgICAgICAgICBgZmxvYXQgYmV0YSA9IDEuMCAtIHNtb290aHN0ZXAoMC4wLCAwLjEgKyAwLjEgKiBhYnMoc2luKHVuaVRpbWUgKiAxLjE0NzQpICogY29zKHVuaVRpbWUpICogMS40NTIpLCBhYnMoZnJhY3QocG9sYXIueCAqIDAuOTApIC0gMC41KSk7YCxcbiAgICAgICAgICAgICAgICBgcmV0dXJuIG1peChjb2xvcjEsIGNvbG9yMiwgbWF4KGFscGhhLCBiZXRhKSk7YCxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB2ZXJ0ZXhTaGFkZXJDb2RlOiBbXCJ2YXJVViA9IFRFWENPT1JEXzA7XCJdLFxuICAgICAgICAgICAgc2V0VW5pZm9ybXM6ICh7XG4gICAgICAgICAgICAgICAgcHJvZ3JhbSxcbiAgICAgICAgICAgICAgICB0aW1lLFxuICAgICAgICAgICAgfToge1xuICAgICAgICAgICAgICAgIHByb2dyYW06IFRnZFByb2dyYW1cbiAgICAgICAgICAgICAgICB0aW1lOiBudW1iZXJcbiAgICAgICAgICAgIH0pOiB2b2lkID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHRleHR1cmUgfSA9IHRoaXNcbiAgICAgICAgICAgICAgICBpZiAodGV4dHVyZSkgdGV4dHVyZS5hY3RpdmF0ZSgwLCBwcm9ncmFtLCBcInRleERpZmZ1c2VcIilcbiAgICAgICAgICAgICAgICBwcm9ncmFtLnVuaWZvcm0xZihcInVuaVRpbWVcIiwgdGltZSAqIDFlLTMpXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgIH1cbn1cbiIsImltcG9ydCB7XG4gICAgVGdkQ2FtZXJhUGVyc3BlY3RpdmUsXG4gICAgVGdkQ29udGV4dCxcbiAgICBUZ2RDb250cm9sbGVyQ2FtZXJhT3JiaXQsXG4gICAgVGdkRmlsdGVySHVlUm90YXRpb24sXG4gICAgVGdkRmlsdGVyWm9vbSxcbiAgICBUZ2RQYWludGVyQ2xlYXIsXG4gICAgVGdkUGFpbnRlckZpbHRlcixcbiAgICBUZ2RQYWludGVyRnJhbWVidWZmZXIsXG4gICAgVGdkUGFpbnRlckxvZ2ljLFxuICAgIFRnZFBhaW50ZXJNZXNoR2x0ZixcbiAgICBUZ2RQYWludGVyU3RhdGUsXG4gICAgVGdkVGV4dHVyZTJELFxuICAgIFRnZFZlYzQsXG4gICAgd2ViZ2xQcmVzZXREZXB0aCxcbn0gZnJvbSBcIkB0b2xva29iYW4vdGdkXCJcbmltcG9ydCBWaWV3LCB7IEFzc2V0cyB9IGZyb20gXCJAL2NvbXBvbmVudHMvZGVtby9UZ2RcIlxuaW1wb3J0IHsgTWF0ZXJpYWwgfSBmcm9tIFwiLi9tYXRlcmlhbFwiXG5cbmltcG9ydCBDdWJlVVJMIGZyb20gXCJAL2Fzc2V0cy9tZXNoL2N1YmUuZ2xiXCJcbmltcG9ydCBCYWNrZ3JvdW5kVVJMIGZyb20gXCJAL2Fzc2V0cy9pbWFnZS9kaW5vLndlYnBcIlxuXG5mdW5jdGlvbiBpbml0KGNvbnRleHQ6IFRnZENvbnRleHQsIGFzc2V0czogQXNzZXRzKSB7XG4gICAgLy8gI2JlZ2luXG4gICAgY29udGV4dC5jYW1lcmEgPSBuZXcgVGdkQ2FtZXJhUGVyc3BlY3RpdmUoe1xuICAgICAgICB0cmFuc2ZvOiB7IGRpc3RhbmNlOiAwIH0sXG4gICAgICAgIGZhcjogMTAwLFxuICAgICAgICBuZWFyOiAwLjAxLFxuICAgICAgICBmb3Z5OiBNYXRoLlBJICogMC4yNSxcbiAgICAgICAgem9vbTogMC4zMzMsXG4gICAgfSlcbiAgICBuZXcgVGdkQ29udHJvbGxlckNhbWVyYU9yYml0KGNvbnRleHQsIHtcbiAgICAgICAgc3BlZWRQYW5uaW5nOiAwLFxuICAgICAgICBpbmVydGlhT3JiaXQ6IDEwMDAsXG4gICAgfSlcbiAgICBjb25zdCBmcmFtZWJ1ZmZlclJlbmRlciA9IG5ldyBUZ2RQYWludGVyRnJhbWVidWZmZXIoY29udGV4dCwge1xuICAgICAgICB0ZXh0dXJlQ29sb3IwOiBuZXcgVGdkVGV4dHVyZTJEKGNvbnRleHQpLFxuICAgIH0pXG4gICAgY29uc3QgZnJhbWVidWZmZXJDb3B5ID0gbmV3IFRnZFBhaW50ZXJGcmFtZWJ1ZmZlcihjb250ZXh0LCB7XG4gICAgICAgIHRleHR1cmVDb2xvcjA6IG5ldyBUZ2RUZXh0dXJlMkQoY29udGV4dCksXG4gICAgfSlcbiAgICBjb25zdCBtYXRlcmlhbCA9IG5ldyBNYXRlcmlhbCgpXG4gICAgbWF0ZXJpYWwudGV4dHVyZSA9IG5ldyBUZ2RUZXh0dXJlMkQoY29udGV4dCkubG9hZEJpdG1hcChcbiAgICAgICAgYXNzZXRzLmltYWdlLmJhY2tncm91bmRcbiAgICApXG4gICAgY29uc3QgcGFpbnRlciA9IG5ldyBUZ2RQYWludGVyU3RhdGUoY29udGV4dCwge1xuICAgICAgICBkZXB0aDogd2ViZ2xQcmVzZXREZXB0aC5sZXNzLFxuICAgICAgICAvLyBjdWxsOiB3ZWJnbFByZXNldEN1bGwuZnJvbnQsXG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICBuZXcgVGdkUGFpbnRlckNsZWFyKGNvbnRleHQsIHtcbiAgICAgICAgICAgICAgICBjb2xvcjogbmV3IFRnZFZlYzQoKSxcbiAgICAgICAgICAgICAgICBkZXB0aDogMSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgbmV3IFRnZFBhaW50ZXJNZXNoR2x0Zihjb250ZXh0LCB7XG4gICAgICAgICAgICAgICAgYXNzZXQ6IGFzc2V0cy5nbGIubWVzaCxcbiAgICAgICAgICAgICAgICBtYXRlcmlhbDogKCkgPT4gbWF0ZXJpYWwsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgXSxcbiAgICB9KVxuICAgIGZyYW1lYnVmZmVyUmVuZGVyLmFkZChwYWludGVyKVxuICAgIGNvbnN0IGNvcHkgPSBuZXcgVGdkUGFpbnRlckZpbHRlcihjb250ZXh0LCB7XG4gICAgICAgIGZpbHRlcnM6IFtcbiAgICAgICAgICAgIG5ldyBUZ2RGaWx0ZXJIdWVSb3RhdGlvbih7XG4gICAgICAgICAgICAgICAgaHVlU2hpZnRJbkRlZ3JlZXM6IDkwLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIF0sXG4gICAgICAgIHRleHR1cmU6IGZyYW1lYnVmZmVyUmVuZGVyLnRleHR1cmVDb2xvcjAsXG4gICAgfSlcbiAgICBmcmFtZWJ1ZmZlckNvcHkuYWRkKGNvcHkpXG4gICAgY29uc3Qgc2NyZWVuID0gbmV3IFRnZFBhaW50ZXJGaWx0ZXIoY29udGV4dCwge1xuICAgICAgICB0ZXh0dXJlOiBmcmFtZWJ1ZmZlclJlbmRlci50ZXh0dXJlQ29sb3IwLFxuICAgICAgICBmaWx0ZXJzOiBbbmV3IFRnZEZpbHRlclpvb20oeyB6b29tOiAxLjEgfSldLFxuICAgICAgICBmbGlwWTogdHJ1ZSxcbiAgICB9KVxuICAgIGZyYW1lYnVmZmVyUmVuZGVyLm9uRXhpdCA9ICgpID0+IHtcbiAgICAgICAgY29weS50ZXh0dXJlID0gZnJhbWVidWZmZXJSZW5kZXIudGV4dHVyZUNvbG9yMFxuICAgIH1cbiAgICBmcmFtZWJ1ZmZlckNvcHkub25FeGl0ID0gKCkgPT4ge1xuICAgICAgICBtYXRlcmlhbC50ZXh0dXJlID0gZnJhbWVidWZmZXJDb3B5LnRleHR1cmVDb2xvcjBcbiAgICAgICAgc2NyZWVuLnRleHR1cmUgPSBmcmFtZWJ1ZmZlckNvcHkudGV4dHVyZUNvbG9yMFxuICAgIH1cbiAgICBjb250ZXh0LmFkZChcbiAgICAgICAgZnJhbWVidWZmZXJSZW5kZXIsXG4gICAgICAgIGZyYW1lYnVmZmVyQ29weSxcbiAgICAgICAgc2NyZWVuLFxuICAgICAgICBuZXcgVGdkUGFpbnRlckxvZ2ljKCh0aW1lLCBkZWxheSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBjYW1lcmEgfSA9IGNvbnRleHRcbiAgICAgICAgICAgIGNhbWVyYS50cmFuc2ZvLm9yYml0QXJvdW5kWShkZWxheSlcbiAgICAgICAgfSlcbiAgICApXG4gICAgY29udGV4dC5wbGF5KClcbiAgICAvLyAjZW5kXG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIERlbW8oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPFZpZXdcbiAgICAgICAgICAgIG9uUmVhZHk9e2luaXR9XG4gICAgICAgICAgICBhc3NldHM9e3tcbiAgICAgICAgICAgICAgICBnbGI6IHtcbiAgICAgICAgICAgICAgICAgICAgbWVzaDogQ3ViZVVSTCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGltYWdlOiB7XG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IEJhY2tncm91bmRVUkwsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgKVxufVxuIiwiLyoqXG4gKiBXYXJuaW5nISBUaGlzIGNvZGUgaGFzIGJlZW4gZ2VuZXJhdGVkIGF1dG9tYXRpY2FsbHkuXG4gKi9cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgVmlld0J1dHRvbiB9IGZyb20gXCJAdG9sb2tvYmFuL3VpXCJcbmltcG9ydCBDb2RlVmlld2VyIGZyb20gXCJAL2NvbXBvbmVudHMvZGVtby9Db2RlVmlld2VyXCJcbmltcG9ydCBEZW1vIGZyb20gXCIuL2ZyYW1lYnVmZmVyLmRlbW9cIlxuXG5jb25zdCBGT0NVUyA9IHtcIkRldGFpbCAjMVwiOlwiICAgIGNvbnRleHQuY2FtZXJhID0gbmV3IFRnZENhbWVyYVBlcnNwZWN0aXZlKHtcXG4gICAgICAgIHRyYW5zZm86IHsgZGlzdGFuY2U6IDAgfSxcXG4gICAgICAgIGZhcjogMTAwLFxcbiAgICAgICAgbmVhcjogMC4wMSxcXG4gICAgICAgIGZvdnk6IE1hdGguUEkgKiAwLjI1LFxcbiAgICAgICAgem9vbTogMC4zMzMsXFxuICAgIH0pXFxuICAgIG5ldyBUZ2RDb250cm9sbGVyQ2FtZXJhT3JiaXQoY29udGV4dCwge1xcbiAgICAgICAgc3BlZWRQYW5uaW5nOiAwLFxcbiAgICAgICAgaW5lcnRpYU9yYml0OiAxMDAwLFxcbiAgICB9KVxcbiAgICBjb25zdCBmcmFtZWJ1ZmZlclJlbmRlciA9IG5ldyBUZ2RQYWludGVyRnJhbWVidWZmZXIoY29udGV4dCwge1xcbiAgICAgICAgdGV4dHVyZUNvbG9yMDogbmV3IFRnZFRleHR1cmUyRChjb250ZXh0KSxcXG4gICAgfSlcXG4gICAgY29uc3QgZnJhbWVidWZmZXJDb3B5ID0gbmV3IFRnZFBhaW50ZXJGcmFtZWJ1ZmZlcihjb250ZXh0LCB7XFxuICAgICAgICB0ZXh0dXJlQ29sb3IwOiBuZXcgVGdkVGV4dHVyZTJEKGNvbnRleHQpLFxcbiAgICB9KVxcbiAgICBjb25zdCBtYXRlcmlhbCA9IG5ldyBNYXRlcmlhbCgpXFxuICAgIG1hdGVyaWFsLnRleHR1cmUgPSBuZXcgVGdkVGV4dHVyZTJEKGNvbnRleHQpLmxvYWRCaXRtYXAoXFxuICAgICAgICBhc3NldHMuaW1hZ2UuYmFja2dyb3VuZFxcbiAgICApXFxuICAgIGNvbnN0IHBhaW50ZXIgPSBuZXcgVGdkUGFpbnRlclN0YXRlKGNvbnRleHQsIHtcXG4gICAgICAgIGRlcHRoOiB3ZWJnbFByZXNldERlcHRoLmxlc3MsXFxuICAgICAgICAvLyBjdWxsOiB3ZWJnbFByZXNldEN1bGwuZnJvbnQsXFxuICAgICAgICBjaGlsZHJlbjogW1xcbiAgICAgICAgICAgIG5ldyBUZ2RQYWludGVyQ2xlYXIoY29udGV4dCwge1xcbiAgICAgICAgICAgICAgICBjb2xvcjogbmV3IFRnZFZlYzQoKSxcXG4gICAgICAgICAgICAgICAgZGVwdGg6IDEsXFxuICAgICAgICAgICAgfSksXFxuICAgICAgICAgICAgbmV3IFRnZFBhaW50ZXJNZXNoR2x0Zihjb250ZXh0LCB7XFxuICAgICAgICAgICAgICAgIGFzc2V0OiBhc3NldHMuZ2xiLm1lc2gsXFxuICAgICAgICAgICAgICAgIG1hdGVyaWFsOiAoKSA9PiBtYXRlcmlhbCxcXG4gICAgICAgICAgICB9KSxcXG4gICAgICAgIF0sXFxuICAgIH0pXFxuICAgIGZyYW1lYnVmZmVyUmVuZGVyLmFkZChwYWludGVyKVxcbiAgICBjb25zdCBjb3B5ID0gbmV3IFRnZFBhaW50ZXJGaWx0ZXIoY29udGV4dCwge1xcbiAgICAgICAgZmlsdGVyczogW1xcbiAgICAgICAgICAgIG5ldyBUZ2RGaWx0ZXJIdWVSb3RhdGlvbih7XFxuICAgICAgICAgICAgICAgIGh1ZVNoaWZ0SW5EZWdyZWVzOiA5MCxcXG4gICAgICAgICAgICB9KSxcXG4gICAgICAgIF0sXFxuICAgICAgICB0ZXh0dXJlOiBmcmFtZWJ1ZmZlclJlbmRlci50ZXh0dXJlQ29sb3IwLFxcbiAgICB9KVxcbiAgICBmcmFtZWJ1ZmZlckNvcHkuYWRkKGNvcHkpXFxuICAgIGNvbnN0IHNjcmVlbiA9IG5ldyBUZ2RQYWludGVyRmlsdGVyKGNvbnRleHQsIHtcXG4gICAgICAgIHRleHR1cmU6IGZyYW1lYnVmZmVyUmVuZGVyLnRleHR1cmVDb2xvcjAsXFxuICAgICAgICBmaWx0ZXJzOiBbbmV3IFRnZEZpbHRlclpvb20oeyB6b29tOiAxLjEgfSldLFxcbiAgICAgICAgZmxpcFk6IHRydWUsXFxuICAgIH0pXFxuICAgIGZyYW1lYnVmZmVyUmVuZGVyLm9uRXhpdCA9ICgpID0+IHtcXG4gICAgICAgIGNvcHkudGV4dHVyZSA9IGZyYW1lYnVmZmVyUmVuZGVyLnRleHR1cmVDb2xvcjBcXG4gICAgfVxcbiAgICBmcmFtZWJ1ZmZlckNvcHkub25FeGl0ID0gKCkgPT4ge1xcbiAgICAgICAgbWF0ZXJpYWwudGV4dHVyZSA9IGZyYW1lYnVmZmVyQ29weS50ZXh0dXJlQ29sb3IwXFxuICAgICAgICBzY3JlZW4udGV4dHVyZSA9IGZyYW1lYnVmZmVyQ29weS50ZXh0dXJlQ29sb3IwXFxuICAgIH1cXG4gICAgY29udGV4dC5hZGQoXFxuICAgICAgICBmcmFtZWJ1ZmZlclJlbmRlcixcXG4gICAgICAgIGZyYW1lYnVmZmVyQ29weSxcXG4gICAgICAgIHNjcmVlbixcXG4gICAgICAgIG5ldyBUZ2RQYWludGVyTG9naWMoKHRpbWUsIGRlbGF5KSA9PiB7XFxuICAgICAgICAgICAgY29uc3QgeyBjYW1lcmEgfSA9IGNvbnRleHRcXG4gICAgICAgICAgICBjYW1lcmEudHJhbnNmby5vcmJpdEFyb3VuZFkoZGVsYXkpXFxuICAgICAgICB9KVxcbiAgICApXFxuICAgIGNvbnRleHQucGxheSgpXCJ9XG5jb25zdCBGVUxMID0gXCJpbXBvcnQge1xcbiAgICBUZ2RDYW1lcmFQZXJzcGVjdGl2ZSxcXG4gICAgVGdkQ29udGV4dCxcXG4gICAgVGdkQ29udHJvbGxlckNhbWVyYU9yYml0LFxcbiAgICBUZ2RGaWx0ZXJIdWVSb3RhdGlvbixcXG4gICAgVGdkRmlsdGVyWm9vbSxcXG4gICAgVGdkUGFpbnRlckNsZWFyLFxcbiAgICBUZ2RQYWludGVyRmlsdGVyLFxcbiAgICBUZ2RQYWludGVyRnJhbWVidWZmZXIsXFxuICAgIFRnZFBhaW50ZXJMb2dpYyxcXG4gICAgVGdkUGFpbnRlck1lc2hHbHRmLFxcbiAgICBUZ2RQYWludGVyU3RhdGUsXFxuICAgIFRnZFRleHR1cmUyRCxcXG4gICAgVGdkVmVjNCxcXG4gICAgd2ViZ2xQcmVzZXREZXB0aCxcXG59IGZyb20gXFxcIkB0b2xva29iYW4vdGdkXFxcIlxcbmltcG9ydCBWaWV3LCB7IEFzc2V0cyB9IGZyb20gXFxcIkAvY29tcG9uZW50cy9kZW1vL1RnZFxcXCJcXG5pbXBvcnQgeyBNYXRlcmlhbCB9IGZyb20gXFxcIi4vbWF0ZXJpYWxcXFwiXFxuXFxuaW1wb3J0IEN1YmVVUkwgZnJvbSBcXFwiQC9hc3NldHMvbWVzaC9jdWJlLmdsYlxcXCJcXG5pbXBvcnQgQmFja2dyb3VuZFVSTCBmcm9tIFxcXCJAL2Fzc2V0cy9pbWFnZS9kaW5vLndlYnBcXFwiXFxuXFxuZnVuY3Rpb24gaW5pdChjb250ZXh0OiBUZ2RDb250ZXh0LCBhc3NldHM6IEFzc2V0cykge1xcbiAgICBjb250ZXh0LmNhbWVyYSA9IG5ldyBUZ2RDYW1lcmFQZXJzcGVjdGl2ZSh7XFxuICAgICAgICB0cmFuc2ZvOiB7IGRpc3RhbmNlOiAwIH0sXFxuICAgICAgICBmYXI6IDEwMCxcXG4gICAgICAgIG5lYXI6IDAuMDEsXFxuICAgICAgICBmb3Z5OiBNYXRoLlBJICogMC4yNSxcXG4gICAgICAgIHpvb206IDAuMzMzLFxcbiAgICB9KVxcbiAgICBuZXcgVGdkQ29udHJvbGxlckNhbWVyYU9yYml0KGNvbnRleHQsIHtcXG4gICAgICAgIHNwZWVkUGFubmluZzogMCxcXG4gICAgICAgIGluZXJ0aWFPcmJpdDogMTAwMCxcXG4gICAgfSlcXG4gICAgY29uc3QgZnJhbWVidWZmZXJSZW5kZXIgPSBuZXcgVGdkUGFpbnRlckZyYW1lYnVmZmVyKGNvbnRleHQsIHtcXG4gICAgICAgIHRleHR1cmVDb2xvcjA6IG5ldyBUZ2RUZXh0dXJlMkQoY29udGV4dCksXFxuICAgIH0pXFxuICAgIGNvbnN0IGZyYW1lYnVmZmVyQ29weSA9IG5ldyBUZ2RQYWludGVyRnJhbWVidWZmZXIoY29udGV4dCwge1xcbiAgICAgICAgdGV4dHVyZUNvbG9yMDogbmV3IFRnZFRleHR1cmUyRChjb250ZXh0KSxcXG4gICAgfSlcXG4gICAgY29uc3QgbWF0ZXJpYWwgPSBuZXcgTWF0ZXJpYWwoKVxcbiAgICBtYXRlcmlhbC50ZXh0dXJlID0gbmV3IFRnZFRleHR1cmUyRChjb250ZXh0KS5sb2FkQml0bWFwKFxcbiAgICAgICAgYXNzZXRzLmltYWdlLmJhY2tncm91bmRcXG4gICAgKVxcbiAgICBjb25zdCBwYWludGVyID0gbmV3IFRnZFBhaW50ZXJTdGF0ZShjb250ZXh0LCB7XFxuICAgICAgICBkZXB0aDogd2ViZ2xQcmVzZXREZXB0aC5sZXNzLFxcbiAgICAgICAgLy8gY3VsbDogd2ViZ2xQcmVzZXRDdWxsLmZyb250LFxcbiAgICAgICAgY2hpbGRyZW46IFtcXG4gICAgICAgICAgICBuZXcgVGdkUGFpbnRlckNsZWFyKGNvbnRleHQsIHtcXG4gICAgICAgICAgICAgICAgY29sb3I6IG5ldyBUZ2RWZWM0KCksXFxuICAgICAgICAgICAgICAgIGRlcHRoOiAxLFxcbiAgICAgICAgICAgIH0pLFxcbiAgICAgICAgICAgIG5ldyBUZ2RQYWludGVyTWVzaEdsdGYoY29udGV4dCwge1xcbiAgICAgICAgICAgICAgICBhc3NldDogYXNzZXRzLmdsYi5tZXNoLFxcbiAgICAgICAgICAgICAgICBtYXRlcmlhbDogKCkgPT4gbWF0ZXJpYWwsXFxuICAgICAgICAgICAgfSksXFxuICAgICAgICBdLFxcbiAgICB9KVxcbiAgICBmcmFtZWJ1ZmZlclJlbmRlci5hZGQocGFpbnRlcilcXG4gICAgY29uc3QgY29weSA9IG5ldyBUZ2RQYWludGVyRmlsdGVyKGNvbnRleHQsIHtcXG4gICAgICAgIGZpbHRlcnM6IFtcXG4gICAgICAgICAgICBuZXcgVGdkRmlsdGVySHVlUm90YXRpb24oe1xcbiAgICAgICAgICAgICAgICBodWVTaGlmdEluRGVncmVlczogOTAsXFxuICAgICAgICAgICAgfSksXFxuICAgICAgICBdLFxcbiAgICAgICAgdGV4dHVyZTogZnJhbWVidWZmZXJSZW5kZXIudGV4dHVyZUNvbG9yMCxcXG4gICAgfSlcXG4gICAgZnJhbWVidWZmZXJDb3B5LmFkZChjb3B5KVxcbiAgICBjb25zdCBzY3JlZW4gPSBuZXcgVGdkUGFpbnRlckZpbHRlcihjb250ZXh0LCB7XFxuICAgICAgICB0ZXh0dXJlOiBmcmFtZWJ1ZmZlclJlbmRlci50ZXh0dXJlQ29sb3IwLFxcbiAgICAgICAgZmlsdGVyczogW25ldyBUZ2RGaWx0ZXJab29tKHsgem9vbTogMS4xIH0pXSxcXG4gICAgICAgIGZsaXBZOiB0cnVlLFxcbiAgICB9KVxcbiAgICBmcmFtZWJ1ZmZlclJlbmRlci5vbkV4aXQgPSAoKSA9PiB7XFxuICAgICAgICBjb3B5LnRleHR1cmUgPSBmcmFtZWJ1ZmZlclJlbmRlci50ZXh0dXJlQ29sb3IwXFxuICAgIH1cXG4gICAgZnJhbWVidWZmZXJDb3B5Lm9uRXhpdCA9ICgpID0+IHtcXG4gICAgICAgIG1hdGVyaWFsLnRleHR1cmUgPSBmcmFtZWJ1ZmZlckNvcHkudGV4dHVyZUNvbG9yMFxcbiAgICAgICAgc2NyZWVuLnRleHR1cmUgPSBmcmFtZWJ1ZmZlckNvcHkudGV4dHVyZUNvbG9yMFxcbiAgICB9XFxuICAgIGNvbnRleHQuYWRkKFxcbiAgICAgICAgZnJhbWVidWZmZXJSZW5kZXIsXFxuICAgICAgICBmcmFtZWJ1ZmZlckNvcHksXFxuICAgICAgICBzY3JlZW4sXFxuICAgICAgICBuZXcgVGdkUGFpbnRlckxvZ2ljKCh0aW1lLCBkZWxheSkgPT4ge1xcbiAgICAgICAgICAgIGNvbnN0IHsgY2FtZXJhIH0gPSBjb250ZXh0XFxuICAgICAgICAgICAgY2FtZXJhLnRyYW5zZm8ub3JiaXRBcm91bmRZKGRlbGF5KVxcbiAgICAgICAgfSlcXG4gICAgKVxcbiAgICBjb250ZXh0LnBsYXkoKVxcbn1cXG5cXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEZW1vKCkge1xcbiAgICByZXR1cm4gKFxcbiAgICAgICAgPFZpZXdcXG4gICAgICAgICAgICBvblJlYWR5PXtpbml0fVxcbiAgICAgICAgICAgIGFzc2V0cz17e1xcbiAgICAgICAgICAgICAgICBnbGI6IHtcXG4gICAgICAgICAgICAgICAgICAgIG1lc2g6IEN1YmVVUkwsXFxuICAgICAgICAgICAgICAgIH0sXFxuICAgICAgICAgICAgICAgIGltYWdlOiB7XFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBCYWNrZ3JvdW5kVVJMLFxcbiAgICAgICAgICAgICAgICB9LFxcbiAgICAgICAgICAgIH19XFxuICAgICAgICAvPlxcbiAgICApXFxufVxcblwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIERlbW9Db250YWluZXIoKSB7XG4gICAgY29uc3QgW2Z1bGwsIHNldEZ1bGxdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpXG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGFsZi1sZWZ0XCI+PERlbW8gLz48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoYWxmLXJpZ2h0XCI+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxWaWV3QnV0dG9uIHZhcmlhbnQ9XCJlbGV2YXRlZFwiIG9uQ2xpY2s9eygpID0+IHNldEZ1bGwoIWZ1bGwpfT5cbiAgICAgICAgICAgICAgICAgICAge2Z1bGwgPyBcIlNob3cgY29kZSBkZXRhaWxzXCIgOiBcIlNob3cgZnVsbCBjb2RlXCJ9XG4gICAgICAgICAgICAgICAgPC9WaWV3QnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8Q29kZVZpZXdlciBsYW5ndWFnZT1cInRzeFwiIHZhbHVlPXtmdWxsID8gRlVMTCA6IEZPQ1VTfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICA8Lz5cbn0iLCIiXSwibmFtZXMiOlsiTWF0aCJdLCJtYXBwaW5ncyI6IjhOQUdPLE9BQU0sVUFBaUIsYUFBVyxDQUdyQyxhQUFjLENBQ1YsS0FBSyxDQUFDLENBQ0YsU0FBVSxDQUFFLFdBQVksWUFBYSxRQUFTLE9BQVEsRUFDdEQsU0FBVSxDQUFFLE1BQU8sTUFBTyxFQUMxQixtQkFBb0IsQ0FDaEIsa0RBQ0EsZ0NBQ0EsOEJBQ0Esc0JBQ0EsQ0FDSSwyQ0FDQSxzQkFDQSwyQ0FDQSxNQUNILENBQ0QsS0FDQSxxQ0FDQSxxQkFDQSxDQUFDLGFBQWMsaUJBQWlCLENBQ2hDLEtBQ0EseUVBQ0EseURBQ0EsZ0ZBQ0EsdUlBQ0EsZ0RBQ0gsQ0FDRCxpQkFBa0IsQ0FBQyxzQkFBc0IsQ0FDekMsWUFBYSxDQUFDLENBQ1YsU0FBTyxDQUNQLE1BQUksQ0FJUCxJQUNHLEdBQU0sQ0FBRSxTQUFPLENBQUUsQ0FBRyxJQUFJLEFBQ3BCLElBQVMsRUFBUSxRQUFRLENBQUMsRUFBRyxFQUFTLGNBQzFDLEVBQVEsU0FBUyxDQUFDLFVBQVcsQUFBTyxLQUFQLEVBQ2pDLEMsR0F2Q0QsWUFBTyxDQUE2QixNQXlDM0MsQyxlQ3ZCSixTQUFTLEVBQUssQ0FBbUIsQ0FBRSxDQUFjLEVBRTdDLEVBQVEsTUFBTSxDQUFHLElBQUksc0JBQW9CLENBQUMsQ0FDdEMsUUFBUyxDQUFFLFNBQVUsQ0FBRSxFQUN2QixJQUFLLElBQ0wsS0FBTSxJQUNOLEtB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