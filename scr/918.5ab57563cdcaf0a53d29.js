"use strict";(self.webpackChunk_tolokoban_tgd=self.webpackChunk_tolokoban_tgd||[]).push([[918],{7192:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(1601),a=n.n(r),s=n(6314),i=n.n(s)()(a());i.push([e.id,".lReXzQflWun_9Q7_SNCV {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n}\n",""]),i.locals={filter:"lReXzQflWun_9Q7_SNCV"};const o=i},3423:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(1601),a=n.n(r),s=n(6314),i=n.n(s)()(a());i.push([e.id,".rkDhSoMjifhuRueu54Nd canvas {\n    background-color: #333;\n}\n",""]),i.locals={filterresult:"rkDhSoMjifhuRueu54Nd"};const o=i},3687:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(1601),a=n.n(r),s=n(6314),i=n.n(s)()(a());i.push([e.id,".LzpyYTOcJZJzRd22cQCu {\n}\n",""]),i.locals={vertexshadercodeeditor:"LzpyYTOcJZJzRd22cQCu"};const o=i},3023:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(1601),a=n.n(r),s=n(6314),i=n.n(s)()(a());i.push([e.id,'div.view-CodeEditorView {\n    position: relative;\n    margin: 0;\n    font-family: Consolas, Monaco, "Andale Mono", "Ubuntu Mono", monospace;\n    font-size: 1rem;\n    color: #fffb;\n    background-color: #333;\n    padding: 1em;\n    line-height: 1.2;\n}\n\ndiv.view-CodeEditorView pre .comment {\n    color: #fff7;\n}\n\ndiv.view-CodeEditorView pre .number {\n    color: #fff;\n    font-weight: bolder;\n}\n\ndiv.view-CodeEditorView pre .type {\n    color: #cf9;\n}\n\ndiv.view-CodeEditorView pre .keyword {\n    color: #07f;\n}\n\ndiv.view-CodeEditorView pre .global {\n    color: #f70;\n}\n\ndiv.view-CodeEditorView pre .function {\n    color: #ed0;\n    font-weight: bold;\n}',""]);const o=i},2355:(e,t,n)=>{n.r(t),n.d(t,{default:()=>X});var r=n(4848),a=n(8766),s=n(4444),i=n(6069),o=n.n(i),l=n(8848),c=n.n(l);const d={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/g,lookbehind:!0,greedy:!0},{pattern:/"(^|[^\\:])\/\/.*"/g,lookbehind:!0,greedy:!0}],number:{pattern:/(^|[^\w$])(?:NaN|Infinity|0[bB][01]+(?:_[01]+)*n?|0[oO][0-7]+(?:_[0-7]+)*n?|0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?|\d+(?:_\d+)*n|(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?)(?![\w$])/,lookbehind:!0},type:u(["bvec2","bvec3","bvec4","dmat2","dmat2x2","dmat2x3","dmat2x4","dmat3","dmat3x2","dmat3x3","dmat3x4","dmat4","dmat4x2","dmat4x3","dmat4x4","dvec2","dvec3","dvec4","float","fvec2","fvec3","fvec4","isampler1D","isampler1DArray","isampler2D","isampler2DArray","isampler2DMS","isampler2DMSArray","isampler2DRect","isampler3D","isamplerBuffer","isamplerCube","isamplerCubeArray","ivec2","ivec3","ivec4","mat2","mat2x2","mat2x3","mat2x4","mat3","mat3x2","mat3x3","mat3x4","mat4","mat4x2","mat4x3","mat4x4","sample","sampler1D","sampler1DArray","sampler1DArrayShadow","sampler1DShadow","sampler2D","sampler2DArray","sampler2DArrayShadow","sampler2DMS","sampler2DMSArray","sampler2DRect","sampler2DRectShadow","sampler2DShadow","sampler3D","samplerBuffer","samplerCube","samplerCubeArray","samplerCubeArrayShadow","samplerCubeShadow","usampler1D","usampler1DArray","usampler2D","usampler2DArray","usampler2DMS","usampler2DMSArray","usampler2DRect","usampler3D","usamplerBuffer","usamplerCube","usamplerCubeArray","uvec2","uvec3","uvec4","vec2","vec3","vec4","void"]),keyword:u(["centroid","const","discard","else","flat","highp","if","in","inout","invariant","layout","lowp","mediump","noperspective","out","patch","precision","smooth","subroutine","uniform","active","asm","cast","class","common","enum","extern","external","filter","fixed","goto","half","hvec2","hvec3","hvec4","iimage1D","iimage1DArray","iimage2D","iimage2DArray","iimage3D","iimageBuffer","iimageCube","image1D","image1DArray","image1DArrayShadow","image1DShadow","image2D","image2DArray","image2DArrayShadow","image2DShadow","image3D","imageBuffer","imageCube","inline","input","interface","long","namespace","noinline","output","packed","partition","public","row_major","sampler3DRect","short","sizeof","static","superp","template","this","typedef","uimage1D","uimage1DArray","uimage2D","uimage2DArray","uimage3D","uimageBuffer","uimageCube","union","unsigned","using","volatile"]),global:u(["gl_DepthRange","gl_DepthRange.diff","gl_DepthRange.far","gl_DepthRange.near","gl_FragCoord","gl_FragDepth","gl_FrontFacing","gl_InstanceID","gl_PointCoord","gl_PointSize","gl_Position","gl_VertexID"]),function:u(["abs","acos","acosh","all","any","asin","asinh","atan","atanh","ceil","clamp","cos","cosh","cross","degrees","determinant","dFdx","dFdy","distance","dot","equal","exp","exp2","faceforward","floatBitsToInt","floatBitsToUint","floor","fract","fwidth","greaterThan","greaterThanEqual","intBitsToFloat","inverse","inversesqrt","isinf","isnan","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","modf","normalize","not","notEqual","outerProduct","packHalf2x16","packSnorm2x16","packUnorm2x16","pow","radians","reflect","refract","round","roundEven","sign","sin","sinh","smoothstep","sqrt","step","tan","tanh","texelFetch","texelFetchOffset","texture","textureGrad","textureGradOffset","textureLod","textureLodOffset","textureOffset","textureProj","textureProjGrad","textureProjGradOffset","textureProjLod","textureProjLodOffset","textureProjOffset","textureSize","transpose","trunc","uintBitsToFloat","unpackHalf2x16","unpackSnorm2x16","unpackUnorm2x16"])};function u(e){return new RegExp(`(?:[^a-zA-Z0-9_])(${e.join("|")})(?=[^a-zA-Z0-9_])`)}var h=n(5072),m=n.n(h),f=n(7825),p=n.n(f),g=n(7659),x=n.n(g),v=n(5056),y=n.n(v),A=n(540),w=n.n(A),D=n(1113),j=n.n(D),b=n(3023),S={};function C(e){return(0,r.jsx)("div",{className:E(e),children:(0,r.jsx)(o(),{value:e.value,onValueChange:e.onChange,highlight:t=>c().highlight(t,(e.language,d),e.language)})})}function E(e){const t=["custom","view-CodeEditorView"];return"string"==typeof e.className&&t.push(e.className),t.join(" ")}S.styleTagTransform=j(),S.setAttributes=y(),S.insert=x().bind(null,"head"),S.domAPI=p(),S.insertStyleElement=w(),m()(b.A,S),b.A&&b.A.locals&&b.A.locals;var _=n(3687),k={};k.styleTagTransform=j(),k.setAttributes=y(),k.insert=x().bind(null,"head"),k.domAPI=p(),k.insertStyleElement=w(),m()(_.A,k);const R=_.A&&_.A.locals?_.A.locals:void 0,T=a.Sxu.classNames;function F(e){return(0,r.jsx)(C,{className:T.join(e.className,R.vertexshadercodeeditor),language:"glsl",value:e.code,onChange:e.onChange})}var z=n(6540);const N=n.p+"img/background.e36d8bcea648aedea166.avif";class V{constructor(e,t){this.onError=t,this.uniEffectStrength=0,this.filter=null;const n=new s.tfp(e);this.context=n;const r=new s.HTX(n).loadBitmap(N);this.texture=r,this.destroy=()=>{r.delete(),n.destroy()}}setCode(e,t=""){try{const{context:n,texture:r}=this,a=new s.D$w(n,{texture:r,filters:[new s.Eim({fragmentShaderCode:e,extraFunctions:t,uniforms:{uniTime:"float",uniEffectStrength:"float",uniAspectRatio:"float",uniAspectRatioInverse:"float"},setUniforms:({program:e,time:t})=>{e.uniform1f("uniTime",t),e.uniform1f("uniEffectStrength",this.uniEffectStrength),e.uniform1f("uniAspectRatio",n.width/n.height),e.uniform1f("uniAspectRatioInverse",n.height/n.width)}})]});this.filter&&this.context.remove(this.filter),this.filter=a,n.add(a),n.play(),this.onError(null)}catch(e){console.log("ðŸš€ [manager] ex = ",e),this.onError(e instanceof Error?e.message:JSON.stringify(e))}}}var B=n(3423),I={};I.styleTagTransform=j(),I.setAttributes=y(),I.insert=x().bind(null,"head"),I.domAPI=p(),I.insertStyleElement=w(),m()(B.A,I);const P=B.A&&B.A.locals?B.A.locals:void 0,M=a.Sxu.classNames;function q(e){const[t,n]=z.useState(null),s=z.useRef(null),[i,o]=z.useState(0);return z.useEffect((()=>{const t=s.current;t&&t.setCode(e.fragmentShader,e.functions)}),[e.fragmentShader,e.functions]),z.useEffect((()=>{const e=s.current;e&&(e.uniEffectStrength=i)}),[i]),z.useEffect((()=>()=>{var e;null===(e=s.current)||void 0===e||e.destroy()}),[]),(0,r.jsxs)(a.UkC,Object.assign({className:M.join(e.className,P.filterresult),template:"*1*",orientation:"column"},e,{children:[(0,r.jsx)(a.sWC,{color:"primary-5",height:"2em",display:"flex",justifyContent:"start",alignItems:"center",padding:"M",children:"Filter output"}),(0,r.jsx)("canvas",{ref:t=>{t&&(s.current||(s.current=new V(t,n)),s.current.setCode(e.fragmentShader,e.functions))}}),t&&(0,r.jsx)("pre",{children:t.split("\n").map((e=>e.startsWith("#####")?(0,r.jsxs)("span",{className:P.error,children:[e,"\n"]}):`${e}\n`))}),(0,r.jsx)(a.BAW,{min:0,max:1,step:.01,value:i,onChange:o})]}))}var O=n(8453);function U(e){const t={a:"a",h2:"h2",li:"li",ul:"ul",...(0,O.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h2,{children:"Useful resources for fragment shaders:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["GLSL ES 3.1: ",(0,r.jsx)(t.a,{href:"https://docs.gl/sl4/trunc",children:"https://docs.gl/sl4/trunc"})]}),"\n",(0,r.jsxs)(t.li,{children:["Shadertoy: ",(0,r.jsx)(t.a,{href:"https://www.shadertoy.com/",children:"https://www.shadertoy.com/"})]}),"\n",(0,r.jsxs)(t.li,{children:["Inigo Quilez website: ",(0,r.jsx)(t.a,{href:"https://iquilezles.org/articles/",children:"https://iquilezles.org/articles/"})]}),"\n",(0,r.jsxs)(t.li,{children:["2D signed distance functions:\n",(0,r.jsx)(t.a,{href:"https://iquilezles.org/articles/distfunctions2d/",children:"https://iquilezles.org/articles/distfunctions2d/"})]}),"\n",(0,r.jsxs)(t.li,{children:["Color palette article: ",(0,r.jsx)(t.a,{href:"https://iquilezles.org/articles/palettes/",children:"https://iquilezles.org/articles/palettes/"})]}),"\n",(0,r.jsxs)(t.li,{children:["Color palette webapp: ",(0,r.jsx)(t.a,{href:"http://dev.thi.ng/gradients/",children:"http://dev.thi.ng/gradients/"})]}),"\n",(0,r.jsxs)(t.li,{children:["Graphtoy: ",(0,r.jsx)(t.a,{href:"https://graphtoy.com/",children:"https://graphtoy.com/"})]}),"\n",(0,r.jsxs)(t.li,{children:["The Book of Shaders: ",(0,r.jsx)(t.a,{href:"https://thebookofshaders.com/",children:"https://thebookofshaders.com/"})]}),"\n",(0,r.jsxs)(t.li,{children:["Shadertoy Unofficial: ",(0,r.jsx)(t.a,{href:"https://shadertoyunofficial.wordpress.com/",children:"https://shadertoyunofficial.wordpress.com/"})]}),"\n"]})]})}function L(e={}){const{wrapper:t}={...(0,O.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(U,{...e})}):U(e)}var Q=n(7192),Z={};Z.styleTagTransform=j(),Z.setAttributes=y(),Z.insert=x().bind(null,"head"),Z.domAPI=p(),Z.insertStyleElement=w(),m()(Q.A,Z);const G=Q.A&&Q.A.locals?Q.A.locals:void 0;function W(){const[e,t]=(0,a.Vcb)($,"Filter/FragementShader"),[n,s]=(0,a.Vcb)(J,"Filter/Functions");return(0,r.jsxs)(a.UkC,{className:G.filter,template:"12",orientation:"row",children:[(0,r.jsxs)(a.WET,{children:[(0,r.jsx)(a.Zdo,{label:"Fragment Shader",children:(0,r.jsx)(F,{code:e,onChange:t})},"shader"),(0,r.jsx)(a.Zdo,{label:"Extra functions",children:(0,r.jsx)(F,{code:n,onChange:s})},"functions"),(0,r.jsx)(a.Zdo,{label:"Documentation",children:(0,r.jsx)(L,{})},"doc")]}),(0,r.jsx)(q,{fragmentShader:e,functions:n})]})}a.Sxu.classNames;const $=(0,s.Cdl)(["vec4 color = texture(uniTexture, varUV);","FragColor = color;"]),J=(0,s.Cdl)("\nvec2 uv2xy(vec2 uv) {\n    return 2.0 * (uv - vec2(0.5)) * vec2(uniAspectRatio, 1.0);\n}\n\nvec2 xy2uv(vec2 xy) {\n    return (xy * vec2(uniAspectRatioInverse, 1.0) + vec2(1.0)) * 0.5;\n}\n\nvec2 random( vec2 p ) {\n    return fract(sin(vec2(\n        dot(p,vec2(127.1,311.7)),\n        dot(p,vec2(269.5,183.3))\n    ))*43758.5453);\n}\n\nfloat dot2( in vec2 v ) { return dot(v,v); }\n");function X(){return(0,r.jsx)(W,{})}}}]);