"use strict";(self.webpackChunk_tolokoban_tgd=self.webpackChunk_tolokoban_tgd||[]).push([["3932"],{1278(e,n,t){e.exports=t.p+"bin/suzanne.f1e9692cdd07ad81.glb"},4058(e,n,t){t.r(n),t.d(n,{default:()=>x});var r=t(4848),a=t(8453),l=t(6540),s=t(6671),i=t(385),c=t(2155),o=t(3172),d=t(4859);let g=t.p+"bin/ring.bc3afd81f6e443f6.glb";var h=t(1278);function p(e,n){e.camera=new c.TgdCameraPerspective({transfo:{distance:3},far:100,near:.01,fovy:Math.PI/4,zoom:1}),new c.TgdControllerCameraOrbit(e,{speedPanning:0,inertiaOrbit:1e3}),e.add(new c.TgdPainterClear(e,{depth:1,stencil:0}),new c.TgdPainterBackground(e,{texture:new c.TgdTexture2D(e).loadBitmap(d)}),new c.TgdPainterState(e,{color:!1,depth:c.webglPresetDepth.off,cull:c.webglPresetCull.back,stencil:c.webglPresetStencil.write(1),children:[new c.TgdPainterMeshGltf(e,{asset:n.glb.ring,material:()=>new c.TgdMaterialFlat})]}),new c.TgdPainterState(e,{depth:c.webglPresetDepth.less,cull:c.webglPresetCull.back,stencil:c.webglPresetStencil.paintIfEqual(0),children:[new c.TgdPainterMeshGltf(e,{asset:n.glb.suzanne})]})),e.paint()}function u(){return(0,r.jsx)(o.A,{onReady:p,options:{depth:!0,stencil:!0,antialias:!0},assets:{glb:{suzanne:h,ring:g}}})}let b={"Detail #1":"    const camera = new TgdCameraPerspective({\n        transfo: { distance: 3 },\n        far: 100,\n        near: 0.01,\n        fovy: Math.PI / 4,\n        zoom: 1,\n    })\n    ctx.camera = camera\n    new TgdControllerCameraOrbit(ctx, {\n        speedPanning: 0,\n        inertiaOrbit: 1000,\n    })\n    ctx.add(\n        new TgdPainterClear(ctx, {\n            depth: 1,\n            stencil: 0,\n        }),\n        new TgdPainterBackground(ctx, {\n            texture: new TgdTexture2D(ctx).loadBitmap(BackgroundURL),\n        }),\n        new TgdPainterState(ctx, {\n            color: false,\n            depth: webglPresetDepth.off,\n            cull: webglPresetCull.back,\n            stencil: webglPresetStencil.write(1),\n            children: [\n                new TgdPainterMeshGltf(ctx, {\n                    asset: assets.glb.ring,\n                    material: () => new TgdMaterialFlat(),\n                }),\n            ],\n        }),\n        new TgdPainterState(ctx, {\n            depth: webglPresetDepth.less,\n            cull: webglPresetCull.back,\n            stencil: webglPresetStencil.paintIfEqual(0),\n            children: [\n                new TgdPainterMeshGltf(ctx, {\n                    asset: assets.glb.suzanne,\n                }),\n            ],\n        })\n    )\n    ctx.paint()"};function w(){let[e,n]=l.useState(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"half-left",children:(0,r.jsx)(u,{})}),(0,r.jsxs)("div",{className:"half-right",children:[(0,r.jsx)("div",{children:(0,r.jsx)(s.yQN,{variant:"elevated",onClick:()=>n(!e),children:e?"Show code details":"Show full code"})}),(0,r.jsx)(i.A,{language:"tsx",value:e?'import {\n    TgdCameraPerspective,\n    TgdContext,\n    TgdControllerCameraOrbit,\n    TgdMaterialFlat,\n    TgdPainterBackground,\n    TgdPainterClear,\n    TgdPainterMeshGltf,\n    TgdPainterState,\n    TgdTexture2D,\n    webglPresetCull,\n    webglPresetDepth,\n    webglPresetStencil,\n} from "@tolokoban/tgd"\nimport View, { Assets } from "@/components/demo/Tgd"\n\nimport BackgroundURL from "@/assets/image/dino.webp"\nimport RingURL from "@/assets/mesh/ring.glb"\nimport SuzanneURL from "@/assets/mesh/suzanne.glb"\n\nfunction init(ctx: TgdContext, assets: Assets) {\n    const camera = new TgdCameraPerspective({\n        transfo: { distance: 3 },\n        far: 100,\n        near: 0.01,\n        fovy: Math.PI / 4,\n        zoom: 1,\n    })\n    ctx.camera = camera\n    new TgdControllerCameraOrbit(ctx, {\n        speedPanning: 0,\n        inertiaOrbit: 1000,\n    })\n    ctx.add(\n        new TgdPainterClear(ctx, {\n            depth: 1,\n            stencil: 0,\n        }),\n        new TgdPainterBackground(ctx, {\n            texture: new TgdTexture2D(ctx).loadBitmap(BackgroundURL),\n        }),\n        new TgdPainterState(ctx, {\n            color: false,\n            depth: webglPresetDepth.off,\n            cull: webglPresetCull.back,\n            stencil: webglPresetStencil.write(1),\n            children: [\n                new TgdPainterMeshGltf(ctx, {\n                    asset: assets.glb.ring,\n                    material: () => new TgdMaterialFlat(),\n                }),\n            ],\n        }),\n        new TgdPainterState(ctx, {\n            depth: webglPresetDepth.less,\n            cull: webglPresetCull.back,\n            stencil: webglPresetStencil.paintIfEqual(0),\n            children: [\n                new TgdPainterMeshGltf(ctx, {\n                    asset: assets.glb.suzanne,\n                }),\n            ],\n        })\n    )\n    ctx.paint()\n}\n\nexport default function Demo() {\n    return (\n        <View\n            onReady={init}\n            options={{\n                depth: true,\n                stencil: true,\n                antialias: true,\n            }}\n            assets={{\n                glb: {\n                    suzanne: SuzanneURL,\n                    ring: RingURL,\n                },\n            }}\n        />\n    )\n}\n':b})]})]})}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){var r;r=t[n],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return e}function P(e){var n=f({a:"a",h1:"h1",hr:"hr",li:"li",ol:"ol",p:"p"},(0,a.R)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{children:"Stencil"}),"\n",(0,r.jsx)(n.p,{children:"Here is a demo of a simple masking technique done with stencils."}),"\n",(0,r.jsx)(n.p,{children:"This render has three passes:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Paint the background"}),"\n",(0,r.jsx)(n.li,{children:"Paint an invisible ring that will set the stencil."}),"\n",(0,r.jsx)(n.li,{children:"Use the stencil to know where to paint the monkey."}),"\n"]}),"\n",(0,r.jsx)(w,{}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"#/articles/state",children:"Back"})})]})}function x(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=f({},(0,a.R)(),t.components).wrapper;return l?(0,r.jsx)(l,(e=f({},t),n=n={children:(0,r.jsx)(P,f({},t))},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t.push.apply(t,r)}return t})(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}),e)):P(t)}}}]);