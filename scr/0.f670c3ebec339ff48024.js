"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[0],{748:(e,n,t)=>{t.r(n),t.d(n,{default:()=>v});var A=t(7624),r=t(8768),a=t(9520);const i=function(){function e(e,n,t){this.context=e,this.camera=new r.op,this.axisZ=new r.yo,this.cameraL=new r.op,this.cameraR=new r.op,this.keyboard=new r.OE,this.radius=0,this.texture=t,this.program=e.programs.create({vert:"#version 300 es\n\nuniform mat4 uniCameraViewModelL;\nuniform mat4 uniCameraViewModelR;\nuniform mat4 uniCameraProjection;\n\nin vec4 attPosition;\nin vec3 attNormal;\nin vec2 attUV;\n\nout vec3 varNormal;\nout vec2 varUV;\n\nvoid main() {\n    varUV = attUV;\n    varNormal = attNormal;\n    vec4 pointL = uniCameraViewModelL * attPosition;\n    vec4 pointR = uniCameraViewModelR * attPosition;\n    float L = dot(pointL, pointL);\n    float R = dot(pointR, pointR);\n    float T = L + R;\n    float a = T > 0.0 ? L / T : 0.5;\n    vec4 point = mix(pointR, pointL, a);\n    gl_Position = uniCameraProjection * point;\n}",frag:"#version 300 es\n\nprecision mediump float;\n\nuniform vec3 uniAxisZ;\nuniform sampler2D uniTexture;\n\nout vec4 FragColor;\n\nin vec2 varUV;\nin vec3 varNormal;\n\nconst vec3 SUN_1 = normalize(vec3(1, 2, 4));\nconst vec3 SUN_2 = normalize(vec3(0, 0, -1));\n\nfloat calcDiffuse(vec3 normal, vec3 lightVector, float lightIntensity);\nfloat calcSpecular(vec3 normal, vec3 cameraZ, vec3 lightVector, float lightIntensity, float sharpness);\n\nvoid main() {\n    vec3 color = texture(uniTexture, varUV).rgb;\n    vec3 normal = normalize(varNormal);\n    float ambient = 0.2;\n    float diffuse = calcDiffuse(\n        normal,\n        SUN_1,\n        1.0\n    ) + calcDiffuse(\n        normal,\n        SUN_2,\n        0.0\n    );\n    float specular = calcSpecular(\n        normal,\n        uniAxisZ,\n        SUN_1,\n        0.7,\n        50.0\n    ) + calcSpecular(\n        normal,\n        uniAxisZ,\n        SUN_2,\n        0.0,\n        1.0\n    );\n    FragColor = vec4(\n        color * (ambient + diffuse) + vec3(specular), \n        1\n    );\n}\n\nfloat calcDiffuse(\n    vec3 normal,\n    vec3 lightVector,\n    float lightIntensity\n) {\n    return lightIntensity * max(\n        0.0,\n        dot(normal, lightVector)\n    );\n}\n\nfloat calcSpecular(\n    vec3 normal,\n    vec3 cameraZ,\n    vec3 lightVector,\n    float lightIntensity,\n    float sharpness\n) {\n    if (dot(normal, lightVector) > 0.0) {\n        vec3 H = normalize(cameraZ + lightVector);\n        return lightIntensity * pow(\n            dot(normal, cameraZ),\n            sharpness\n        );\n    }\n    return 0.0;\n}\n"});var A=function(e){var n=(new r.mI).parse(e),t=n.type,A=n.count,a=n.elements,i=n.attPosition,o=n.attNormal,s=n.attUV;if(!o)throw Error("Missing attNormal!");if(!s)throw Error("Missing attUV!");var c=new r.sT({attPosition:"vec3",attNormal:"vec3",attUV:"vec2"});return c.set("attNormal",new Float32Array(o)),c.set("attPosition",new Float32Array(i)),c.set("attUV",new Float32Array(s)),{dataset:c,elements:a,count:A,type:t}}(n),a=A.dataset,i=A.elements,o=A.type;this.type=o,this.vao=e.createVAO(this.program,[a],i),this.count=i.length,this.camera.distance=10,this.orbitControl=new r.ED(this.camera),this.orbitControl.attach(e.canvas),this.camera.face("-Y+Z-X")}return e.prototype.delete=function(){this.keyboard.detach(),this.context.programs.delete(this.program)},e.prototype.paint=function(e,n){var t=this.context.gl,A=this,r=A.texture,a=A.vao,i=A.program,o=A.type,s=A.count,c=(A.camera,A.cameraL),l=A.cameraR,u=A.axisZ;c.screenWidth=t.drawingBufferWidth,c.screenHeight=t.drawingBufferHeight,l.screenWidth=t.drawingBufferWidth,l.screenHeight=t.drawingBufferHeight,i.use(),r.activate(i,"uniTexture"),i.uniform3fv("uniAxisZ",u),i.uniformMatrix4fv("uniCameraViewModelL",c.matrixViewModel),i.uniformMatrix4fv("uniCameraViewModelR",l.matrixViewModel),i.uniformMatrix4fv("uniCameraProjection",c.matrixProjection),t.disable(t.CULL_FACE),t.cullFace(t.BACK),t.enable(t.DEPTH_TEST),t.clearDepth(1),t.depthFunc(t.LESS),t.depthMask(!0),t.depthRange(0,1),t.clear(t.DEPTH_BUFFER_BIT),a.bind(),t.drawElements(t.TRIANGLES,s,t[o],0)},e.prototype.update=function(e,n){var t=this,A=t.keyboard,a=t.camera,i=t.cameraL,o=t.cameraR,s=t.axisZ;a.toAxisZ(s);var c=.001;A.isPressed("ArrowRight")?a.orbitAroundY(n*c):A.isPressed("ArrowLeft")&&a.orbitAroundY(-n*c),A.isPressed("ArrowUp")?a.orbitAroundX(n*c):A.isPressed("ArrowDown")&&a.orbitAroundX(-n*c),A.isPressed("0")&&a.setOrientation(new r.aW),A.hasClicked("d")&&a.debug(),A.isPressed("+")&&(this.radius=Math.min(.5*Math.PI,this.radius+.001*n)),A.isPressed("-")&&(this.radius=Math.max(0,this.radius-.001*n)),A.isPressed("Space")&&(this.radius=0);var l=this.radius;i.from(a),o.from(a),i.orbitAroundY(+l),o.orbitAroundY(-l)},e}(),o=t.p+"img/px.9b2064624e2d6dbdd48b.webp",s=t.p+"img/nx.56bb4c02cb7ba31e9b9b.webp",c=t.p+"img/py.12dd5ee7301efec58c5f.webp",l=t.p+"img/ny.60b486a24f5d10197931.webp",u=t.p+"img/pz.b2cb9d1f7d755bc9907e.webp",m=t.p+"img/nz.8b5ab25a429703da31eb.webp",d="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEBLAEsAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAACAAIDAREAAhEBAxEB/8QAFAABAAAAAAAAAAAAAAAAAAAACP/EABUBAQEAAAAAAAAAAAAAAAAAAAUG/9oADAMBAAIQAxAAAAFiIR//xAAWEAEBAQAAAAAAAAAAAAAAAAAEBgP/2gAIAQEAAQUChwi2iv/EABkRAAMBAQEAAAAAAAAAAAAAAAMEBQIGAf/aAAgBAwEBPwE/F8deOa7d5PmrVu0UlaxYrQpdGrWq0d+uUKdOg4qZt+g82YzTjjRisNMFIc5Nk3rXv//EABsRAAIDAQEBAAAAAAAAAAAAAAIDAQQGBwUA/9oACAECAQE/Aeoc+wNXpnRKtXEZCtWrbrWor10ZrxkoQhPv+gtSUqXSFalKWIgtYCIAAwIxEREff//EABsQAAMBAQADAAAAAAAAAAAAAAECAwQGAAUR/9oACAEBAAY/AuQrXHlrWvL8/SlKZ5PSlH9TkZ3d2Us7uxLMzEliSSfvn//EABUQAQEAAAAAAAAAAAAAAAAAAAEA/9oACAEBAAE/IUnFe1LYAxQJb//aAAwDAQACAAMAAAAQH//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8QSiNuKlTGKn7/xAAUEQEAAAAAAAAAAAAAAAAAAAAB/9oACAECAQE/EDUw/knghYno/8QAFBABAAAAAAAAAAAAAAAAAAAAAf/aAAgBAQABPxBx+jSl7rhU1P/Z";function h(){return(0,A.jsx)(a.c,{onReady:f})}function f(e){var n=new r.Wk(e,{color:[0,0,0,1]});e.add(n),e.paint(),fetch("mesh/axis.obj").then((function(e){if(!e.ok)throw Error("Error #".concat(e.status,": ").concat(e.statusText,"!"));return e.text()})).then((function(n){var t={image:d,magFilter:"NEAREST",minFilter:"NEAREST"},A=e.textures2D.create(t),a=new i(e,n,A),h=new r.ML(e,{imagePosX:o,imageNegX:s,imagePosY:c,imageNegY:l,imagePosZ:u,imageNegZ:m});h.camera=a.camera,e.add(h,a),e.play()}))}function E(e){const n={h1:"h1",...e.components};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(n.h1,{children:"Test"}),"\n",(0,A.jsx)(h,{})]})}function v(e={}){const{wrapper:n}=e.components||{};return n?(0,A.jsx)(n,{...e,children:(0,A.jsx)(E,{...e})}):E(e)}},9668:(e,n,t)=>{t.d(n,{c:()=>o});var A=t(5500),r=t.n(A),a=t(2312),i=t.n(a)()(r());i.push([e.id,".hgIjhDQIuBCJEQ4ZgLXp {\n    display: inline-block;\n    margin: 1em;\n}\n\n.hgIjhDQIuBCJEQ4ZgLXp canvas {\n    box-shadow: 0 0.25em 0.5em #000;\n    max-width: 100vw;\n    max-height: 100vh;\n}\n",""]),i.locals={Tgd:"hgIjhDQIuBCJEQ4ZgLXp"};const o=i},9520:(e,n,t)=>{t.d(n,{c:()=>x});var A=t(7624),r=t(1504),a=t(8768),i=t(2253),o=t(4596),s=t.n(o),c=t(6520),l=t.n(c),u=t(6176),m=t.n(u),d=t(5120),h=t.n(d),f=t(6808),E=t.n(f),v=t(1936),p=t.n(v),B=t(9668),g={};g.styleTagTransform=p(),g.setAttributes=h(),g.insert=m().bind(null,"head"),g.domAPI=l(),g.insertStyleElement=E(),s()(B.c,g);const Q=B.c&&B.c.locals?B.c.locals:void 0;var w=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var A,r,a=t.call(e),i=[];try{for(;(void 0===n||n-- >0)&&!(A=a.next()).done;)i.push(A.value)}catch(e){r={error:e}}finally{try{A&&!A.done&&(t=a.return)&&t.call(a)}finally{if(r)throw r.error}}return i};function x(e){var n=e.className,t=e.options,o=e.onReady,s=e.width,c=void 0===s?"640px":s,l=e.height,u=void 0===l?"480px":l,m=e.noBorder,d=void 0!==m&&m,h=w(r.useState(!1),2),f=h[0],E=h[1],v=r.useRef(null),p=r.useRef(null),B=function(e){if(e){p.current=e;var n=new a._G(e,t);v.current=n,o&&o(n),n.paint()}};return r.useEffect((function(){var e=p.current,n=v.current;if(e&&n){var t=new ResizeObserver((function(){return n.paint()}));return t.observe(e),e.requestFullscreen||(e.requestFullscreen=e.webkitRequestFullscreen),E(Boolean(e.requestFullscreen)),function(){return t.unobserve(e)}}}),[v.current,p.current]),d?(0,A.jsx)("canvas",{className:n,style:{width:c,height:u},ref:B}):(0,A.jsxs)("div",{className:i.So.classNames.join(n,Q.Tgd),children:[(0,A.jsx)(i.b9,{display:"flex",justifyContent:"flex-end",children:f&&(0,A.jsx)(i.yK,{variant:"text",onClick:function(){var e=p.current;e&&e.requestFullscreen()},children:"Afficher en plein Ã©cran"})}),(0,A.jsx)("canvas",{style:{width:c,height:u},ref:B})]})}}}]);