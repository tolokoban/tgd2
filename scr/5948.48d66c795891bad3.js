"use strict";(self.webpackChunk_tolokoban_tgd=self.webpackChunk_tolokoban_tgd||[]).push([["5948"],{9341(n,e,t){t.r(e),t.d(e,{default:()=>h});var r=t(4848),o=t(8453),i=t(6540),a=t(6671),l=t(385),c=t(2155),u=t(3172),s=t(7276);function d(n){let e=new c.TgdTexture2D(n).loadBitmap((0,c.tgdLoadImage)(s)),t=new c.TgdFilter({uniforms:{uniTime:"float",uniAspectRatio:"float",uniAspectRatioInverse:"float"},setUniforms({program:e,time:t}){e.uniform1f("uniTime",t),e.uniform1f("uniAspectRatio",n.aspectRatio),e.uniform1f("uniAspectRatioInverse",n.aspectRatioInverse)},extraFunctions:{...(0,c.tgdCodeFunction_uv2polar)(),...(0,c.tgdCodeFunction_polar2uv)()},fragmentShaderCode:["vec2 polar = uv2polar(varUV);","float strength = sin(uniTime);","polar.y += strength * polar.x;","vec2 uv = polar2uv(polar);","FragColor = texture(uniTexture, uv);"]});n.add(new c.TgdPainterFilter(n,{texture:e,filters:[t]})),n.play()}function p(){return(0,r.jsx)(u.A,{onReady:d,width:"512px",height:"512px"})}let f={"Detail #1":'    const texture = new TgdTexture2D(context).loadBitmap(\n        tgdLoadImage(BackgroundURL)\n    )\n    const filter = new TgdFilter({\n        uniforms: {\n            uniTime: "float",\n            uniAspectRatio: "float",\n            uniAspectRatioInverse: "float",\n        },\n        setUniforms({ program, time }) {\n            program.uniform1f("uniTime", time)\n            program.uniform1f("uniAspectRatio", context.aspectRatio)\n            program.uniform1f(\n                "uniAspectRatioInverse",\n                context.aspectRatioInverse\n            )\n        },\n        extraFunctions: {\n            ...tgdCodeFunction_uv2polar(),\n            ...tgdCodeFunction_polar2uv(),\n        },\n        fragmentShaderCode: [\n            "vec2 polar = uv2polar(varUV);",\n            "float strength = sin(uniTime);",\n            "polar.y += strength * polar.x;",\n            "vec2 uv = polar2uv(polar);",\n            "FragColor = texture(uniTexture, uv);",\n        ],\n    })\n    context.add(\n        new TgdPainterFilter(context, {\n            texture,\n            filters: [filter],\n        })\n    )\n    context.play()'};function g(){let[n,e]=i.useState(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"half-left",children:(0,r.jsx)(p,{})}),(0,r.jsxs)("div",{className:"half-right",children:[(0,r.jsx)("div",{children:(0,r.jsx)(a.yQN,{variant:"elevated",onClick:()=>e(!n),children:n?"Show code details":"Show full code"})}),(0,r.jsx)(l.A,{language:"tsx",value:n?'import {\n    tgdCodeFunction_polar2uv,\n    tgdCodeFunction_uv2polar,\n    TgdContext,\n    TgdFilter,\n    tgdLoadImage,\n    TgdPainterFilter,\n    TgdTexture2D,\n} from "@tolokoban/tgd"\nimport View from "@/components/demo/Tgd"\n\nimport BackgroundURL from "../../../marylin.webp"\n\nfunction init(context: TgdContext) {\n    const texture = new TgdTexture2D(context).loadBitmap(\n        tgdLoadImage(BackgroundURL)\n    )\n    const filter = new TgdFilter({\n        uniforms: {\n            uniTime: "float",\n            uniAspectRatio: "float",\n            uniAspectRatioInverse: "float",\n        },\n        setUniforms({ program, time }) {\n            program.uniform1f("uniTime", time)\n            program.uniform1f("uniAspectRatio", context.aspectRatio)\n            program.uniform1f(\n                "uniAspectRatioInverse",\n                context.aspectRatioInverse\n            )\n        },\n        extraFunctions: {\n            ...tgdCodeFunction_uv2polar(),\n            ...tgdCodeFunction_polar2uv(),\n        },\n        fragmentShaderCode: [\n            "vec2 polar = uv2polar(varUV);",\n            "float strength = sin(uniTime);",\n            "polar.y += strength * polar.x;",\n            "vec2 uv = polar2uv(polar);",\n            "FragColor = texture(uniTexture, uv);",\n        ],\n    })\n    context.add(\n        new TgdPainterFilter(context, {\n            texture,\n            filters: [filter],\n        })\n    )\n    context.play()\n}\n\nexport default function Demo() {\n    return <View onReady={init} width="512px" height="512px" />\n}\n':f})]})]})}function m(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),r.forEach(function(e){var r;r=t[e],e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r})}return n}function x(n){var e=m({a:"a",h1:"h1",h2:"h2",p:"p"},(0,o.R)(),n.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h1,{children:(0,r.jsx)(e.a,{href:"docs/classes/TgdPainterFilter.html",children:"TgdPainterFilter"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.a,{href:"#..",children:"Back to the list of available filters"})}),"\n",(0,r.jsxs)(e.h2,{children:["Custom filter with ",(0,r.jsx)(e.a,{href:"docs/classes/TgdFilter.html",children:"TgdFilter"})]}),"\n",(0,r.jsx)(e.p,{children:"We want some kind of line art for Marylin. Everything dark enough will become\npart of a line, the rest will be discarded."}),"\n",(0,r.jsx)(g,{})]})}function h(){var n,e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=m({},(0,o.R)(),t.components).wrapper;return i?(0,r.jsx)(i,(n=m({},t),e=e={children:(0,r.jsx)(x,m({},t))},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):(function(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t.push.apply(t,r)}return t})(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}),n)):x(t)}}}]);