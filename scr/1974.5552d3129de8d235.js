"use strict";(self.webpackChunk_tolokoban_tgd=self.webpackChunk_tolokoban_tgd||[]).push([["1974"],{1278:function(e,n,t){e.exports=t.p+"bin/suzanne.f1e9692cdd07ad81.glb"},4058:function(e,n,t){t.r(n),t.d(n,{default:()=>x});var r=t(4848),a=t(8453),l=t(6540),i=t(1818),s=t(385),c=t(7719),o=t(7422),d=t(4859);let g=t.p+"bin/ring.bc3afd81f6e443f6.glb";var h=t(1278);function u(e,n){e.camera=new c.TgdCameraPerspective({transfo:{distance:3},far:100,near:.01,fovy:Math.PI/4,zoom:1}),new c.TgdControllerCameraOrbit(e,{speedPanning:0,inertiaOrbit:1e3}),e.add(new c.TgdPainterClear(e,{depth:1,stencil:0}),new c.TgdPainterBackground(e,{texture:new c.TgdTexture2D(e).loadBitmap(d)}),new c.TgdPainterState(e,{color:!1,depth:c.webglPresetDepth.off,cull:c.webglPresetCull.back,stencil:c.webglPresetStencil.write(1),children:[new c.TgdPainterMeshGltf(e,{asset:n.glb.ring,material:()=>new c.TgdMaterialFlat})]}),new c.TgdPainterState(e,{depth:c.webglPresetDepth.less,cull:c.webglPresetCull.back,stencil:c.webglPresetStencil.paintIfEqual(0),children:[new c.TgdPainterMeshGltf(e,{asset:n.glb.suzanne})]})),e.paint()}function p(){return(0,r.jsx)(o.A,{onReady:u,options:{depth:!0,stencil:!0,antialias:!0},assets:{glb:{suzanne:h,ring:g}}})}let b={"Detail #1":"    const camera = new TgdCameraPerspective({\n        transfo: { distance: 3 },\n        far: 100,\n        near: 0.01,\n        fovy: Math.PI / 4,\n        zoom: 1,\n    })\n    ctx.camera = camera\n    new TgdControllerCameraOrbit(ctx, {\n        speedPanning: 0,\n        inertiaOrbit: 1000,\n    })\n    ctx.add(\n        new TgdPainterClear(ctx, {\n            depth: 1,\n            stencil: 0,\n        }),\n        new TgdPainterBackground(ctx, {\n            texture: new TgdTexture2D(ctx).loadBitmap(BackgroundURL),\n        }),\n        new TgdPainterState(ctx, {\n            color: false,\n            depth: webglPresetDepth.off,\n            cull: webglPresetCull.back,\n            stencil: webglPresetStencil.write(1),\n            children: [\n                new TgdPainterMeshGltf(ctx, {\n                    asset: assets.glb.ring,\n                    material: () => new TgdMaterialFlat(),\n                }),\n            ],\n        }),\n        new TgdPainterState(ctx, {\n            depth: webglPresetDepth.less,\n            cull: webglPresetCull.back,\n            stencil: webglPresetStencil.paintIfEqual(0),\n            children: [\n                new TgdPainterMeshGltf(ctx, {\n                    asset: assets.glb.suzanne,\n                }),\n            ],\n        })\n    )\n    ctx.paint()"};function w(){let[e,n]=l.useState(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"half-left",children:(0,r.jsx)(p,{})}),(0,r.jsxs)("div",{className:"half-right",children:[(0,r.jsx)("div",{children:(0,r.jsx)(i.yQN,{variant:"elevated",onClick:()=>n(!e),children:e?"Show code details":"Show full code"})}),(0,r.jsx)(s.A,{language:"tsx",value:e?'import {\n    TgdCameraPerspective,\n    TgdContext,\n    TgdControllerCameraOrbit,\n    TgdMaterialFlat,\n    TgdPainterBackground,\n    TgdPainterClear,\n    TgdPainterMeshGltf,\n    TgdPainterState,\n    TgdTexture2D,\n    webglPresetCull,\n    webglPresetDepth,\n    webglPresetStencil,\n} from "@tolokoban/tgd"\nimport View, { Assets } from "@/components/demo/Tgd"\n\nimport BackgroundURL from "@/assets/image/dino.webp"\nimport RingURL from "@/assets/mesh/ring.glb"\nimport SuzanneURL from "@/assets/mesh/suzanne.glb"\n\nfunction init(ctx: TgdContext, assets: Assets) {\n    const camera = new TgdCameraPerspective({\n        transfo: { distance: 3 },\n        far: 100,\n        near: 0.01,\n        fovy: Math.PI / 4,\n        zoom: 1,\n    })\n    ctx.camera = camera\n    new TgdControllerCameraOrbit(ctx, {\n        speedPanning: 0,\n        inertiaOrbit: 1000,\n    })\n    ctx.add(\n        new TgdPainterClear(ctx, {\n            depth: 1,\n            stencil: 0,\n        }),\n        new TgdPainterBackground(ctx, {\n            texture: new TgdTexture2D(ctx).loadBitmap(BackgroundURL),\n        }),\n        new TgdPainterState(ctx, {\n            color: false,\n            depth: webglPresetDepth.off,\n            cull: webglPresetCull.back,\n            stencil: webglPresetStencil.write(1),\n            children: [\n                new TgdPainterMeshGltf(ctx, {\n                    asset: assets.glb.ring,\n                    material: () => new TgdMaterialFlat(),\n                }),\n            ],\n        }),\n        new TgdPainterState(ctx, {\n            depth: webglPresetDepth.less,\n            cull: webglPresetCull.back,\n            stencil: webglPresetStencil.paintIfEqual(0),\n            children: [\n                new TgdPainterMeshGltf(ctx, {\n                    asset: assets.glb.suzanne,\n                }),\n            ],\n        })\n    )\n    ctx.paint()\n}\n\nexport default function Demo() {\n    return (\n        <View\n            onReady={init}\n            options={{\n                depth: true,\n                stencil: true,\n                antialias: true,\n            }}\n            assets={{\n                glb: {\n                    suzanne: SuzanneURL,\n                    ring: RingURL,\n                },\n            }}\n        />\n    )\n}\n':b})]})]})}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){var r;r=t[n],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return e}function P(e){var n=f({a:"a",h1:"h1",hr:"hr",li:"li",ol:"ol",p:"p"},(0,a.R)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{children:"Stencil"}),"\n",(0,r.jsx)(n.p,{children:"Here is a demo of a simple masking technique done with stencils."}),"\n",(0,r.jsx)(n.p,{children:"This render has three passes:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Paint the background"}),"\n",(0,r.jsx)(n.li,{children:"Paint an invisible ring that will set the stencil."}),"\n",(0,r.jsx)(n.li,{children:"Use the stencil to know where to paint the monkey."}),"\n"]}),"\n",(0,r.jsx)(w,{}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"#/articles/state",children:"Back"})})]})}function x(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=f({},(0,a.R)(),t.components).wrapper;return l?(0,r.jsx)(l,(e=f({},t),n=n={children:(0,r.jsx)(P,f({},t))},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t.push.apply(t,r)}return t})(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}),e)):P(t)}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NyLzE5NzQuZDA5NTU0YjU2OGM3M2MyNC5qcyIsInNvdXJjZXMiOlsiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9kb2Mvc3JjL2FwcC9hcnRpY2xlcy9zdGF0ZS9zdGVuY2lsL18vc3RlbmNpbC5kZW1vL3N0ZW5jaWwuZGVtby50c3giLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2RvYy9zcmMvYXBwL2FydGljbGVzL3N0YXRlL3N0ZW5jaWwvXy9zdGVuY2lsLmRlbW8vaW5kZXgudHN4IiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9kb2Mvc3JjL2FwcC9hcnRpY2xlcy9zdGF0ZS9zdGVuY2lsL3BhZ2UubWR4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gICAgVGdkQ2FtZXJhUGVyc3BlY3RpdmUsXG4gICAgVGdkQ29udGV4dCxcbiAgICBUZ2RDb250cm9sbGVyQ2FtZXJhT3JiaXQsXG4gICAgVGdkTWF0ZXJpYWxGbGF0LFxuICAgIFRnZFBhaW50ZXJCYWNrZ3JvdW5kLFxuICAgIFRnZFBhaW50ZXJDbGVhcixcbiAgICBUZ2RQYWludGVyTWVzaEdsdGYsXG4gICAgVGdkUGFpbnRlclN0YXRlLFxuICAgIFRnZFRleHR1cmUyRCxcbiAgICB3ZWJnbFByZXNldEN1bGwsXG4gICAgd2ViZ2xQcmVzZXREZXB0aCxcbiAgICB3ZWJnbFByZXNldFN0ZW5jaWwsXG59IGZyb20gXCJAdG9sb2tvYmFuL3RnZFwiXG5pbXBvcnQgVmlldywgeyBBc3NldHMgfSBmcm9tIFwiQC9jb21wb25lbnRzL2RlbW8vVGdkXCJcblxuaW1wb3J0IEJhY2tncm91bmRVUkwgZnJvbSBcIkAvYXNzZXRzL2ltYWdlL2Rpbm8ud2VicFwiXG5pbXBvcnQgUmluZ1VSTCBmcm9tIFwiQC9hc3NldHMvbWVzaC9yaW5nLmdsYlwiXG5pbXBvcnQgU3V6YW5uZVVSTCBmcm9tIFwiQC9hc3NldHMvbWVzaC9zdXphbm5lLmdsYlwiXG5cbmZ1bmN0aW9uIGluaXQoY3R4OiBUZ2RDb250ZXh0LCBhc3NldHM6IEFzc2V0cykge1xuICAgIC8vICNiZWdpblxuICAgIGNvbnN0IGNhbWVyYSA9IG5ldyBUZ2RDYW1lcmFQZXJzcGVjdGl2ZSh7XG4gICAgICAgIHRyYW5zZm86IHsgZGlzdGFuY2U6IDMgfSxcbiAgICAgICAgZmFyOiAxMDAsXG4gICAgICAgIG5lYXI6IDAuMDEsXG4gICAgICAgIGZvdnk6IE1hdGguUEkgLyA0LFxuICAgICAgICB6b29tOiAxLFxuICAgIH0pXG4gICAgY3R4LmNhbWVyYSA9IGNhbWVyYVxuICAgIG5ldyBUZ2RDb250cm9sbGVyQ2FtZXJhT3JiaXQoY3R4LCB7XG4gICAgICAgIHNwZWVkUGFubmluZzogMCxcbiAgICAgICAgaW5lcnRpYU9yYml0OiAxMDAwLFxuICAgIH0pXG4gICAgY3R4LmFkZChcbiAgICAgICAgbmV3IFRnZFBhaW50ZXJDbGVhcihjdHgsIHtcbiAgICAgICAgICAgIGRlcHRoOiAxLFxuICAgICAgICAgICAgc3RlbmNpbDogMCxcbiAgICAgICAgfSksXG4gICAgICAgIG5ldyBUZ2RQYWludGVyQmFja2dyb3VuZChjdHgsIHtcbiAgICAgICAgICAgIHRleHR1cmU6IG5ldyBUZ2RUZXh0dXJlMkQoY3R4KS5sb2FkQml0bWFwKEJhY2tncm91bmRVUkwpLFxuICAgICAgICB9KSxcbiAgICAgICAgbmV3IFRnZFBhaW50ZXJTdGF0ZShjdHgsIHtcbiAgICAgICAgICAgIGNvbG9yOiBmYWxzZSxcbiAgICAgICAgICAgIGRlcHRoOiB3ZWJnbFByZXNldERlcHRoLm9mZixcbiAgICAgICAgICAgIGN1bGw6IHdlYmdsUHJlc2V0Q3VsbC5iYWNrLFxuICAgICAgICAgICAgc3RlbmNpbDogd2ViZ2xQcmVzZXRTdGVuY2lsLndyaXRlKDEpLFxuICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICBuZXcgVGdkUGFpbnRlck1lc2hHbHRmKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBhc3NldDogYXNzZXRzLmdsYi5yaW5nLFxuICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbDogKCkgPT4gbmV3IFRnZE1hdGVyaWFsRmxhdCgpLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSksXG4gICAgICAgIG5ldyBUZ2RQYWludGVyU3RhdGUoY3R4LCB7XG4gICAgICAgICAgICBkZXB0aDogd2ViZ2xQcmVzZXREZXB0aC5sZXNzLFxuICAgICAgICAgICAgY3VsbDogd2ViZ2xQcmVzZXRDdWxsLmJhY2ssXG4gICAgICAgICAgICBzdGVuY2lsOiB3ZWJnbFByZXNldFN0ZW5jaWwucGFpbnRJZkVxdWFsKDApLFxuICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICBuZXcgVGdkUGFpbnRlck1lc2hHbHRmKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBhc3NldDogYXNzZXRzLmdsYi5zdXphbm5lLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSlcbiAgICApXG4gICAgY3R4LnBhaW50KClcbiAgICAvLyAjZW5kXG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIERlbW8oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPFZpZXdcbiAgICAgICAgICAgIG9uUmVhZHk9e2luaXR9XG4gICAgICAgICAgICBvcHRpb25zPXt7XG4gICAgICAgICAgICAgICAgZGVwdGg6IHRydWUsXG4gICAgICAgICAgICAgICAgc3RlbmNpbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBhbnRpYWxpYXM6IHRydWUsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgYXNzZXRzPXt7XG4gICAgICAgICAgICAgICAgZ2xiOiB7XG4gICAgICAgICAgICAgICAgICAgIHN1emFubmU6IFN1emFubmVVUkwsXG4gICAgICAgICAgICAgICAgICAgIHJpbmc6IFJpbmdVUkwsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgKVxufVxuIiwiLyoqXG4gKiBXYXJuaW5nISBUaGlzIGNvZGUgaGFzIGJlZW4gZ2VuZXJhdGVkIGF1dG9tYXRpY2FsbHkuXG4gKi9cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgVmlld0J1dHRvbiB9IGZyb20gXCJAdG9sb2tvYmFuL3VpXCJcbmltcG9ydCBDb2RlVmlld2VyIGZyb20gXCJAL2NvbXBvbmVudHMvZGVtby9Db2RlVmlld2VyXCJcbmltcG9ydCBEZW1vIGZyb20gXCIuL3N0ZW5jaWwuZGVtb1wiXG5cbmNvbnN0IEZPQ1VTID0ge1wiRGV0YWlsICMxXCI6XCIgICAgY29uc3QgY2FtZXJhID0gbmV3IFRnZENhbWVyYVBlcnNwZWN0aXZlKHtcXG4gICAgICAgIHRyYW5zZm86IHsgZGlzdGFuY2U6IDMgfSxcXG4gICAgICAgIGZhcjogMTAwLFxcbiAgICAgICAgbmVhcjogMC4wMSxcXG4gICAgICAgIGZvdnk6IE1hdGguUEkgLyA0LFxcbiAgICAgICAgem9vbTogMSxcXG4gICAgfSlcXG4gICAgY3R4LmNhbWVyYSA9IGNhbWVyYVxcbiAgICBuZXcgVGdkQ29udHJvbGxlckNhbWVyYU9yYml0KGN0eCwge1xcbiAgICAgICAgc3BlZWRQYW5uaW5nOiAwLFxcbiAgICAgICAgaW5lcnRpYU9yYml0OiAxMDAwLFxcbiAgICB9KVxcbiAgICBjdHguYWRkKFxcbiAgICAgICAgbmV3IFRnZFBhaW50ZXJDbGVhcihjdHgsIHtcXG4gICAgICAgICAgICBkZXB0aDogMSxcXG4gICAgICAgICAgICBzdGVuY2lsOiAwLFxcbiAgICAgICAgfSksXFxuICAgICAgICBuZXcgVGdkUGFpbnRlckJhY2tncm91bmQoY3R4LCB7XFxuICAgICAgICAgICAgdGV4dHVyZTogbmV3IFRnZFRleHR1cmUyRChjdHgpLmxvYWRCaXRtYXAoQmFja2dyb3VuZFVSTCksXFxuICAgICAgICB9KSxcXG4gICAgICAgIG5ldyBUZ2RQYWludGVyU3RhdGUoY3R4LCB7XFxuICAgICAgICAgICAgY29sb3I6IGZhbHNlLFxcbiAgICAgICAgICAgIGRlcHRoOiB3ZWJnbFByZXNldERlcHRoLm9mZixcXG4gICAgICAgICAgICBjdWxsOiB3ZWJnbFByZXNldEN1bGwuYmFjayxcXG4gICAgICAgICAgICBzdGVuY2lsOiB3ZWJnbFByZXNldFN0ZW5jaWwud3JpdGUoMSksXFxuICAgICAgICAgICAgY2hpbGRyZW46IFtcXG4gICAgICAgICAgICAgICAgbmV3IFRnZFBhaW50ZXJNZXNoR2x0ZihjdHgsIHtcXG4gICAgICAgICAgICAgICAgICAgIGFzc2V0OiBhc3NldHMuZ2xiLnJpbmcsXFxuICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbDogKCkgPT4gbmV3IFRnZE1hdGVyaWFsRmxhdCgpLFxcbiAgICAgICAgICAgICAgICB9KSxcXG4gICAgICAgICAgICBdLFxcbiAgICAgICAgfSksXFxuICAgICAgICBuZXcgVGdkUGFpbnRlclN0YXRlKGN0eCwge1xcbiAgICAgICAgICAgIGRlcHRoOiB3ZWJnbFByZXNldERlcHRoLmxlc3MsXFxuICAgICAgICAgICAgY3VsbDogd2ViZ2xQcmVzZXRDdWxsLmJhY2ssXFxuICAgICAgICAgICAgc3RlbmNpbDogd2ViZ2xQcmVzZXRTdGVuY2lsLnBhaW50SWZFcXVhbCgwKSxcXG4gICAgICAgICAgICBjaGlsZHJlbjogW1xcbiAgICAgICAgICAgICAgICBuZXcgVGdkUGFpbnRlck1lc2hHbHRmKGN0eCwge1xcbiAgICAgICAgICAgICAgICAgICAgYXNzZXQ6IGFzc2V0cy5nbGIuc3V6YW5uZSxcXG4gICAgICAgICAgICAgICAgfSksXFxuICAgICAgICAgICAgXSxcXG4gICAgICAgIH0pXFxuICAgIClcXG4gICAgY3R4LnBhaW50KClcIn1cbmNvbnN0IEZVTEwgPSBcImltcG9ydCB7XFxuICAgIFRnZENhbWVyYVBlcnNwZWN0aXZlLFxcbiAgICBUZ2RDb250ZXh0LFxcbiAgICBUZ2RDb250cm9sbGVyQ2FtZXJhT3JiaXQsXFxuICAgIFRnZE1hdGVyaWFsRmxhdCxcXG4gICAgVGdkUGFpbnRlckJhY2tncm91bmQsXFxuICAgIFRnZFBhaW50ZXJDbGVhcixcXG4gICAgVGdkUGFpbnRlck1lc2hHbHRmLFxcbiAgICBUZ2RQYWludGVyU3RhdGUsXFxuICAgIFRnZFRleHR1cmUyRCxcXG4gICAgd2ViZ2xQcmVzZXRDdWxsLFxcbiAgICB3ZWJnbFByZXNldERlcHRoLFxcbiAgICB3ZWJnbFByZXNldFN0ZW5jaWwsXFxufSBmcm9tIFxcXCJAdG9sb2tvYmFuL3RnZFxcXCJcXG5pbXBvcnQgVmlldywgeyBBc3NldHMgfSBmcm9tIFxcXCJAL2NvbXBvbmVudHMvZGVtby9UZ2RcXFwiXFxuXFxuaW1wb3J0IEJhY2tncm91bmRVUkwgZnJvbSBcXFwiQC9hc3NldHMvaW1hZ2UvZGluby53ZWJwXFxcIlxcbmltcG9ydCBSaW5nVVJMIGZyb20gXFxcIkAvYXNzZXRzL21lc2gvcmluZy5nbGJcXFwiXFxuaW1wb3J0IFN1emFubmVVUkwgZnJvbSBcXFwiQC9hc3NldHMvbWVzaC9zdXphbm5lLmdsYlxcXCJcXG5cXG5mdW5jdGlvbiBpbml0KGN0eDogVGdkQ29udGV4dCwgYXNzZXRzOiBBc3NldHMpIHtcXG4gICAgY29uc3QgY2FtZXJhID0gbmV3IFRnZENhbWVyYVBlcnNwZWN0aXZlKHtcXG4gICAgICAgIHRyYW5zZm86IHsgZGlzdGFuY2U6IDMgfSxcXG4gICAgICAgIGZhcjogMTAwLFxcbiAgICAgICAgbmVhcjogMC4wMSxcXG4gICAgICAgIGZvdnk6IE1hdGguUEkgLyA0LFxcbiAgICAgICAgem9vbTogMSxcXG4gICAgfSlcXG4gICAgY3R4LmNhbWVyYSA9IGNhbWVyYVxcbiAgICBuZXcgVGdkQ29udHJvbGxlckNhbWVyYU9yYml0KGN0eCwge1xcbiAgICAgICAgc3BlZWRQYW5uaW5nOiAwLFxcbiAgICAgICAgaW5lcnRpYU9yYml0OiAxMDAwLFxcbiAgICB9KVxcbiAgICBjdHguYWRkKFxcbiAgICAgICAgbmV3IFRnZFBhaW50ZXJDbGVhcihjdHgsIHtcXG4gICAgICAgICAgICBkZXB0aDogMSxcXG4gICAgICAgICAgICBzdGVuY2lsOiAwLFxcbiAgICAgICAgfSksXFxuICAgICAgICBuZXcgVGdkUGFpbnRlckJhY2tncm91bmQoY3R4LCB7XFxuICAgICAgICAgICAgdGV4dHVyZTogbmV3IFRnZFRleHR1cmUyRChjdHgpLmxvYWRCaXRtYXAoQmFja2dyb3VuZFVSTCksXFxuICAgICAgICB9KSxcXG4gICAgICAgIG5ldyBUZ2RQYWludGVyU3RhdGUoY3R4LCB7XFxuICAgICAgICAgICAgY29sb3I6IGZhbHNlLFxcbiAgICAgICAgICAgIGRlcHRoOiB3ZWJnbFByZXNldERlcHRoLm9mZixcXG4gICAgICAgICAgICBjdWxsOiB3ZWJnbFByZXNldEN1bGwuYmFjayxcXG4gICAgICAgICAgICBzdGVuY2lsOiB3ZWJnbFByZXNldFN0ZW5jaWwud3JpdGUoMSksXFxuICAgICAgICAgICAgY2hpbGRyZW46IFtcXG4gICAgICAgICAgICAgICAgbmV3IFRnZFBhaW50ZXJNZXNoR2x0ZihjdHgsIHtcXG4gICAgICAgICAgICAgICAgICAgIGFzc2V0OiBhc3NldHMuZ2xiLnJpbmcsXFxuICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbDogKCkgPT4gbmV3IFRnZE1hdGVyaWFsRmxhdCgpLFxcbiAgICAgICAgICAgICAgICB9KSxcXG4gICAgICAgICAgICBdLFxcbiAgICAgICAgfSksXFxuICAgICAgICBuZXcgVGdkUGFpbnRlclN0YXRlKGN0eCwge1xcbiAgICAgICAgICAgIGRlcHRoOiB3ZWJnbFByZXNldERlcHRoLmxlc3MsXFxuICAgICAgICAgICAgY3VsbDogd2ViZ2xQcmVzZXRDdWxsLmJhY2ssXFxuICAgICAgICAgICAgc3RlbmNpbDogd2ViZ2xQcmVzZXRTdGVuY2lsLnBhaW50SWZFcXVhbCgwKSxcXG4gICAgICAgICAgICBjaGlsZHJlbjogW1xcbiAgICAgICAgICAgICAgICBuZXcgVGdkUGFpbnRlck1lc2hHbHRmKGN0eCwge1xcbiAgICAgICAgICAgICAgICAgICAgYXNzZXQ6IGFzc2V0cy5nbGIuc3V6YW5uZSxcXG4gICAgICAgICAgICAgICAgfSksXFxuICAgICAgICAgICAgXSxcXG4gICAgICAgIH0pXFxuICAgIClcXG4gICAgY3R4LnBhaW50KClcXG59XFxuXFxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRGVtbygpIHtcXG4gICAgcmV0dXJuIChcXG4gICAgICAgIDxWaWV3XFxuICAgICAgICAgICAgb25SZWFkeT17aW5pdH1cXG4gICAgICAgICAgICBvcHRpb25zPXt7XFxuICAgICAgICAgICAgICAgIGRlcHRoOiB0cnVlLFxcbiAgICAgICAgICAgICAgICBzdGVuY2lsOiB0cnVlLFxcbiAgICAgICAgICAgICAgICBhbnRpYWxpYXM6IHRydWUsXFxuICAgICAgICAgICAgfX1cXG4gICAgICAgICAgICBhc3NldHM9e3tcXG4gICAgICAgICAgICAgICAgZ2xiOiB7XFxuICAgICAgICAgICAgICAgICAgICBzdXphbm5lOiBTdXphbm5lVVJMLFxcbiAgICAgICAgICAgICAgICAgICAgcmluZzogUmluZ1VSTCxcXG4gICAgICAgICAgICAgICAgfSxcXG4gICAgICAgICAgICB9fVxcbiAgICAgICAgLz5cXG4gICAgKVxcbn1cXG5cIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEZW1vQ29udGFpbmVyKCkge1xuICAgIGNvbnN0IFtmdWxsLCBzZXRGdWxsXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKVxuICAgIHJldHVybiA8PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhhbGYtbGVmdFwiPjxEZW1vIC8+PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGFsZi1yaWdodFwiPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8Vmlld0J1dHRvbiB2YXJpYW50PVwiZWxldmF0ZWRcIiBvbkNsaWNrPXsoKSA9PiBzZXRGdWxsKCFmdWxsKX0+XG4gICAgICAgICAgICAgICAgICAgIHtmdWxsID8gXCJTaG93IGNvZGUgZGV0YWlsc1wiIDogXCJTaG93IGZ1bGwgY29kZVwifVxuICAgICAgICAgICAgICAgIDwvVmlld0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPENvZGVWaWV3ZXIgbGFuZ3VhZ2U9XCJ0c3hcIiB2YWx1ZT17ZnVsbCA/IEZVTEwgOiBGT0NVU30gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+XG59IiwiIl0sIm5hbWVzIjpbIk1hdGgiXSwibWFwcGluZ3MiOiJ3V0FvQkEsU0FBUyxFQUFLLENBQWUsQ0FBRSxDQUFjLEVBU3pDLEVBQUksTUFBTSxDQVBLLElBQUksc0JBQW9CLENBQUMsQ0FDcEMsUUFBUyxDQUFFLFNBQVUsQ0FBRSxFQUN2QixJQUFLLElBQ0wsS0FBTSxJQUNOLEtBQU1BLEtBQUssRUFBRSxDQUFHLEVBQ2hCLEtBQU0sQyxHQUdWLElBQUksMEJBQXdCLENBQUMsRUFBSyxDQUM5QixhQUFjLEVBQ2QsYUFBYyxHLEdBRWxCLEVBQUksR0FBRyxDQUNILElBQUksaUJBQWUsQ0FBQyxFQUFLLENBQ3JCLE1BQU8sRUFDUCxRQUFTLEMsR0FFYixJQUFJLHNCQUFvQixDQUFDLEVBQUssQ0FDMUIsUUFBUyxJQUFJLGNBQVksQ0FBQyxHQUFLLFVBQVUsQ0FBQyxFLEdBRTlDLElBQUksaUJBQWUsQ0FBQyxFQUFLLENBQ3JCLE1BQU8sR0FDUCxNQUFPLHNCQUFvQixDQUMzQixLQUFNLHNCQUFvQixDQUMxQixRQUFTLDBCQUF3QixDQUFDLEdBQ2xDLFNBQVUsQ0FDTixJQUFJLG9CQUFrQixDQUFDLEVBQUssQ0FDeEIsTUFBTyxFQUFPLEdBQUcsQ0FBQyxJQUFJLENBQ3RCLFNBQVUsSUFBTSxJQUFJLGlCQUFlLEEsR0FFMUMsQSxHQUVMLElBQUksaUJBQWUsQ0FBQyxFQUFLLENBQ3JCLE1BQU8sdUJBQXFCLENBQzVCLEtBQU0sc0JBQW9CLENBQzFCLFFBQVMsaUNBQStCLENBQUMsR0FDekMsU0FBVSxDQUNOLElBQUksb0JBQWtCLENBQUMsRUFBSyxDQUN4QixNQUFPLEVBQU8sR0FBRyxDQUFDLE9BQU8sQSxHQUVoQyxBLElBR1QsRUFBSSxLQUFLLEVBRWIsQ0FFZSxTQUFTLElBQ3BCLE1BQ0ksVUFBQyxHQUFJLEVBQ0QsUUFBUyxFQUNULFFBQVMsQ0FDTCxNQUFPLEdBQ1AsUUFBUyxHQUNULFVBQVcsRSxFQUVmLE9BQVEsQ0FDSixJQUFLLENBQ0QsUUFBUyxFQUNULEtBQU0sQyxFQUViLEVBR2IsQ0M5RUEsSUFBTSxFQUFRLENBQUMsWUFBWSx3ekNBQXd6QyxFQUdwMEMsU0FBUyxJQUNwQixHQUFNLENBQUMsRUFBTSxFQUFRLENBQUcsVUFBYyxDQUFDLElBQ3ZDLE1BQU8saUNBQ0gsaUJBQUssVUFBVSxZQUFXLFNBQUMsVUFBQyxFQUFJLEdBQUcsR0FDbkMsa0JBQUssVUFBVSxhQUFZLFVBQ3ZCLDBCQUNJLFVBQUMsS0FBVSxFQUFDLFFBQVEsV0FBVyxRQUFTLElBQU0sRUFBUSxDQUFDLEdBQUssU0FDdkQsRUFBTyxvQkFBc0IsZ0JBQWdCLEVBQ3JDLEdBRWpCLFVBQUMsR0FBVSxFQUFDLFNBQVMsTUFBTSxNQUFPLEVBWmpDLDJ4RUFZK0MsQ0FBSyxHQUFJLEdBQ3ZELEVBRWQsQyw4akJDdEJFLFMsZ0NBRUYsa0UsZ0NBRUEsK0IsaUVBRUcsc0IsaUNBQ0Esb0QsaUNBQ0Esb0QscUlBTUYsTSJ9