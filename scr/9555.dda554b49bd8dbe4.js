"use strict";(self.webpackChunk_tolokoban_tgd=self.webpackChunk_tolokoban_tgd||[]).push([["9555"],{7422:function(e,t,n){n.d(t,{A:()=>g});var a=n(4848),r=n(6540),s=n(7719),o=n(1818),c=n(3289);let l="src-components-demo-Tgd-tgd-module_screen_NwIHvu",i="src-components-demo-Tgd-tgd-module_canvas_OvO7uX",d="src-components-demo-Tgd-tgd-module_gizmo_r0e5Ca",u="src-components-demo-Tgd-tgd-module_error_qgsDNU";function g({className:e,options:t,onReady:n,gizmo:g=!1,width:p="640px",height:f="480px",noBorder:b=!1,assets:h,controller:x,children:j}){let[v,y]=r.useState(null),[w,C]=r.useState(!0),[O,T]=r.useState(!1),k=r.useRef(null),P=r.useRef(null),_=r.useRef(null),S=r.useRef(null),N=r.useRef(null),[R,D]=r.useState(!0);p.endsWith("px")&&f.endsWith("px")&&(p.substring(p.length-2),f.substring(f.length-2));let E=e=>{if(!e||P.current)return;P.current=e;let a=new s.TgdContext(e,t);console.log("Depht buffer bits:",a.gl.getParameter(a.gl.DEPTH_BITS)),k.current=a,D(!0),m(h).then(e=>{try{if(x){let e=new s.TgdControllerCameraOrbit(a,{debug:!0,inertiaOrbit:1e3,inertiaZoom:500,inertiaPanning:500,...x});N.current=e,a.inputs.pointer.eventTapMultiple.addListener(t=>{console.log("\uD83D\uDE80 [tgd] evt.tapsCount =",t.tapsCount),t.preventTap(),2===t.tapsCount&&e.reset((x.inertiaOrbit??500)*.001)})}n(a,e),a.paint()}catch(e){y(e instanceof Error?e.message:JSON.stringify(e))}D(!1)}).catch(e=>{console.error("Unable to initialize the scene!",e),D(!1)});let r=_.current;r&&r.attachContext(a)},L=e=>{let t=new s.TgdCanvasGizmo({canvas:e});_.current=t,t.eventTipClick.addListener(({to:e})=>{let t=k.current;t&&t.animSchedule({duration:.2,easingFunction:s.tgdEasingFunctionInOutCubic,action:(0,s.tgdActionCreateCameraInterpolation)(t.camera,{orientation:e})})});let n=k.current;n&&t.attachContext(n)};return(r.useEffect(()=>{let e=P.current,t=k.current;if(!e||!t)return;let n=new ResizeObserver(()=>t.paint());return n.observe(e),e.requestFullscreen||(e.requestFullscreen=e.webkitRequestFullscreen),T(!!e.requestFullscreen),()=>n.unobserve(e)},[k.current,P.current]),b)?(0,a.jsxs)("div",{ref:S,className:l,style:{width:w?p:f,height:w?f:p},children:[(0,a.jsx)("canvas",{className:i,ref:E}),g&&(0,a.jsx)("canvas",{className:d,ref:L}),v&&(0,a.jsx)("div",{className:u,children:v})]}):(0,a.jsxs)("div",{className:o.Sxu.classNames.join(e,"src-components-demo-Tgd-tgd-module_Tgd_MESVmx"),children:[(0,a.jsxs)("div",{className:o.Sxu.classNames.join("src-components-demo-Tgd-tgd-module_actions_OBhA17",!R&&"src-components-demo-Tgd-tgd-module_enabled_dxtnW6"),children:[(0,a.jsx)("div",{children:(0,a.jsx)(o.I64,{onClick:()=>C(!w)})}),(0,a.jsx)("div",{children:(0,a.jsx)(o.kRc,{onClick:()=>{let e=k.current;e&&e.takeSnapshot().then(e=>{let t=document.createElement("a");document.body.appendChild(t),t.style.display="none",t.href=e.src,t.download="snapshot.png",t.click(),window.setTimeout(()=>document.body.removeChild(t),3e4)})}})}),O&&(0,a.jsx)("div",{children:(0,a.jsx)(o.L9n,{onClick:()=>{let e=S.current;e&&e.requestFullscreen()}})}),x&&(0,a.jsx)("div",{children:(0,a.jsx)(o.zgT,{onClick:()=>{let e=N.current,t=k.current;t&&e&&(e.cameraInitialState=t.camera.getCurrentState(),e.resetZoom())}})})]}),(0,a.jsxs)("div",{className:"src-components-demo-Tgd-tgd-module_relative_IctJ7L",children:[(0,a.jsxs)("div",{ref:S,className:l,style:{width:w?p:f,height:w?f:p},children:[(0,a.jsx)("canvas",{className:i,ref:E}),g&&(0,a.jsx)("canvas",{className:d,ref:L}),v&&(0,a.jsx)("div",{className:u,children:v})]}),(0,a.jsx)("div",{className:o.Sxu.classNames.join("src-components-demo-Tgd-tgd-module_overlay_w7EXka",R&&"src-components-demo-Tgd-tgd-module_loading_c4TMDj"),children:(0,a.jsx)(c.A,{})}),j]})]})}async function m({glb:e,data:t,text:n,image:a}={}){console.log("\uD83D\uDE80 [Tgd] glb, data, text, image = ",e,t,n,a);let r={glb:{},data:{},text:{},image:{}},o=[];return a&&Object.keys(a).forEach(e=>{o.push(async()=>{let t=a[e];console.log("Loading image:",t);let n=await (0,s.tgdLoadImage)(t);n&&(r.image[e]=n)})}),e&&Object.keys(e).forEach(t=>{o.push(async()=>{let n=e[t];console.log("Loading GLB:",n);let a=await (0,s.tgdLoadGlb)(n);a&&(r.glb[t]=a)})}),t&&Object.keys(t).forEach(e=>{o.push(async()=>{let n=t[e],a=await (0,s.tgdLoadArrayBuffer)(n);a&&(r.data[e]=a)})}),n&&Object.keys(n).forEach(e=>{o.push(async()=>{let t=n[e],a=await (0,s.tgdLoadText)(t);a&&(r.text[e]=a)})}),await Promise.all(o.map(e=>e())),r}},1278:function(e,t,n){e.exports=n.p+"bin/suzanne.f1e9692cdd07ad81.glb"},1998:function(e,t,n){n.r(t),n.d(t,{default:()=>g});var a=n(4848),r=n(8453),s=n(7719),o=n(7422),c=n(1278);function l(){return(0,a.jsx)(o.A,{onReady:i,gizmo:!0})}function i(e){let t=new s.TgdCameraPerspective({transfo:{distance:5},far:100,near:.1,fovy:Math.PI/2,zoom:1});e.camera=t,t.transfo.orientation.face("+X+Y+Z"),t.transfo.setPosition(0,0,0),t.spaceHeightAtTarget=6,new s.TgdControllerCameraOrbit(e,{inertiaOrbit:900,geo:{lat:0,lng:0,minLat:(0,s.tgdCalcDegToRad)(-60),maxLat:(0,s.tgdCalcDegToRad)(60)}}),e.paint(),(async()=>{if(!await (0,s.tgdLoadGlb)(c))return;console.log("Suzanne has been loaded!");let t=new s.TgdPainterAxes(e,{scale:10}),n=new s.TgdPainterSegmentsData;for(let e=0;e<12;e++){let e=new s.TgdVec3(Math.random()-.5,Math.random()-.5,Math.random()-.5).normalize().scale((0,s.tgdCalcRandom)(1,3));n.add([0,0,0,.5],[e.x,e.y,e.z,(0,s.tgdCalcRandom)(0,.5)])}let a=new s.TgdPainterState(e,{depth:s.webglPresetDepth.less,cull:s.webglPresetCull.back,children:[new s.TgdPainterClear(e,{color:[.2,.1,0,1],depth:1}),t,new s.TgdPainterSegments(e,{makeDataset:n.makeDataset,roundness:4})]});e.add(a),e.paint(),document.addEventListener("keydown",t=>{let n=(0,s.tgdCalcDegToRad)(15),a=0,r=0;switch(t.key){case"0":e.camera.transfo.orientation.face("+X+Y+Z"),e.camera.zoom=1,e.camera.transfo.setPosition(0,0,0).setDistance(15);break;case".":e.camera.zoom=1;break;case"6":r=n;break;case"4":r=-n;break;case"8":a=-n;break;case"2":a=n;break;case" ":e.camera.transfo.debug("SPACE"),e.paint();return}e.camera.transfo.orbitAroundX(a),e.camera.transfo.orbitAroundY(r),e.camera.debug("Camera"),e.paint()})})()}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){var a;a=n[t],t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a})}return e}function u(e){var t=d({h1:"h1"},(0,r.R)(),e.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.h1,{children:"Test"}),"\n",(0,a.jsx)(l,{})]})}function g(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=d({},(0,r.R)(),n.components).wrapper;return s?(0,a.jsx)(s,(e=d({},n),t=t={children:(0,a.jsx)(u,d({},n))},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n.push.apply(n,a)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e)):u(n)}},8453:function(e,t,n){n.d(t,{R:()=>s});var a=n(6540);let r=a.createContext({});function s(e){let t=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NyLzk1NTUuYjJjODgxMzE2NTYyNzgxYi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL0B0b2xva29iYW4vdGdkLy4vc3JjL2NvbXBvbmVudHMvZGVtby9UZ2QvdGdkLm1vZHVsZS5jc3M/Yjc4NyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvZG9jL3NyYy9jb21wb25lbnRzL2RlbW8vVGdkL3RnZC50c3giLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2RvYy9zcmMvYXBwL2FydGljbGVzL3Rlc3QvXy9pbmRleC50c3giLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2RvYy9zcmMvYXBwL2FydGljbGVzL3Rlc3QvcGFnZS5tZHgiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2RvYy9ub2RlX21vZHVsZXMvQG1keC1qcy9yZWFjdC9saWIvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IGNzcy1leHRyYWN0LXJzcGFjay1wbHVnaW5cbmV4cG9ydCBkZWZhdWx0IHtcIlRnZFwiOlwic3JjLWNvbXBvbmVudHMtZGVtby1UZ2QtdGdkLW1vZHVsZV9UZ2RfTUVTVm14XCIsXCJyZWxhdGl2ZVwiOlwic3JjLWNvbXBvbmVudHMtZGVtby1UZ2QtdGdkLW1vZHVsZV9yZWxhdGl2ZV9JY3RKN0xcIixcIm92ZXJsYXlcIjpcInNyYy1jb21wb25lbnRzLWRlbW8tVGdkLXRnZC1tb2R1bGVfb3ZlcmxheV93N0VYa2FcIixcImxvYWRpbmdcIjpcInNyYy1jb21wb25lbnRzLWRlbW8tVGdkLXRnZC1tb2R1bGVfbG9hZGluZ19jNFRNRGpcIixcInNjcmVlblwiOlwic3JjLWNvbXBvbmVudHMtZGVtby1UZ2QtdGdkLW1vZHVsZV9zY3JlZW5fTndJSHZ1XCIsXCJjYW52YXNcIjpcInNyYy1jb21wb25lbnRzLWRlbW8tVGdkLXRnZC1tb2R1bGVfY2FudmFzX092Tzd1WFwiLFwiZ2l6bW9cIjpcInNyYy1jb21wb25lbnRzLWRlbW8tVGdkLXRnZC1tb2R1bGVfZ2l6bW9fcjBlNUNhXCIsXCJhY3Rpb25zXCI6XCJzcmMtY29tcG9uZW50cy1kZW1vLVRnZC10Z2QtbW9kdWxlX2FjdGlvbnNfT0JoQTE3XCIsXCJlbmFibGVkXCI6XCJzcmMtY29tcG9uZW50cy1kZW1vLVRnZC10Z2QtbW9kdWxlX2VuYWJsZWRfZHh0blc2XCIsXCJlcnJvclwiOlwic3JjLWNvbXBvbmVudHMtZGVtby1UZ2QtdGdkLW1vZHVsZV9lcnJvcl9xZ3NETlVcIn07IiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQge1xuICAgIHRnZEFjdGlvbkNyZWF0ZUNhbWVyYUludGVycG9sYXRpb24sXG4gICAgVGdkQ2FudmFzR2l6bW8sXG4gICAgVGdkQ29udGV4dCxcbiAgICB0Z2RFYXNpbmdGdW5jdGlvbkluT3V0Q3ViaWMsXG4gICAgdGdkTG9hZEFycmF5QnVmZmVyLFxuICAgIHRnZExvYWRHbGIsXG4gICAgdGdkTG9hZEltYWdlLFxuICAgIHRnZExvYWRUZXh0LFxuICAgIFRnZERhdGFHbGIsXG4gICAgVGdkQ29udHJvbGxlckNhbWVyYU9yYml0T3B0aW9ucyxcbiAgICBUZ2RDb250cm9sbGVyQ2FtZXJhT3JiaXQsXG59IGZyb20gXCJAdG9sb2tvYmFuL3RnZFwiXG5pbXBvcnQge1xuICAgIEljb25GdWxsc2NyZWVuLFxuICAgIEljb25PcmllbnRhdGlvbixcbiAgICBJY29uUGluLFxuICAgIEljb25TbmFwc2hvdCxcbiAgICBUaGVtZSxcbn0gZnJvbSBcIkB0b2xva29iYW4vdWlcIlxuXG5pbXBvcnQgU3Bpbm5lciBmcm9tIFwiLi4vLi4vU3Bpbm5lclwiXG5cbmltcG9ydCBzdHlsZXMgZnJvbSBcIi4vdGdkLm1vZHVsZS5jc3NcIlxuXG5leHBvcnQgaW50ZXJmYWNlIEFzc2V0cyB7XG4gICAgaW1hZ2U6IFJlY29yZDxzdHJpbmcsIEhUTUxJbWFnZUVsZW1lbnQ+XG4gICAgZ2xiOiBSZWNvcmQ8c3RyaW5nLCBUZ2REYXRhR2xiPlxuICAgIGRhdGE6IFJlY29yZDxzdHJpbmcsIEFycmF5QnVmZmVyPlxuICAgIHRleHQ6IFJlY29yZDxzdHJpbmcsIHN0cmluZz5cbn1cblxudHlwZSBBc3NldHNUb0xvYWQgPSB7XG4gICAgW2tleSBpbiBrZXlvZiBBc3NldHNdOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+XG59XG5cbmludGVyZmFjZSBUZ2RQcm9wcyB7XG4gICAgY2xhc3NOYW1lPzogc3RyaW5nXG4gICAgb3B0aW9ucz86IFdlYkdMQ29udGV4dEF0dHJpYnV0ZXNcbiAgICBvblJlYWR5KHNjZW5lOiBUZ2RDb250ZXh0LCBhc3NldHM6IEFzc2V0cyk6IHZvaWRcbiAgICB3aWR0aD86IHN0cmluZ1xuICAgIGhlaWdodD86IHN0cmluZ1xuICAgIG5vQm9yZGVyPzogYm9vbGVhblxuICAgIGdpem1vPzogYm9vbGVhblxuICAgIGFzc2V0cz86IFBhcnRpYWw8QXNzZXRzVG9Mb2FkPlxuICAgIGNvbnRyb2xsZXI/OiBQYXJ0aWFsPFRnZENvbnRyb2xsZXJDYW1lcmFPcmJpdE9wdGlvbnM+XG4gICAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGVcbn1cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFRnZCh7XG4gICAgY2xhc3NOYW1lLFxuICAgIG9wdGlvbnMsXG4gICAgb25SZWFkeSxcbiAgICBnaXptbyA9IGZhbHNlLFxuICAgIHdpZHRoID0gXCI2NDBweFwiLFxuICAgIGhlaWdodCA9IFwiNDgwcHhcIixcbiAgICBub0JvcmRlciA9IGZhbHNlLFxuICAgIGFzc2V0cyxcbiAgICBjb250cm9sbGVyLFxuICAgIGNoaWxkcmVuLFxufTogVGdkUHJvcHMpIHtcbiAgICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IFJlYWN0LnVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpXG4gICAgY29uc3QgW2xhbmRzY2FwZSwgc2V0TGFuZHNjYXBlXSA9IFJlYWN0LnVzZVN0YXRlKHRydWUpXG4gICAgY29uc3QgW2Z1bGxzY3JlZW5BdmFpbGFibGUsIHNldEZ1bGxzY3JlZW5BdmFpbGFibGVdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpXG4gICAgY29uc3QgcmVmQ29udGV4dCA9IFJlYWN0LnVzZVJlZjxUZ2RDb250ZXh0IHwgbnVsbD4obnVsbClcbiAgICBjb25zdCByZWZDYW52YXMgPSBSZWFjdC51c2VSZWY8SFRNTENhbnZhc0VsZW1lbnQgfCBudWxsPihudWxsKVxuICAgIGNvbnN0IHJlZkdpem1vID0gUmVhY3QudXNlUmVmPFRnZENhbnZhc0dpem1vIHwgbnVsbD4obnVsbClcbiAgICBjb25zdCByZWZTY3JlZW4gPSBSZWFjdC51c2VSZWY8SFRNTERpdkVsZW1lbnQgfCBudWxsPihudWxsKVxuICAgIGNvbnN0IHJlZk9yYml0ZXIgPSBSZWFjdC51c2VSZWY8VGdkQ29udHJvbGxlckNhbWVyYU9yYml0IHwgbnVsbD4obnVsbClcbiAgICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSBSZWFjdC51c2VTdGF0ZSh0cnVlKVxuICAgIGxldCBhc3BlY3RSYXRpbyA9IFwiYXV0b1wiXG4gICAgaWYgKHdpZHRoLmVuZHNXaXRoKFwicHhcIikgJiYgaGVpZ2h0LmVuZHNXaXRoKFwicHhcIikpIHtcbiAgICAgICAgYXNwZWN0UmF0aW8gPSBgJHt3aWR0aC5zdWJzdHJpbmcoXG4gICAgICAgICAgICB3aWR0aC5sZW5ndGggLSAyXG4gICAgICAgICl9IC8gJHtoZWlnaHQuc3Vic3RyaW5nKGhlaWdodC5sZW5ndGggLSAyKX1gXG4gICAgfVxuICAgIGNvbnN0IG1vdW50Q2FudmFzID0gKGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpID0+IHtcbiAgICAgICAgaWYgKCFjYW52YXMpIHJldHVyblxuXG4gICAgICAgIGlmIChyZWZDYW52YXMuY3VycmVudCkgcmV0dXJuXG5cbiAgICAgICAgcmVmQ2FudmFzLmN1cnJlbnQgPSBjYW52YXNcbiAgICAgICAgY29uc3QgY29udGV4dCA9IG5ldyBUZ2RDb250ZXh0KGNhbnZhcywgb3B0aW9ucylcbiAgICAgICAgY29uc3QgZGVwdGhCaXRzID0gY29udGV4dC5nbC5nZXRQYXJhbWV0ZXIoY29udGV4dC5nbC5ERVBUSF9CSVRTKVxuICAgICAgICBjb25zb2xlLmxvZyhcIkRlcGh0IGJ1ZmZlciBiaXRzOlwiLCBkZXB0aEJpdHMpXG4gICAgICAgIHJlZkNvbnRleHQuY3VycmVudCA9IGNvbnRleHRcbiAgICAgICAgc2V0TG9hZGluZyh0cnVlKVxuICAgICAgICBsb2FkQXNzZXRzKGFzc2V0cylcbiAgICAgICAgICAgIC50aGVuKChsb2FkZWRBc3NldHM6IEFzc2V0cykgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250cm9sbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmJpdGVyID0gbmV3IFRnZENvbnRyb2xsZXJDYW1lcmFPcmJpdChjb250ZXh0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVidWc6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5lcnRpYU9yYml0OiAxMDAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZXJ0aWFab29tOiA1MDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5lcnRpYVBhbm5pbmc6IDUwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jb250cm9sbGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZk9yYml0ZXIuY3VycmVudCA9IG9yYml0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuaW5wdXRzLnBvaW50ZXIuZXZlbnRUYXBNdWx0aXBsZS5hZGRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZXZ0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCLwn5qAIFt0Z2RdIGV2dC50YXBzQ291bnQgPVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZ0LnRhcHNDb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIC8vIEBGSVhNRTogUmVtb3ZlIHRoaXMgbGluZSB3cml0dGVuIG9uIDIwMjUtMTEtMTAgYXQgMTM6MzZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZ0LnByZXZlbnRUYXAoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZ0LnRhcHNDb3VudCA9PT0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JiaXRlci5yZXNldChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY29udHJvbGxlci5pbmVydGlhT3JiaXQgPz8gNTAwKSAqIDFlLTNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvblJlYWR5KGNvbnRleHQsIGxvYWRlZEFzc2V0cylcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5wYWludCgpXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0RXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICBleCBpbnN0YW5jZW9mIEVycm9yID8gZXgubWVzc2FnZSA6IEpTT04uc3RyaW5naWZ5KGV4KVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChleCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmFibGUgdG8gaW5pdGlhbGl6ZSB0aGUgc2NlbmUhXCIsIGV4KVxuICAgICAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpXG4gICAgICAgICAgICB9KVxuICAgICAgICBjb25zdCBnaXptbyA9IHJlZkdpem1vLmN1cnJlbnRcbiAgICAgICAgaWYgKGdpem1vKSBnaXptby5hdHRhY2hDb250ZXh0KGNvbnRleHQpXG4gICAgfVxuICAgIGNvbnN0IG1vdW50R2l6bW8gPSAoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkgPT4ge1xuICAgICAgICBjb25zdCBnaXptbyA9IG5ldyBUZ2RDYW52YXNHaXptbyh7XG4gICAgICAgICAgICBjYW52YXMsXG4gICAgICAgIH0pXG4gICAgICAgIHJlZkdpem1vLmN1cnJlbnQgPSBnaXptb1xuICAgICAgICBnaXptby5ldmVudFRpcENsaWNrLmFkZExpc3RlbmVyKCh7IHRvIH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSByZWZDb250ZXh0LmN1cnJlbnRcbiAgICAgICAgICAgIGlmICghY29udGV4dCkgcmV0dXJuXG5cbiAgICAgICAgICAgIGNvbnRleHQuYW5pbVNjaGVkdWxlKHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMC4yLFxuICAgICAgICAgICAgICAgIGVhc2luZ0Z1bmN0aW9uOiB0Z2RFYXNpbmdGdW5jdGlvbkluT3V0Q3ViaWMsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiB0Z2RBY3Rpb25DcmVhdGVDYW1lcmFJbnRlcnBvbGF0aW9uKGNvbnRleHQuY2FtZXJhLCB7XG4gICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uOiB0byxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSByZWZDb250ZXh0LmN1cnJlbnRcbiAgICAgICAgaWYgKGNvbnRleHQpIGdpem1vLmF0dGFjaENvbnRleHQoY29udGV4dClcbiAgICB9XG4gICAgY29uc3QgaGFuZGxlRnVsbHNjcmVlbiA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgZGl2ID0gcmVmU2NyZWVuLmN1cnJlbnRcbiAgICAgICAgaWYgKCFkaXYpIHJldHVyblxuXG4gICAgICAgIGRpdi5yZXF1ZXN0RnVsbHNjcmVlbigpXG4gICAgfVxuICAgIGNvbnN0IGhhbmRsZVNjcmVlbnNob3QgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSByZWZDb250ZXh0LmN1cnJlbnRcbiAgICAgICAgaWYgKCFjb250ZXh0KSByZXR1cm5cblxuICAgICAgICBjb250ZXh0LnRha2VTbmFwc2hvdCgpLnRoZW4oKGltZykgPT4ge1xuICAgICAgICAgICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpXG4gICAgICAgICAgICBhLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIlxuICAgICAgICAgICAgYS5ocmVmID0gaW1nLnNyY1xuICAgICAgICAgICAgYS5kb3dubG9hZCA9IGBzbmFwc2hvdC5wbmdgXG4gICAgICAgICAgICBhLmNsaWNrKClcbiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYSksIDMwMDAwKVxuICAgICAgICB9KVxuICAgIH1cbiAgICBjb25zdCBoYW5kbGVTZXRDYW1lcmFSZXN0UG9zaXRpb24gPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG9yYml0ZXIgPSByZWZPcmJpdGVyLmN1cnJlbnRcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHJlZkNvbnRleHQuY3VycmVudFxuICAgICAgICBpZiAoIWNvbnRleHQgfHwgIW9yYml0ZXIpIHJldHVyblxuXG4gICAgICAgIG9yYml0ZXIuY2FtZXJhSW5pdGlhbFN0YXRlID0gY29udGV4dC5jYW1lcmEuZ2V0Q3VycmVudFN0YXRlKClcbiAgICAgICAgb3JiaXRlci5yZXNldFpvb20oKVxuICAgIH1cbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBjYW52YXMgPSByZWZDYW52YXMuY3VycmVudFxuICAgICAgICBjb25zdCBzY2VuZSA9IHJlZkNvbnRleHQuY3VycmVudFxuICAgICAgICBpZiAoIWNhbnZhcyB8fCAhc2NlbmUpIHJldHVyblxuXG4gICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKCgpID0+IHNjZW5lLnBhaW50KCkpXG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUoY2FudmFzKVxuICAgICAgICBpZiAoIWNhbnZhcy5yZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgY2FudmFzLnJlcXVlc3RGdWxsc2NyZWVuID0gKFxuICAgICAgICAgICAgICAgIGNhbnZhcyBhcyB1bmtub3duIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+XG4gICAgICAgICAgICApW1wid2Via2l0UmVxdWVzdEZ1bGxzY3JlZW5cIl0gYXMgKFxuICAgICAgICAgICAgICAgIG9wdGlvbnM/OiBGdWxsc2NyZWVuT3B0aW9uc1xuICAgICAgICAgICAgKSA9PiBQcm9taXNlPHZvaWQ+XG4gICAgICAgIH1cbiAgICAgICAgc2V0RnVsbHNjcmVlbkF2YWlsYWJsZShCb29sZWFuKGNhbnZhcy5yZXF1ZXN0RnVsbHNjcmVlbikpXG4gICAgICAgIHJldHVybiAoKSA9PiBvYnNlcnZlci51bm9ic2VydmUoY2FudmFzKVxuICAgIH0sIFtyZWZDb250ZXh0LmN1cnJlbnQsIHJlZkNhbnZhcy5jdXJyZW50XSlcblxuICAgIGlmIChub0JvcmRlcikge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHJlZj17cmVmU2NyZWVufVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLnNjcmVlbn1cbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogbGFuZHNjYXBlID8gd2lkdGggOiBoZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogbGFuZHNjYXBlID8gaGVpZ2h0IDogd2lkdGgsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8Y2FudmFzIGNsYXNzTmFtZT17c3R5bGVzLmNhbnZhc30gcmVmPXttb3VudENhbnZhc30+PC9jYW52YXM+XG4gICAgICAgICAgICAgICAge2dpem1vICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGNhbnZhcyBjbGFzc05hbWU9e3N0eWxlcy5naXptb30gcmVmPXttb3VudEdpem1vfT48L2NhbnZhcz5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIHtlcnJvciAmJiA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmVycm9yfT57ZXJyb3J9PC9kaXY+fVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIClcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17VGhlbWUuY2xhc3NOYW1lcy5qb2luKGNsYXNzTmFtZSwgc3R5bGVzLlRnZCl9PlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17VGhlbWUuY2xhc3NOYW1lcy5qb2luKFxuICAgICAgICAgICAgICAgICAgICBzdHlsZXMuYWN0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgIWxvYWRpbmcgJiYgc3R5bGVzLmVuYWJsZWRcbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxJY29uT3JpZW50YXRpb24gb25DbGljaz17KCkgPT4gc2V0TGFuZHNjYXBlKCFsYW5kc2NhcGUpfSAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxJY29uU25hcHNob3Qgb25DbGljaz17aGFuZGxlU2NyZWVuc2hvdH0gLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICB7ZnVsbHNjcmVlbkF2YWlsYWJsZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8SWNvbkZ1bGxzY3JlZW4gb25DbGljaz17aGFuZGxlRnVsbHNjcmVlbn0gLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB7Y29udHJvbGxlciAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8SWNvblBpbiBvbkNsaWNrPXtoYW5kbGVTZXRDYW1lcmFSZXN0UG9zaXRpb259IC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMucmVsYXRpdmV9PlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgcmVmPXtyZWZTY3JlZW59XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLnNjcmVlbn1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBsYW5kc2NhcGUgPyB3aWR0aCA6IGhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogbGFuZHNjYXBlID8gaGVpZ2h0IDogd2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8Y2FudmFzXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5jYW52YXN9XG4gICAgICAgICAgICAgICAgICAgICAgICByZWY9e21vdW50Q2FudmFzfVxuICAgICAgICAgICAgICAgICAgICA+PC9jYW52YXM+XG4gICAgICAgICAgICAgICAgICAgIHtnaXptbyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8Y2FudmFzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMuZ2l6bW99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXttb3VudEdpem1vfVxuICAgICAgICAgICAgICAgICAgICAgICAgPjwvY2FudmFzPlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICB7ZXJyb3IgJiYgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5lcnJvcn0+e2Vycm9yfTwvZGl2Pn1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17VGhlbWUuY2xhc3NOYW1lcy5qb2luKFxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVzLm92ZXJsYXksXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nICYmIHN0eWxlcy5sb2FkaW5nXG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8U3Bpbm5lciAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICApXG59XG5cbmFzeW5jIGZ1bmN0aW9uIGxvYWRBc3NldHMoe1xuICAgIGdsYixcbiAgICBkYXRhLFxuICAgIHRleHQsXG4gICAgaW1hZ2UsXG59OiBQYXJ0aWFsPEFzc2V0c1RvTG9hZD4gPSB7fSk6IFByb21pc2U8QXNzZXRzPiB7XG4gICAgY29uc29sZS5sb2coXCLwn5qAIFtUZ2RdIGdsYiwgZGF0YSwgdGV4dCwgaW1hZ2UgPSBcIiwgZ2xiLCBkYXRhLCB0ZXh0LCBpbWFnZSkgLy8gQEZJWE1FOiBSZW1vdmUgdGhpcyBsaW5lIHdyaXR0ZW4gb24gMjAyNC0xMS0wOCBhdCAxNDozM1xuICAgIGNvbnN0IGFzc2V0czogQXNzZXRzID0ge1xuICAgICAgICBnbGI6IHt9LFxuICAgICAgICBkYXRhOiB7fSxcbiAgICAgICAgdGV4dDoge30sXG4gICAgICAgIGltYWdlOiB7fSxcbiAgICB9XG4gICAgY29uc3QgbG9hZGVyczogQXJyYXk8KCkgPT4gUHJvbWlzZTx2b2lkPj4gPSBbXVxuICAgIGlmIChpbWFnZSkge1xuICAgICAgICBPYmplY3Qua2V5cyhpbWFnZSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICBsb2FkZXJzLnB1c2goYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IGltYWdlW2tleV1cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxvYWRpbmcgaW1hZ2U6XCIsIHVybClcbiAgICAgICAgICAgICAgICBjb25zdCBhc3NldCA9IGF3YWl0IHRnZExvYWRJbWFnZSh1cmwpXG4gICAgICAgICAgICAgICAgaWYgKGFzc2V0KSBhc3NldHMuaW1hZ2Vba2V5XSA9IGFzc2V0XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cbiAgICBpZiAoZ2xiKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKGdsYikuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICBsb2FkZXJzLnB1c2goYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IGdsYltrZXldXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMb2FkaW5nIEdMQjpcIiwgdXJsKVxuICAgICAgICAgICAgICAgIGNvbnN0IGFzc2V0ID0gYXdhaXQgdGdkTG9hZEdsYih1cmwpXG4gICAgICAgICAgICAgICAgaWYgKGFzc2V0KSBhc3NldHMuZ2xiW2tleV0gPSBhc3NldFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG4gICAgaWYgKGRhdGEpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoZGF0YSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICBsb2FkZXJzLnB1c2goYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IGRhdGFba2V5XVxuICAgICAgICAgICAgICAgIGNvbnN0IGFzc2V0ID0gYXdhaXQgdGdkTG9hZEFycmF5QnVmZmVyKHVybClcbiAgICAgICAgICAgICAgICBpZiAoYXNzZXQpIGFzc2V0cy5kYXRhW2tleV0gPSBhc3NldFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG4gICAgaWYgKHRleHQpIHtcbiAgICAgICAgT2JqZWN0LmtleXModGV4dCkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICBsb2FkZXJzLnB1c2goYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IHRleHRba2V5XVxuICAgICAgICAgICAgICAgIGNvbnN0IGFzc2V0ID0gYXdhaXQgdGdkTG9hZFRleHQodXJsKVxuICAgICAgICAgICAgICAgIGlmIChhc3NldCkgYXNzZXRzLnRleHRba2V5XSA9IGFzc2V0XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cbiAgICBhd2FpdCBQcm9taXNlLmFsbChsb2FkZXJzLm1hcCgobG9hZGVyKSA9PiBsb2FkZXIoKSkpXG4gICAgcmV0dXJuIGFzc2V0c1xufVxuIiwiaW1wb3J0IHtcbiAgICB0Z2RMb2FkR2xiLFxuICAgIFRnZENhbWVyYVBlcnNwZWN0aXZlLFxuICAgIFRnZENvbnRleHQsXG4gICAgVGdkQ29udHJvbGxlckNhbWVyYU9yYml0LFxuICAgIFRnZEZpbHRlckh1ZVJvdGF0aW9uLFxuICAgIFRnZFBhaW50ZXJDbGVhcixcbiAgICBUZ2RQYWludGVyRmlsdGVyLFxuICAgIFRnZFBhaW50ZXJMb2dpYyxcbiAgICBUZ2RQYWludGVyTWVzaEdsdGYsXG4gICAgVGdkUGFpbnRlclN0YXRlLFxuICAgIHdlYmdsUHJlc2V0RGVwdGgsXG4gICAgVGdkUGFpbnRlckZyYW1lYnVmZmVyLFxuICAgIHRnZENhbGNEZWdUb1JhZCxcbiAgICBUZ2RQYWludGVyQXhlcyxcbiAgICBUZ2RNYXQzLFxuICAgIFRnZFBhaW50ZXJNZXNoLFxuICAgIFRnZEdlb21ldHJ5Qm94LFxuICAgIFRnZE1hdGVyaWFsTm9ybWFscyxcbiAgICBUZ2RQYWludGVyTm9kZSxcbiAgICBUZ2RNYXRlcmlhbEdob3N0LFxuICAgIFRnZE1hdGVyaWFsRGlmZnVzZSxcbiAgICBUZ2RQYWludGVyU2VnbWVudHMsXG4gICAgVGdkUGFpbnRlclNlZ21lbnRzRGF0YSxcbiAgICBUZ2RWZWMzLFxuICAgIHRnZENhbGNSYW5kb20sXG4gICAgd2ViZ2xQcmVzZXRDdWxsLFxufSBmcm9tIFwiQHRvbG9rb2Jhbi90Z2RcIlxuXG5pbXBvcnQgVmlldyBmcm9tIFwiQC9jb21wb25lbnRzL2RlbW8vVGdkXCJcblxuaW1wb3J0IFN1emFuZVVSTCBmcm9tIFwiQC9hc3NldHMvbWVzaC9zdXphbm5lLmdsYlwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIERlbW9Db250YWluZXIoKSB7XG4gICAgcmV0dXJuIDxWaWV3IG9uUmVhZHk9e2luaXR9IGdpem1vIC8+XG59XG5cbmZ1bmN0aW9uIGluaXQoY29udGV4dDogVGdkQ29udGV4dCkge1xuICAgIGNvbnN0IGNhbWVyYSA9IG5ldyBUZ2RDYW1lcmFQZXJzcGVjdGl2ZSh7XG4gICAgICAgIHRyYW5zZm86IHsgZGlzdGFuY2U6IDUgfSxcbiAgICAgICAgZmFyOiAxMDAsXG4gICAgICAgIG5lYXI6IDAuMSxcbiAgICAgICAgZm92eTogTWF0aC5QSSAvIDIsXG4gICAgICAgIHpvb206IDEsXG4gICAgfSlcbiAgICBjb250ZXh0LmNhbWVyYSA9IGNhbWVyYVxuICAgIGNhbWVyYS50cmFuc2ZvLm9yaWVudGF0aW9uLmZhY2UoXCIrWCtZK1pcIilcbiAgICBjYW1lcmEudHJhbnNmby5zZXRQb3NpdGlvbigwLCAwLCAwKVxuICAgIGNhbWVyYS5zcGFjZUhlaWdodEF0VGFyZ2V0ID0gNlxuICAgIG5ldyBUZ2RDb250cm9sbGVyQ2FtZXJhT3JiaXQoY29udGV4dCwge1xuICAgICAgICBpbmVydGlhT3JiaXQ6IDkwMCxcbiAgICAgICAgZ2VvOiB7XG4gICAgICAgICAgICBsYXQ6IDAsXG4gICAgICAgICAgICBsbmc6IDAsXG4gICAgICAgICAgICBtaW5MYXQ6IHRnZENhbGNEZWdUb1JhZCgtNjApLFxuICAgICAgICAgICAgbWF4TGF0OiB0Z2RDYWxjRGVnVG9SYWQoKzYwKSxcbiAgICAgICAgfSxcbiAgICB9KVxuICAgIGNvbnRleHQucGFpbnQoKVxuICAgIGNvbnN0IGFjdGlvbiA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgYXNzZXQgPSBhd2FpdCB0Z2RMb2FkR2xiKFN1emFuZVVSTClcbiAgICAgICAgaWYgKCFhc3NldCkgcmV0dXJuXG5cbiAgICAgICAgY29uc29sZS5sb2coXCJTdXphbm5lIGhhcyBiZWVuIGxvYWRlZCFcIilcbiAgICAgICAgY29uc3QgYXhlcyA9IG5ldyBUZ2RQYWludGVyQXhlcyhjb250ZXh0LCB7IHNjYWxlOiAxMCB9KVxuICAgICAgICBjb25zdCBzZWdtZW50cyA9IG5ldyBUZ2RQYWludGVyU2VnbWVudHNEYXRhKClcbiAgICAgICAgZm9yIChsZXQgbG9vcCA9IDA7IGxvb3AgPCAxMjsgbG9vcCsrKSB7XG4gICAgICAgICAgICBjb25zdCB0aXAgPSBuZXcgVGdkVmVjMyhcbiAgICAgICAgICAgICAgICBNYXRoLnJhbmRvbSgpIC0gMC41LFxuICAgICAgICAgICAgICAgIE1hdGgucmFuZG9tKCkgLSAwLjUsXG4gICAgICAgICAgICAgICAgTWF0aC5yYW5kb20oKSAtIDAuNVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIC5ub3JtYWxpemUoKVxuICAgICAgICAgICAgICAgIC5zY2FsZSh0Z2RDYWxjUmFuZG9tKDEsIDMpKVxuICAgICAgICAgICAgc2VnbWVudHMuYWRkKFxuICAgICAgICAgICAgICAgIFswLCAwLCAwLCAwLjVdLFxuICAgICAgICAgICAgICAgIFt0aXAueCwgdGlwLnksIHRpcC56LCB0Z2RDYWxjUmFuZG9tKDAsIDAuNSldXG4gICAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhdGUgPSBuZXcgVGdkUGFpbnRlclN0YXRlKGNvbnRleHQsIHtcbiAgICAgICAgICAgIGRlcHRoOiB3ZWJnbFByZXNldERlcHRoLmxlc3MsXG4gICAgICAgICAgICBjdWxsOiB3ZWJnbFByZXNldEN1bGwuYmFjayxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgbmV3IFRnZFBhaW50ZXJDbGVhcihjb250ZXh0LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBbMC4yLCAwLjEsIDAsIDFdLFxuICAgICAgICAgICAgICAgICAgICBkZXB0aDogMSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBheGVzLFxuICAgICAgICAgICAgICAgIG5ldyBUZ2RQYWludGVyU2VnbWVudHMoY29udGV4dCwge1xuICAgICAgICAgICAgICAgICAgICBtYWtlRGF0YXNldDogc2VnbWVudHMubWFrZURhdGFzZXQsXG4gICAgICAgICAgICAgICAgICAgIHJvdW5kbmVzczogNCxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0pXG4gICAgICAgIGNvbnRleHQuYWRkKHN0YXRlKVxuICAgICAgICBjb250ZXh0LnBhaW50KClcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZXZ0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN0ZXAgPSB0Z2RDYWxjRGVnVG9SYWQoMTUpXG4gICAgICAgICAgICBsZXQgYW5nWCA9IDBcbiAgICAgICAgICAgIGxldCBhbmdZID0gMFxuICAgICAgICAgICAgc3dpdGNoIChldnQua2V5KSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIjBcIjpcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jYW1lcmEudHJhbnNmby5vcmllbnRhdGlvbi5mYWNlKFwiK1grWStaXCIpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY2FtZXJhLnpvb20gPSAxXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY2FtZXJhLnRyYW5zZm8uc2V0UG9zaXRpb24oMCwgMCwgMCkuc2V0RGlzdGFuY2UoMTUpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcIi5cIjpcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jYW1lcmEuem9vbSA9IDFcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIFwiNlwiOlxuICAgICAgICAgICAgICAgICAgICBhbmdZID0gc3RlcFxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgXCI0XCI6XG4gICAgICAgICAgICAgICAgICAgIGFuZ1kgPSAtc3RlcFxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgXCI4XCI6XG4gICAgICAgICAgICAgICAgICAgIGFuZ1ggPSAtc3RlcFxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgXCIyXCI6XG4gICAgICAgICAgICAgICAgICAgIGFuZ1ggPSBzdGVwXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcIiBcIjpcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jYW1lcmEudHJhbnNmby5kZWJ1ZyhcIlNQQUNFXCIpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQucGFpbnQoKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRleHQuY2FtZXJhLnRyYW5zZm8ub3JiaXRBcm91bmRYKGFuZ1gpXG4gICAgICAgICAgICBjb250ZXh0LmNhbWVyYS50cmFuc2ZvLm9yYml0QXJvdW5kWShhbmdZKVxuICAgICAgICAgICAgY29udGV4dC5jYW1lcmEuZGVidWcoXCJDYW1lcmFcIilcbiAgICAgICAgICAgIGNvbnRleHQucGFpbnQoKVxuICAgICAgICB9KVxuICAgIH1cbiAgICB2b2lkIGFjdGlvbigpXG59XG4iLCIiLCIvKipcbiAqIEBpbXBvcnQge01EWENvbXBvbmVudHN9IGZyb20gJ21keC90eXBlcy5qcydcbiAqIEBpbXBvcnQge0NvbXBvbmVudCwgUmVhY3RFbGVtZW50LCBSZWFjdE5vZGV9IGZyb20gJ3JlYWN0J1xuICovXG5cbi8qKlxuICogQGNhbGxiYWNrIE1lcmdlQ29tcG9uZW50c1xuICogICBDdXN0b20gbWVyZ2UgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE1EWENvbXBvbmVudHM+fSBjdXJyZW50Q29tcG9uZW50c1xuICogICBDdXJyZW50IGNvbXBvbmVudHMgZnJvbSB0aGUgY29udGV4dC5cbiAqIEByZXR1cm5zIHtNRFhDb21wb25lbnRzfVxuICogICBBZGRpdGlvbmFsIGNvbXBvbmVudHMuXG4gKlxuICogQHR5cGVkZWYgUHJvcHNcbiAqICAgQ29uZmlndXJhdGlvbiBmb3IgYE1EWFByb3ZpZGVyYC5cbiAqIEBwcm9wZXJ0eSB7UmVhY3ROb2RlIHwgbnVsbCB8IHVuZGVmaW5lZH0gW2NoaWxkcmVuXVxuICogICBDaGlsZHJlbiAob3B0aW9uYWwpLlxuICogQHByb3BlcnR5IHtSZWFkb25seTxNRFhDb21wb25lbnRzPiB8IE1lcmdlQ29tcG9uZW50cyB8IG51bGwgfCB1bmRlZmluZWR9IFtjb21wb25lbnRzXVxuICogICBBZGRpdGlvbmFsIGNvbXBvbmVudHMgdG8gdXNlIG9yIGEgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIHRoZW0gKG9wdGlvbmFsKS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbiB8IG51bGwgfCB1bmRlZmluZWR9IFtkaXNhYmxlUGFyZW50Q29udGV4dD1mYWxzZV1cbiAqICAgVHVybiBvZmYgb3V0ZXIgY29tcG9uZW50IGNvbnRleHQgKGRlZmF1bHQ6IGBmYWxzZWApLlxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuLyoqIEB0eXBlIHtSZWFkb25seTxNRFhDb21wb25lbnRzPn0gKi9cbmNvbnN0IGVtcHR5Q29tcG9uZW50cyA9IHt9XG5cbmNvbnN0IE1EWENvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KGVtcHR5Q29tcG9uZW50cylcblxuLyoqXG4gKiBHZXQgY3VycmVudCBjb21wb25lbnRzIGZyb20gdGhlIE1EWCBDb250ZXh0LlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHk8TURYQ29tcG9uZW50cz4gfCBNZXJnZUNvbXBvbmVudHMgfCBudWxsIHwgdW5kZWZpbmVkfSBbY29tcG9uZW50c11cbiAqICAgQWRkaXRpb25hbCBjb21wb25lbnRzIHRvIHVzZSBvciBhIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyB0aGVtIChvcHRpb25hbCkuXG4gKiBAcmV0dXJucyB7TURYQ29tcG9uZW50c31cbiAqICAgQ3VycmVudCBjb21wb25lbnRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlTURYQ29tcG9uZW50cyhjb21wb25lbnRzKSB7XG4gIGNvbnN0IGNvbnRleHRDb21wb25lbnRzID0gUmVhY3QudXNlQ29udGV4dChNRFhDb250ZXh0KVxuXG4gIC8vIE1lbW9pemUgdG8gYXZvaWQgdW5uZWNlc3NhcnkgdG9wLWxldmVsIGNvbnRleHQgY2hhbmdlc1xuICByZXR1cm4gUmVhY3QudXNlTWVtbyhcbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBDdXN0b20gbWVyZ2UgdmlhIGEgZnVuY3Rpb24gcHJvcFxuICAgICAgaWYgKHR5cGVvZiBjb21wb25lbnRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBjb21wb25lbnRzKGNvbnRleHRDb21wb25lbnRzKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gey4uLmNvbnRleHRDb21wb25lbnRzLCAuLi5jb21wb25lbnRzfVxuICAgIH0sXG4gICAgW2NvbnRleHRDb21wb25lbnRzLCBjb21wb25lbnRzXVxuICApXG59XG5cbi8qKlxuICogUHJvdmlkZXIgZm9yIE1EWCBjb250ZXh0LlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHk8UHJvcHM+fSBwcm9wZXJ0aWVzXG4gKiAgIFByb3BlcnRpZXMuXG4gKiBAcmV0dXJucyB7UmVhY3RFbGVtZW50fVxuICogICBFbGVtZW50LlxuICogQHNhdGlzZmllcyB7Q29tcG9uZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gTURYUHJvdmlkZXIocHJvcGVydGllcykge1xuICAvKiogQHR5cGUge1JlYWRvbmx5PE1EWENvbXBvbmVudHM+fSAqL1xuICBsZXQgYWxsQ29tcG9uZW50c1xuXG4gIGlmIChwcm9wZXJ0aWVzLmRpc2FibGVQYXJlbnRDb250ZXh0KSB7XG4gICAgYWxsQ29tcG9uZW50cyA9XG4gICAgICB0eXBlb2YgcHJvcGVydGllcy5jb21wb25lbnRzID09PSAnZnVuY3Rpb24nXG4gICAgICAgID8gcHJvcGVydGllcy5jb21wb25lbnRzKGVtcHR5Q29tcG9uZW50cylcbiAgICAgICAgOiBwcm9wZXJ0aWVzLmNvbXBvbmVudHMgfHwgZW1wdHlDb21wb25lbnRzXG4gIH0gZWxzZSB7XG4gICAgYWxsQ29tcG9uZW50cyA9IHVzZU1EWENvbXBvbmVudHMocHJvcGVydGllcy5jb21wb25lbnRzKVxuICB9XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgTURYQ29udGV4dC5Qcm92aWRlcixcbiAgICB7dmFsdWU6IGFsbENvbXBvbmVudHN9LFxuICAgIHByb3BlcnRpZXMuY2hpbGRyZW5cbiAgKVxufVxuIl0sIm5hbWVzIjpbImciLCJjb25zb2xlIiwiZSIsIkVycm9yIiwiSlNPTiIsIlJlc2l6ZU9ic2VydmVyIiwiZG9jdW1lbnQiLCJ3aW5kb3ciLCJPYmplY3QiLCJhIiwiUHJvbWlzZSIsImkiLCJNYXRoIl0sIm1hcHBpbmdzIjoiK0xBQ0EsTUFBMlEscURBQTRELHFEQUEyRCxvREFBc0wsa0RDZ0R6aUIsU0FBUyxFQUFJLENBQ3hCLFdBQVMsQ0FDVCxTQUFPLENBQ1AsU0FBTyxDQUNQQSxNQUFBQSxFQUFRLEVBQUssQ0FDYixRQUFRLE9BQU8sQ0FDZixTQUFTLE9BQU8sQ0FDaEIsV0FBVyxFQUFLLENBQ2hCLFFBQU0sQ0FDTixZQUFVLENBQ1YsVUFBUSxDQUNELEVBQ1AsR0FBTSxDQUFDLEVBQU8sRUFBUyxDQUFHLFVBQWMsQ0FBZ0IsTUFDbEQsQ0FBQyxFQUFXLEVBQWEsQ0FBRyxVQUFjLENBQUMsSUFDM0MsQ0FBQyxFQUFxQixFQUF1QixDQUFHLFVBQWMsQ0FBQyxJQUMvRCxFQUFhLFFBQVksQ0FBb0IsTUFDN0MsRUFBWSxRQUFZLENBQTJCLE1BQ25ELEVBQVcsUUFBWSxDQUF3QixNQUMvQyxFQUFZLFFBQVksQ0FBd0IsTUFDaEQsRUFBYSxRQUFZLENBQWtDLE1BQzNELENBQUMsRUFBUyxFQUFXLENBQUcsVUFBYyxDQUFDLEdBRXpDLEdBQU0sUUFBUSxDQUFDLE9BQVMsRUFBTyxRQUFRLENBQUMsT0FDMUIsQ0FBRyxFQUFNLFNBQVMsQ0FDNUIsRUFBTSxNQUFNLENBQUcsR0FDWixFQUFPLFNBQVMsQ0FBQyxFQUFPLE1BQU0sQ0FBRyxFQUFHLEVBRS9DLElBQU0sRUFBYyxBQUFDLElBQ2pCLEdBQUksQ0FBQyxHQUVELEVBQVUsT0FBTyxDQUZSLE1BSWIsR0FBVSxPQUFPLENBQUcsRUFDcEIsSUFBTSxFQUFVLElBQUksWUFBVSxDQUFDLEVBQVEsR0FFdkNDLFFBQVEsR0FBRyxDQUFDLHFCQURNLEVBQVEsRUFBRSxDQUFDLFlB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