"use strict";(self.webpackChunk_tolokoban_tgd=self.webpackChunk_tolokoban_tgd||[]).push([["5140"],{7422:function(e,t,n){n.d(t,{A:()=>g});var r=n(4848),a=n(6540),s=n(8471),o=n(1818),i=n(3289);let c="src-components-demo-Tgd-tgd-module_screen_NwIHvu",l="src-components-demo-Tgd-tgd-module_canvas_OvO7uX",d="src-components-demo-Tgd-tgd-module_gizmo_r0e5Ca",u="src-components-demo-Tgd-tgd-module_error_qgsDNU";function g({className:e,options:t,onReady:n,gizmo:g=!1,width:m="640px",height:p="480px",noBorder:f=!1,assets:b,controller:x,children:y}){let[j,w]=a.useState(null),[v,k]=a.useState(!0),[T,O]=a.useState(!1),P=a.useRef(null),C=a.useRef(null),_=a.useRef(null),S=a.useRef(null),N=a.useRef(null),[E,D]=a.useState(!0);m.endsWith("px")&&p.endsWith("px")&&(m.substring(m.length-2),p.substring(p.length-2));let R=e=>{if(!e||C.current)return;C.current=e;let r=new s.TgdContext(e,t);console.log("Depht buffer bits:",r.gl.getParameter(r.gl.DEPTH_BITS)),P.current=r,D(!0),h(b).then(e=>{try{if(x){let e=new s.TgdControllerCameraOrbit(r,{debug:!0,inertiaOrbit:1e3,inertiaZoom:500,inertiaPanning:500,...x});N.current=e,r.inputs.pointer.eventTapMultiple.addListener(t=>{console.log("\uD83D\uDE80 [tgd] evt.tapsCount =",t.tapsCount),t.preventTap(),2===t.tapsCount&&e.reset((x.inertiaOrbit??500)*.001)})}n(r,e),r.paint()}catch(e){w(e instanceof Error?e.message:JSON.stringify(e))}D(!1)}).catch(e=>{console.error("Unable to initialize the scene!",e),D(!1)});let a=_.current;a&&a.attachContext(r)},B=e=>{let t=new s.TgdCanvasGizmo({canvas:e});_.current=t,t.eventTipClick.addListener(({to:e})=>{let t=P.current;t&&t.animSchedule({duration:.2,easingFunction:s.tgdEasingFunctionInOutCubic,action:(0,s.tgdActionCreateCameraInterpolation)(t.camera,{orientation:e})})});let n=P.current;n&&t.attachContext(n)};return(a.useEffect(()=>{let e=C.current,t=P.current;if(!e||!t)return;let n=new ResizeObserver(()=>t.paint());return n.observe(e),e.requestFullscreen||(e.requestFullscreen=e.webkitRequestFullscreen),O(!!e.requestFullscreen),()=>n.unobserve(e)},[P.current,C.current]),f)?(0,r.jsxs)("div",{ref:S,className:c,style:{width:v?m:p,height:v?p:m},children:[(0,r.jsx)("canvas",{className:l,ref:R}),g&&(0,r.jsx)("canvas",{className:d,ref:B}),j&&(0,r.jsx)("div",{className:u,children:j})]}):(0,r.jsxs)("div",{className:o.Sxu.classNames.join(e,"src-components-demo-Tgd-tgd-module_Tgd_MESVmx"),children:[(0,r.jsxs)("div",{className:o.Sxu.classNames.join("src-components-demo-Tgd-tgd-module_actions_OBhA17",!E&&"src-components-demo-Tgd-tgd-module_enabled_dxtnW6"),children:[(0,r.jsx)("div",{children:(0,r.jsx)(o.I64,{onClick:()=>k(!v)})}),(0,r.jsx)("div",{children:(0,r.jsx)(o.kRc,{onClick:()=>{let e=P.current;e&&e.takeSnapshot().then(e=>{let t=document.createElement("a");document.body.appendChild(t),t.style.display="none",t.href=e.src,t.download="snapshot.png",t.click(),window.setTimeout(()=>document.body.removeChild(t),3e4)})}})}),T&&(0,r.jsx)("div",{children:(0,r.jsx)(o.L9n,{onClick:()=>{let e=S.current;e&&e.requestFullscreen()}})}),x&&(0,r.jsx)("div",{children:(0,r.jsx)(o.zgT,{onClick:()=>{let e=N.current,t=P.current;t&&e&&(e.cameraInitialState=t.camera.getCurrentState(),e.resetZoom())}})})]}),(0,r.jsxs)("div",{className:"src-components-demo-Tgd-tgd-module_relative_IctJ7L",children:[(0,r.jsxs)("div",{ref:S,className:c,style:{width:v?m:p,height:v?p:m},children:[(0,r.jsx)("canvas",{className:l,ref:R}),g&&(0,r.jsx)("canvas",{className:d,ref:B}),j&&(0,r.jsx)("div",{className:u,children:j})]}),(0,r.jsx)("div",{className:o.Sxu.classNames.join("src-components-demo-Tgd-tgd-module_overlay_w7EXka",E&&"src-components-demo-Tgd-tgd-module_loading_c4TMDj"),children:(0,r.jsx)(i.A,{})}),y]})]})}async function h({glb:e,data:t,text:n,image:r}={}){console.log("\uD83D\uDE80 [Tgd] glb, data, text, image = ",e,t,n,r);let a={glb:{},data:{},text:{},image:{}},o=[];return r&&Object.keys(r).forEach(e=>{o.push(async()=>{let t=r[e];console.log("Loading image:",t);let n=await (0,s.tgdLoadImage)(t);n&&(a.image[e]=n)})}),e&&Object.keys(e).forEach(t=>{o.push(async()=>{let n=e[t];console.log("Loading GLB:",n);let r=await (0,s.tgdLoadGlb)(n);r&&(a.glb[t]=r)})}),t&&Object.keys(t).forEach(e=>{o.push(async()=>{let n=t[e],r=await (0,s.tgdLoadArrayBuffer)(n);r&&(a.data[e]=r)})}),n&&Object.keys(n).forEach(e=>{o.push(async()=>{let t=n[e],r=await (0,s.tgdLoadText)(t);r&&(a.text[e]=r)})}),await Promise.all(o.map(e=>e())),a}},2784:function(e,t,n){n.r(t),n.d(t,{default:()=>g});var r=n(4848),a=n(8453);n(6540);var s=n(8471),o=n(7422);let i=n.p+"img/background.94860ce4a0297491.webp",c=n.p+"bin/background.49be5e8ef07a359b.glb";function l(){return(0,r.jsx)(o.A,{onReady:(e,t)=>{let n,r,a,o;e.camera=t.glb.background.createCameraByName("Camera"),e.camera.far=100,n=new s.TgdPainterState(e,{cull:s.webglPresetCull.back,children:[(0,s.tgdMakeMeshGlbPainter)({context:e,data:t.glb.background,node:"Building",overrideMaterial:()=>()=>new s.TgdMaterialDepth}).painter]}),r=new s.TgdPainterBackgroundWithDepth(e,{background:new s.TgdTexture2D(e).loadBitmap(t.image.background),children:[n]}),(a=new s.TgdPainterMesh(e)).transfo.setPosition(11.02,0,-8.75).setScale(4),(o=new s.TgdPainterMesh(e)).transfo.setPosition(.02,0,-4).setScale(4),e.add(r,new s.TgdPainterState(e,{depth:s.webglPresetDepth.less,children:[a,o]}),new s.TgdPainterLogic(e=>{let t=(0,s.tgdCalcModulo)(.1*e,0,2),n=0;n=t<1?25*t:25*(2-t);let{x:r,z:i}=a.transfo.position;a.transfo.setPosition(r,n,i),a.transfo.setEulerRotation(e,47*e,-(120*e));let c=0;c=t<1?30*t:30*(2-t);let{x:l,z:d}=o.transfo.position;o.transfo.setPosition(l,c,d),o.transfo.setEulerRotation(e,57*e,-(103*e))})),e.play()},options:{antialias:!1},assets:{glb:{background:c},image:{background:i}}})}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function u(e){var t=d({a:"a",h1:"h1",h2:"h2",p:"p"},(0,a.R)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{children:(0,r.jsx)(t.a,{href:"docs/classes/TgdPainterBackgroundWithDepth.html",children:"TgdPainterBackgroundWithDepth"})}),"\n",(0,r.jsx)(t.p,{children:"In case you have a fixed camera and a complex environment you can optimize the\npainting by pre-rendering it in Blender and generating the depth buffer with simple/fast material."}),"\n",(0,r.jsx)(t.p,{children:"TgdPainterBackgroundWithDepth will paint the high definition image and fill the\ndepth buffer with the meshes you give it as children. If the canvas size doesn't change, then the\nmeshes won't even been rendered. That's why you can use high poly meshes if you need accuracy."}),"\n",(0,r.jsx)(t.p,{children:"In the following example, we used a very low-poly mesh. You can see this when the left cube is on the top.\nThe hemi-sphere at the top of the tower is bulky, and the cube acts strange in this area."}),"\n",(0,r.jsx)(t.p,{children:"But if you know where your moving objects will be, then you can have high definition in these places\nand low poly everywhere else."}),"\n",(0,r.jsx)(t.h2,{children:"Example"}),"\n",(0,r.jsx)(l,{})]})}function g(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=d({},(0,a.R)(),n.components).wrapper;return s?(0,r.jsx)(s,(e=d({},n),t=t={children:(0,r.jsx)(u,d({},n))},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e)):u(n)}},8453:function(e,t,n){n.d(t,{R:()=>s});var r=n(6540);let a=r.createContext({});function s(e){let t=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NyLzUxNDAuN2U1ZWNiZGVhY2IwNWRmNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL0B0b2xva29iYW4vdGdkLy4vc3JjL2NvbXBvbmVudHMvZGVtby9UZ2QvdGdkLm1vZHVsZS5jc3M/Yjc4NyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvZG9jL3NyYy9jb21wb25lbnRzL2RlbW8vVGdkL3RnZC50c3giLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2RvYy9zcmMvYXBwL2FydGljbGVzL3BhaW50ZXIvYmFja2dyb3VuZC13aXRoLWRlcHRoL19iYWNrZ3JvdW5kLXdpdGgtZGVwdGgvYmFja2dyb3VuZC13aXRoLWRlcHRoLmRlbW8udHN4IiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9kb2Mvc3JjL2FwcC9hcnRpY2xlcy9wYWludGVyL2JhY2tncm91bmQtd2l0aC1kZXB0aC9wYWdlLm1keCIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvZG9jL25vZGVfbW9kdWxlcy9AbWR4LWpzL3JlYWN0L2xpYi9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgY3NzLWV4dHJhY3QtcnNwYWNrLXBsdWdpblxuZXhwb3J0IGRlZmF1bHQge1wiVGdkXCI6XCJzcmMtY29tcG9uZW50cy1kZW1vLVRnZC10Z2QtbW9kdWxlX1RnZF9NRVNWbXhcIixcInJlbGF0aXZlXCI6XCJzcmMtY29tcG9uZW50cy1kZW1vLVRnZC10Z2QtbW9kdWxlX3JlbGF0aXZlX0ljdEo3TFwiLFwib3ZlcmxheVwiOlwic3JjLWNvbXBvbmVudHMtZGVtby1UZ2QtdGdkLW1vZHVsZV9vdmVybGF5X3c3RVhrYVwiLFwibG9hZGluZ1wiOlwic3JjLWNvbXBvbmVudHMtZGVtby1UZ2QtdGdkLW1vZHVsZV9sb2FkaW5nX2M0VE1EalwiLFwic2NyZWVuXCI6XCJzcmMtY29tcG9uZW50cy1kZW1vLVRnZC10Z2QtbW9kdWxlX3NjcmVlbl9Od0lIdnVcIixcImNhbnZhc1wiOlwic3JjLWNvbXBvbmVudHMtZGVtby1UZ2QtdGdkLW1vZHVsZV9jYW52YXNfT3ZPN3VYXCIsXCJnaXptb1wiOlwic3JjLWNvbXBvbmVudHMtZGVtby1UZ2QtdGdkLW1vZHVsZV9naXptb19yMGU1Q2FcIixcImFjdGlvbnNcIjpcInNyYy1jb21wb25lbnRzLWRlbW8tVGdkLXRnZC1tb2R1bGVfYWN0aW9uc19PQmhBMTdcIixcImVuYWJsZWRcIjpcInNyYy1jb21wb25lbnRzLWRlbW8tVGdkLXRnZC1tb2R1bGVfZW5hYmxlZF9keHRuVzZcIixcImVycm9yXCI6XCJzcmMtY29tcG9uZW50cy1kZW1vLVRnZC10Z2QtbW9kdWxlX2Vycm9yX3Fnc0ROVVwifTsiLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7XG4gICAgdGdkQWN0aW9uQ3JlYXRlQ2FtZXJhSW50ZXJwb2xhdGlvbixcbiAgICBUZ2RDYW52YXNHaXptbyxcbiAgICBUZ2RDb250ZXh0LFxuICAgIHRnZEVhc2luZ0Z1bmN0aW9uSW5PdXRDdWJpYyxcbiAgICB0Z2RMb2FkQXJyYXlCdWZmZXIsXG4gICAgdGdkTG9hZEdsYixcbiAgICB0Z2RMb2FkSW1hZ2UsXG4gICAgdGdkTG9hZFRleHQsXG4gICAgVGdkRGF0YUdsYixcbiAgICBUZ2RDb250cm9sbGVyQ2FtZXJhT3JiaXRPcHRpb25zLFxuICAgIFRnZENvbnRyb2xsZXJDYW1lcmFPcmJpdCxcbn0gZnJvbSBcIkB0b2xva29iYW4vdGdkXCJcbmltcG9ydCB7XG4gICAgSWNvbkZ1bGxzY3JlZW4sXG4gICAgSWNvbk9yaWVudGF0aW9uLFxuICAgIEljb25QaW4sXG4gICAgSWNvblNuYXBzaG90LFxuICAgIFRoZW1lLFxufSBmcm9tIFwiQHRvbG9rb2Jhbi91aVwiXG5cbmltcG9ydCBTcGlubmVyIGZyb20gXCIuLi8uLi9TcGlubmVyXCJcblxuaW1wb3J0IHN0eWxlcyBmcm9tIFwiLi90Z2QubW9kdWxlLmNzc1wiXG5cbmV4cG9ydCBpbnRlcmZhY2UgQXNzZXRzIHtcbiAgICBpbWFnZTogUmVjb3JkPHN0cmluZywgSFRNTEltYWdlRWxlbWVudD5cbiAgICBnbGI6IFJlY29yZDxzdHJpbmcsIFRnZERhdGFHbGI+XG4gICAgZGF0YTogUmVjb3JkPHN0cmluZywgQXJyYXlCdWZmZXI+XG4gICAgdGV4dDogUmVjb3JkPHN0cmluZywgc3RyaW5nPlxufVxuXG50eXBlIEFzc2V0c1RvTG9hZCA9IHtcbiAgICBba2V5IGluIGtleW9mIEFzc2V0c106IFJlY29yZDxzdHJpbmcsIHN0cmluZz5cbn1cblxuaW50ZXJmYWNlIFRnZFByb3BzIHtcbiAgICBjbGFzc05hbWU/OiBzdHJpbmdcbiAgICBvcHRpb25zPzogV2ViR0xDb250ZXh0QXR0cmlidXRlc1xuICAgIG9uUmVhZHkoc2NlbmU6IFRnZENvbnRleHQsIGFzc2V0czogQXNzZXRzKTogdm9pZFxuICAgIHdpZHRoPzogc3RyaW5nXG4gICAgaGVpZ2h0Pzogc3RyaW5nXG4gICAgbm9Cb3JkZXI/OiBib29sZWFuXG4gICAgZ2l6bW8/OiBib29sZWFuXG4gICAgYXNzZXRzPzogUGFydGlhbDxBc3NldHNUb0xvYWQ+XG4gICAgY29udHJvbGxlcj86IFBhcnRpYWw8VGdkQ29udHJvbGxlckNhbWVyYU9yYml0T3B0aW9ucz5cbiAgICBjaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZVxufVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVGdkKHtcbiAgICBjbGFzc05hbWUsXG4gICAgb3B0aW9ucyxcbiAgICBvblJlYWR5LFxuICAgIGdpem1vID0gZmFsc2UsXG4gICAgd2lkdGggPSBcIjY0MHB4XCIsXG4gICAgaGVpZ2h0ID0gXCI0ODBweFwiLFxuICAgIG5vQm9yZGVyID0gZmFsc2UsXG4gICAgYXNzZXRzLFxuICAgIGNvbnRyb2xsZXIsXG4gICAgY2hpbGRyZW4sXG59OiBUZ2RQcm9wcykge1xuICAgIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gUmVhY3QudXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbClcbiAgICBjb25zdCBbbGFuZHNjYXBlLCBzZXRMYW5kc2NhcGVdID0gUmVhY3QudXNlU3RhdGUodHJ1ZSlcbiAgICBjb25zdCBbZnVsbHNjcmVlbkF2YWlsYWJsZSwgc2V0RnVsbHNjcmVlbkF2YWlsYWJsZV0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSlcbiAgICBjb25zdCByZWZDb250ZXh0ID0gUmVhY3QudXNlUmVmPFRnZENvbnRleHQgfCBudWxsPihudWxsKVxuICAgIGNvbnN0IHJlZkNhbnZhcyA9IFJlYWN0LnVzZVJlZjxIVE1MQ2FudmFzRWxlbWVudCB8IG51bGw+KG51bGwpXG4gICAgY29uc3QgcmVmR2l6bW8gPSBSZWFjdC51c2VSZWY8VGdkQ2FudmFzR2l6bW8gfCBudWxsPihudWxsKVxuICAgIGNvbnN0IHJlZlNjcmVlbiA9IFJlYWN0LnVzZVJlZjxIVE1MRGl2RWxlbWVudCB8IG51bGw+KG51bGwpXG4gICAgY29uc3QgcmVmT3JiaXRlciA9IFJlYWN0LnVzZVJlZjxUZ2RDb250cm9sbGVyQ2FtZXJhT3JiaXQgfCBudWxsPihudWxsKVxuICAgIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IFJlYWN0LnVzZVN0YXRlKHRydWUpXG4gICAgbGV0IGFzcGVjdFJhdGlvID0gXCJhdXRvXCJcbiAgICBpZiAod2lkdGguZW5kc1dpdGgoXCJweFwiKSAmJiBoZWlnaHQuZW5kc1dpdGgoXCJweFwiKSkge1xuICAgICAgICBhc3BlY3RSYXRpbyA9IGAke3dpZHRoLnN1YnN0cmluZyhcbiAgICAgICAgICAgIHdpZHRoLmxlbmd0aCAtIDJcbiAgICAgICAgKX0gLyAke2hlaWdodC5zdWJzdHJpbmcoaGVpZ2h0Lmxlbmd0aCAtIDIpfWBcbiAgICB9XG4gICAgY29uc3QgbW91bnRDYW52YXMgPSAoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkgPT4ge1xuICAgICAgICBpZiAoIWNhbnZhcykgcmV0dXJuXG5cbiAgICAgICAgaWYgKHJlZkNhbnZhcy5jdXJyZW50KSByZXR1cm5cblxuICAgICAgICByZWZDYW52YXMuY3VycmVudCA9IGNhbnZhc1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gbmV3IFRnZENvbnRleHQoY2FudmFzLCBvcHRpb25zKVxuICAgICAgICBjb25zdCBkZXB0aEJpdHMgPSBjb250ZXh0LmdsLmdldFBhcmFtZXRlcihjb250ZXh0LmdsLkRFUFRIX0JJVFMpXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRGVwaHQgYnVmZmVyIGJpdHM6XCIsIGRlcHRoQml0cylcbiAgICAgICAgcmVmQ29udGV4dC5jdXJyZW50ID0gY29udGV4dFxuICAgICAgICBzZXRMb2FkaW5nKHRydWUpXG4gICAgICAgIGxvYWRBc3NldHMoYXNzZXRzKVxuICAgICAgICAgICAgLnRoZW4oKGxvYWRlZEFzc2V0czogQXNzZXRzKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yYml0ZXIgPSBuZXcgVGdkQ29udHJvbGxlckNhbWVyYU9yYml0KGNvbnRleHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmVydGlhT3JiaXQ6IDEwMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5lcnRpYVpvb206IDUwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmVydGlhUGFubmluZzogNTAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmNvbnRyb2xsZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmT3JiaXRlci5jdXJyZW50ID0gb3JiaXRlclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5pbnB1dHMucG9pbnRlci5ldmVudFRhcE11bHRpcGxlLmFkZExpc3RlbmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChldnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIvCfmoAgW3RnZF0gZXZ0LnRhcHNDb3VudCA9XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldnQudGFwc0NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgLy8gQEZJWE1FOiBSZW1vdmUgdGhpcyBsaW5lIHdyaXR0ZW4gb24gMjAyNS0xMS0xMCBhdCAxMzozNlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldnQucHJldmVudFRhcCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldnQudGFwc0NvdW50ID09PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmJpdGVyLnJlc2V0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjb250cm9sbGVyLmluZXJ0aWFPcmJpdCA/PyA1MDApICogMWUtM1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG9uUmVhZHkoY29udGV4dCwgbG9hZGVkQXNzZXRzKVxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnBhaW50KClcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4IGluc3RhbmNlb2YgRXJyb3IgPyBleC5tZXNzYWdlIDogSlNPTi5zdHJpbmdpZnkoZXgpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlVuYWJsZSB0byBpbml0aWFsaXplIHRoZSBzY2VuZSFcIiwgZXgpXG4gICAgICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIGNvbnN0IGdpem1vID0gcmVmR2l6bW8uY3VycmVudFxuICAgICAgICBpZiAoZ2l6bW8pIGdpem1vLmF0dGFjaENvbnRleHQoY29udGV4dClcbiAgICB9XG4gICAgY29uc3QgbW91bnRHaXptbyA9IChjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGdpem1vID0gbmV3IFRnZENhbnZhc0dpem1vKHtcbiAgICAgICAgICAgIGNhbnZhcyxcbiAgICAgICAgfSlcbiAgICAgICAgcmVmR2l6bW8uY3VycmVudCA9IGdpem1vXG4gICAgICAgIGdpem1vLmV2ZW50VGlwQ2xpY2suYWRkTGlzdGVuZXIoKHsgdG8gfSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IHJlZkNvbnRleHQuY3VycmVudFxuICAgICAgICAgICAgaWYgKCFjb250ZXh0KSByZXR1cm5cblxuICAgICAgICAgICAgY29udGV4dC5hbmltU2NoZWR1bGUoe1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAwLjIsXG4gICAgICAgICAgICAgICAgZWFzaW5nRnVuY3Rpb246IHRnZEVhc2luZ0Z1bmN0aW9uSW5PdXRDdWJpYyxcbiAgICAgICAgICAgICAgICBhY3Rpb246IHRnZEFjdGlvbkNyZWF0ZUNhbWVyYUludGVycG9sYXRpb24oY29udGV4dC5jYW1lcmEsIHtcbiAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb246IHRvLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHJlZkNvbnRleHQuY3VycmVudFxuICAgICAgICBpZiAoY29udGV4dCkgZ2l6bW8uYXR0YWNoQ29udGV4dChjb250ZXh0KVxuICAgIH1cbiAgICBjb25zdCBoYW5kbGVGdWxsc2NyZWVuID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBkaXYgPSByZWZTY3JlZW4uY3VycmVudFxuICAgICAgICBpZiAoIWRpdikgcmV0dXJuXG5cbiAgICAgICAgZGl2LnJlcXVlc3RGdWxsc2NyZWVuKClcbiAgICB9XG4gICAgY29uc3QgaGFuZGxlU2NyZWVuc2hvdCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHJlZkNvbnRleHQuY3VycmVudFxuICAgICAgICBpZiAoIWNvbnRleHQpIHJldHVyblxuXG4gICAgICAgIGNvbnRleHQudGFrZVNuYXBzaG90KCkudGhlbigoaW1nKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIilcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSlcbiAgICAgICAgICAgIGEuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG4gICAgICAgICAgICBhLmhyZWYgPSBpbWcuc3JjXG4gICAgICAgICAgICBhLmRvd25sb2FkID0gYHNuYXBzaG90LnBuZ2BcbiAgICAgICAgICAgIGEuY2xpY2soKVxuICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4gZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKSwgMzAwMDApXG4gICAgICAgIH0pXG4gICAgfVxuICAgIGNvbnN0IGhhbmRsZVNldENhbWVyYVJlc3RQb3NpdGlvbiA9ICgpID0+IHtcbiAgICAgICAgY29uc3Qgb3JiaXRlciA9IHJlZk9yYml0ZXIuY3VycmVudFxuICAgICAgICBjb25zdCBjb250ZXh0ID0gcmVmQ29udGV4dC5jdXJyZW50XG4gICAgICAgIGlmICghY29udGV4dCB8fCAhb3JiaXRlcikgcmV0dXJuXG5cbiAgICAgICAgb3JiaXRlci5jYW1lcmFJbml0aWFsU3RhdGUgPSBjb250ZXh0LmNhbWVyYS5nZXRDdXJyZW50U3RhdGUoKVxuICAgICAgICBvcmJpdGVyLnJlc2V0Wm9vbSgpXG4gICAgfVxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IHJlZkNhbnZhcy5jdXJyZW50XG4gICAgICAgIGNvbnN0IHNjZW5lID0gcmVmQ29udGV4dC5jdXJyZW50XG4gICAgICAgIGlmICghY2FudmFzIHx8ICFzY2VuZSkgcmV0dXJuXG5cbiAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKCkgPT4gc2NlbmUucGFpbnQoKSlcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShjYW52YXMpXG4gICAgICAgIGlmICghY2FudmFzLnJlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICBjYW52YXMucmVxdWVzdEZ1bGxzY3JlZW4gPSAoXG4gICAgICAgICAgICAgICAgY2FudmFzIGFzIHVua25vd24gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj5cbiAgICAgICAgICAgIClbXCJ3ZWJraXRSZXF1ZXN0RnVsbHNjcmVlblwiXSBhcyAoXG4gICAgICAgICAgICAgICAgb3B0aW9ucz86IEZ1bGxzY3JlZW5PcHRpb25zXG4gICAgICAgICAgICApID0+IFByb21pc2U8dm9pZD5cbiAgICAgICAgfVxuICAgICAgICBzZXRGdWxsc2NyZWVuQXZhaWxhYmxlKEJvb2xlYW4oY2FudmFzLnJlcXVlc3RGdWxsc2NyZWVuKSlcbiAgICAgICAgcmV0dXJuICgpID0+IG9ic2VydmVyLnVub2JzZXJ2ZShjYW52YXMpXG4gICAgfSwgW3JlZkNvbnRleHQuY3VycmVudCwgcmVmQ2FudmFzLmN1cnJlbnRdKVxuXG4gICAgaWYgKG5vQm9yZGVyKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgcmVmPXtyZWZTY3JlZW59XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMuc2NyZWVufVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBsYW5kc2NhcGUgPyB3aWR0aCA6IGhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBsYW5kc2NhcGUgPyBoZWlnaHQgOiB3aWR0aCxcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxjYW52YXMgY2xhc3NOYW1lPXtzdHlsZXMuY2FudmFzfSByZWY9e21vdW50Q2FudmFzfT48L2NhbnZhcz5cbiAgICAgICAgICAgICAgICB7Z2l6bW8gJiYgKFxuICAgICAgICAgICAgICAgICAgICA8Y2FudmFzIGNsYXNzTmFtZT17c3R5bGVzLmdpem1vfSByZWY9e21vdW50R2l6bW99PjwvY2FudmFzPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAge2Vycm9yICYmIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuZXJyb3J9PntlcnJvcn08L2Rpdj59XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtUaGVtZS5jbGFzc05hbWVzLmpvaW4oY2xhc3NOYW1lLCBzdHlsZXMuVGdkKX0+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtUaGVtZS5jbGFzc05hbWVzLmpvaW4oXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlcy5hY3Rpb25zLFxuICAgICAgICAgICAgICAgICAgICAhbG9hZGluZyAmJiBzdHlsZXMuZW5hYmxlZFxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPEljb25PcmllbnRhdGlvbiBvbkNsaWNrPXsoKSA9PiBzZXRMYW5kc2NhcGUoIWxhbmRzY2FwZSl9IC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPEljb25TbmFwc2hvdCBvbkNsaWNrPXtoYW5kbGVTY3JlZW5zaG90fSAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIHtmdWxsc2NyZWVuQXZhaWxhYmxlICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uRnVsbHNjcmVlbiBvbkNsaWNrPXtoYW5kbGVGdWxsc2NyZWVufSAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIHtjb250cm9sbGVyICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uUGluIG9uQ2xpY2s9e2hhbmRsZVNldENhbWVyYVJlc3RQb3NpdGlvbn0gLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5yZWxhdGl2ZX0+XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICByZWY9e3JlZlNjcmVlbn1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMuc2NyZWVufVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGxhbmRzY2FwZSA/IHdpZHRoIDogaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBsYW5kc2NhcGUgPyBoZWlnaHQgOiB3aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxjYW52YXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLmNhbnZhc31cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17bW91bnRDYW52YXN9XG4gICAgICAgICAgICAgICAgICAgID48L2NhbnZhcz5cbiAgICAgICAgICAgICAgICAgICAge2dpem1vICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxjYW52YXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5naXptb31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9e21vdW50R2l6bW99XG4gICAgICAgICAgICAgICAgICAgICAgICA+PC9jYW52YXM+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIHtlcnJvciAmJiA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmVycm9yfT57ZXJyb3J9PC9kaXY+fVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtUaGVtZS5jbGFzc05hbWVzLmpvaW4oXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZXMub3ZlcmxheSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmcgJiYgc3R5bGVzLmxvYWRpbmdcbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxTcGlubmVyIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIClcbn1cblxuYXN5bmMgZnVuY3Rpb24gbG9hZEFzc2V0cyh7XG4gICAgZ2xiLFxuICAgIGRhdGEsXG4gICAgdGV4dCxcbiAgICBpbWFnZSxcbn06IFBhcnRpYWw8QXNzZXRzVG9Mb2FkPiA9IHt9KTogUHJvbWlzZTxBc3NldHM+IHtcbiAgICBjb25zb2xlLmxvZyhcIvCfmoAgW1RnZF0gZ2xiLCBkYXRhLCB0ZXh0LCBpbWFnZSA9IFwiLCBnbGIsIGRhdGEsIHRleHQsIGltYWdlKSAvLyBARklYTUU6IFJlbW92ZSB0aGlzIGxpbmUgd3JpdHRlbiBvbiAyMDI0LTExLTA4IGF0IDE0OjMzXG4gICAgY29uc3QgYXNzZXRzOiBBc3NldHMgPSB7XG4gICAgICAgIGdsYjoge30sXG4gICAgICAgIGRhdGE6IHt9LFxuICAgICAgICB0ZXh0OiB7fSxcbiAgICAgICAgaW1hZ2U6IHt9LFxuICAgIH1cbiAgICBjb25zdCBsb2FkZXJzOiBBcnJheTwoKSA9PiBQcm9taXNlPHZvaWQ+PiA9IFtdXG4gICAgaWYgKGltYWdlKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKGltYWdlKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgIGxvYWRlcnMucHVzaChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXJsID0gaW1hZ2Vba2V5XVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTG9hZGluZyBpbWFnZTpcIiwgdXJsKVxuICAgICAgICAgICAgICAgIGNvbnN0IGFzc2V0ID0gYXdhaXQgdGdkTG9hZEltYWdlKHVybClcbiAgICAgICAgICAgICAgICBpZiAoYXNzZXQpIGFzc2V0cy5pbWFnZVtrZXldID0gYXNzZXRcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuICAgIGlmIChnbGIpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoZ2xiKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgIGxvYWRlcnMucHVzaChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXJsID0gZ2xiW2tleV1cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxvYWRpbmcgR0xCOlwiLCB1cmwpXG4gICAgICAgICAgICAgICAgY29uc3QgYXNzZXQgPSBhd2FpdCB0Z2RMb2FkR2xiKHVybClcbiAgICAgICAgICAgICAgICBpZiAoYXNzZXQpIGFzc2V0cy5nbGJba2V5XSA9IGFzc2V0XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cbiAgICBpZiAoZGF0YSkge1xuICAgICAgICBPYmplY3Qua2V5cyhkYXRhKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgIGxvYWRlcnMucHVzaChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXJsID0gZGF0YVtrZXldXG4gICAgICAgICAgICAgICAgY29uc3QgYXNzZXQgPSBhd2FpdCB0Z2RMb2FkQXJyYXlCdWZmZXIodXJsKVxuICAgICAgICAgICAgICAgIGlmIChhc3NldCkgYXNzZXRzLmRhdGFba2V5XSA9IGFzc2V0XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cbiAgICBpZiAodGV4dCkge1xuICAgICAgICBPYmplY3Qua2V5cyh0ZXh0KS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgIGxvYWRlcnMucHVzaChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXJsID0gdGV4dFtrZXldXG4gICAgICAgICAgICAgICAgY29uc3QgYXNzZXQgPSBhd2FpdCB0Z2RMb2FkVGV4dCh1cmwpXG4gICAgICAgICAgICAgICAgaWYgKGFzc2V0KSBhc3NldHMudGV4dFtrZXldID0gYXNzZXRcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuICAgIGF3YWl0IFByb21pc2UuYWxsKGxvYWRlcnMubWFwKChsb2FkZXIpID0+IGxvYWRlcigpKSlcbiAgICByZXR1cm4gYXNzZXRzXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VEZWJvdW5jZWRFZmZlY3QsIFZpZXdJbnB1dE51bWJlciB9IGZyb20gXCJAdG9sb2tvYmFuL3VpXCI7XG5pbXBvcnQge1xuXHR0Z2RDYWxjTW9kdWxvLFxuXHRUZ2RDb250ZXh0LFxuXHR0Z2RNYWtlTWVzaEdsYlBhaW50ZXIsXG5cdFRnZE1hdGVyaWFsRGVwdGgsXG5cdFRnZFBhaW50ZXJCYWNrZ3JvdW5kV2l0aERlcHRoLFxuXHRUZ2RQYWludGVyTG9naWMsXG5cdFRnZFBhaW50ZXJNZXNoLFxuXHRUZ2RQYWludGVyU3RhdGUsXG5cdFRnZFRleHR1cmUyRCxcblx0d2ViZ2xQcmVzZXRDdWxsLFxuXHR3ZWJnbFByZXNldERlcHRoLFxufSBmcm9tIFwiQHRvbG9rb2Jhbi90Z2RcIjtcblxuaW1wb3J0IFZpZXcsIHsgQXNzZXRzIH0gZnJvbSBcIkAvY29tcG9uZW50cy9kZW1vL1RnZFwiO1xuXG5pbXBvcnQgQmFja2dyb3VuZElNRyBmcm9tIFwiLi9iYWNrZ3JvdW5kLndlYnBcIjtcbmltcG9ydCBCYWNrZ3JvdW5kR0xCIGZyb20gXCIuL2JhY2tncm91bmQuZ2xiXCI7XG5cbmZ1bmN0aW9uIGluaXQoY29udGV4dDogVGdkQ29udGV4dCwgYXNzZXRzOiBBc3NldHMpIHtcblx0Ly8gI2JlZ2luIEluaXRpYWxpemluZyBXZWJHTFxuXHRjb250ZXh0LmNhbWVyYSA9IGFzc2V0cy5nbGIuYmFja2dyb3VuZC5jcmVhdGVDYW1lcmFCeU5hbWUoXCJDYW1lcmFcIik7XG5cdGNvbnRleHQuY2FtZXJhLmZhciA9IDEwMDtcblx0Y29uc3QgZGVwdGhNYWtlciA9IG5ldyBUZ2RQYWludGVyU3RhdGUoY29udGV4dCwge1xuXHRcdGN1bGw6IHdlYmdsUHJlc2V0Q3VsbC5iYWNrLFxuXHRcdGNoaWxkcmVuOiBbXG5cdFx0XHR0Z2RNYWtlTWVzaEdsYlBhaW50ZXIoe1xuXHRcdFx0XHRjb250ZXh0LFxuXHRcdFx0XHRkYXRhOiBhc3NldHMuZ2xiLmJhY2tncm91bmQsXG5cdFx0XHRcdG5vZGU6IFwiQnVpbGRpbmdcIixcblx0XHRcdFx0b3ZlcnJpZGVNYXRlcmlhbDogKCkgPT4gKCkgPT4gbmV3IFRnZE1hdGVyaWFsRGVwdGgoKSxcblx0XHRcdH0pLnBhaW50ZXIsXG5cdFx0XSxcblx0fSk7XG5cdGNvbnN0IGJhY2tncm91bmQgPSBuZXcgVGdkUGFpbnRlckJhY2tncm91bmRXaXRoRGVwdGgoY29udGV4dCwge1xuXHRcdGJhY2tncm91bmQ6IG5ldyBUZ2RUZXh0dXJlMkQoY29udGV4dCkubG9hZEJpdG1hcChhc3NldHMuaW1hZ2UuYmFja2dyb3VuZCksXG5cdFx0Y2hpbGRyZW46IFtkZXB0aE1ha2VyXSxcblx0fSk7XG5cdGNvbnN0IGN1YmUxID0gbmV3IFRnZFBhaW50ZXJNZXNoKGNvbnRleHQpO1xuXHRjdWJlMS50cmFuc2ZvLnNldFBvc2l0aW9uKDExLjAyLCAwLCAtOC43NSkuc2V0U2NhbGUoNCk7XG5cdGNvbnN0IGN1YmUyID0gbmV3IFRnZFBhaW50ZXJNZXNoKGNvbnRleHQpO1xuXHRjdWJlMi50cmFuc2ZvLnNldFBvc2l0aW9uKDAuMDIsIDAsIC00KS5zZXRTY2FsZSg0KTtcblx0Y29udGV4dC5hZGQoXG5cdFx0YmFja2dyb3VuZCxcblx0XHRuZXcgVGdkUGFpbnRlclN0YXRlKGNvbnRleHQsIHtcblx0XHRcdGRlcHRoOiB3ZWJnbFByZXNldERlcHRoLmxlc3MsXG5cdFx0XHRjaGlsZHJlbjogW2N1YmUxLCBjdWJlMl0sXG5cdFx0fSksXG5cdFx0bmV3IFRnZFBhaW50ZXJMb2dpYygodGltZSkgPT4ge1xuXHRcdFx0Y29uc3QgbW9kID0gdGdkQ2FsY01vZHVsbyh0aW1lICogMC4xLCAwLCAyKTtcblx0XHRcdGxldCB5MSA9IDA7XG5cdFx0XHRpZiAobW9kIDwgMSkgeTEgPSBtb2QgKiAyNTtcblx0XHRcdGVsc2UgeTEgPSAyNSAqICgyIC0gbW9kKTtcblx0XHRcdGNvbnN0IHsgeDogeDEsIHo6IHoxIH0gPSBjdWJlMS50cmFuc2ZvLnBvc2l0aW9uO1xuXHRcdFx0Y3ViZTEudHJhbnNmby5zZXRQb3NpdGlvbih4MSwgeTEsIHoxKTtcblx0XHRcdGN1YmUxLnRyYW5zZm8uc2V0RXVsZXJSb3RhdGlvbih0aW1lLCB0aW1lICogNDcsIC10aW1lICogMTIwKTtcblx0XHRcdGxldCB5MiA9IDA7XG5cdFx0XHRpZiAobW9kIDwgMSkgeTIgPSBtb2QgKiAzMDtcblx0XHRcdGVsc2UgeTIgPSAzMCAqICgyIC0gbW9kKTtcblx0XHRcdGNvbnN0IHsgeDogeDIsIHo6IHoyIH0gPSBjdWJlMi50cmFuc2ZvLnBvc2l0aW9uO1xuXHRcdFx0Y3ViZTIudHJhbnNmby5zZXRQb3NpdGlvbih4MiwgeTIsIHoyKTtcblx0XHRcdGN1YmUyLnRyYW5zZm8uc2V0RXVsZXJSb3RhdGlvbih0aW1lLCB0aW1lICogNTcsIC10aW1lICogMTAzKTtcblx0XHR9KSxcblx0KTtcblx0Y29udGV4dC5wbGF5KCk7XG5cdC8vICNlbmRcblx0cmV0dXJuIGJhY2tncm91bmQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIERlbW8oKSB7XG5cdC8vICAgY29uc3QgW21hdGVyaWFsLCBzZXRNYXRlcmlhbF0gPSB1c2VNYXRlcmlhbCgpO1xuXHQvLyAgIGNvbnN0IFttaW4sIHNldE1pbl0gPSBSZWFjdC51c2VTdGF0ZShtYXRlcmlhbC5taW4pO1xuXHQvLyAgIGNvbnN0IFttYXgsIHNldE1heF0gPSBSZWFjdC51c2VTdGF0ZShtYXRlcmlhbC5tYXgpO1xuXHQvLyAgIHVzZURlYm91bmNlZEVmZmVjdChcblx0Ly8gICAgICgpID0+IHtcblx0Ly8gICAgICAgbWF0ZXJpYWwubWluID0gbWluO1xuXHQvLyAgICAgICBtYXRlcmlhbC5tYXggPSBtYXg7XG5cdC8vICAgICB9LFxuXHQvLyAgICAgW21pbiwgbWF4XSxcblx0Ly8gICAgIDQwMFxuXHQvLyAgICk7XG5cdHJldHVybiAoXG5cdFx0PFZpZXdcblx0XHRcdG9uUmVhZHk9eyhjb250ZXh0LCBhc3NldHMpID0+IHtcblx0XHRcdFx0aW5pdChjb250ZXh0LCBhc3NldHMpO1xuXHRcdFx0XHQvLyBzZXRNYXRlcmlhbChpbml0KGNvbnRleHQsIGFzc2V0cykpO1xuXHRcdFx0fX1cblx0XHRcdG9wdGlvbnM9e3tcblx0XHRcdFx0YW50aWFsaWFzOiBmYWxzZSxcblx0XHRcdH19XG5cdFx0XHRhc3NldHM9e3tcblx0XHRcdFx0Z2xiOiB7IGJhY2tncm91bmQ6IEJhY2tncm91bmRHTEIgfSxcblx0XHRcdFx0aW1hZ2U6IHsgYmFja2dyb3VuZDogQmFja2dyb3VuZElNRyB9LFxuXHRcdFx0fX1cblx0XHQ+PC9WaWV3PlxuXHQpO1xufVxuXG5mdW5jdGlvbiB1c2VNYXRlcmlhbCgpOiBbXG5cdHsgbWluOiBudW1iZXI7IG1heDogbnVtYmVyIH0sXG5cdChtYXQ6IHsgbWluOiBudW1iZXI7IG1heDogbnVtYmVyIH0pID0+IHZvaWQsXG5dIHtcblx0Y29uc3QgcmVmTWF0ZXJpYWwgPSBSZWFjdC51c2VSZWY8eyBtaW46IG51bWJlcjsgbWF4OiBudW1iZXIgfSB8IG51bGw+KG51bGwpO1xuXHRpZiAoIXJlZk1hdGVyaWFsLmN1cnJlbnQpIHJlZk1hdGVyaWFsLmN1cnJlbnQgPSB7IG1pbjogMC45OTIsIG1heDogMSB9O1xuXG5cdHJldHVybiBbXG5cdFx0cmVmTWF0ZXJpYWwuY3VycmVudCxcblx0XHQobWF0OiB7IG1pbjogbnVtYmVyOyBtYXg6IG51bWJlciB9KSA9PiAocmVmTWF0ZXJpYWwuY3VycmVudCA9IG1hdCksXG5cdF07XG59XG4iLCIiLCIvKipcbiAqIEBpbXBvcnQge01EWENvbXBvbmVudHN9IGZyb20gJ21keC90eXBlcy5qcydcbiAqIEBpbXBvcnQge0NvbXBvbmVudCwgUmVhY3RFbGVtZW50LCBSZWFjdE5vZGV9IGZyb20gJ3JlYWN0J1xuICovXG5cbi8qKlxuICogQGNhbGxiYWNrIE1lcmdlQ29tcG9uZW50c1xuICogICBDdXN0b20gbWVyZ2UgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE1EWENvbXBvbmVudHM+fSBjdXJyZW50Q29tcG9uZW50c1xuICogICBDdXJyZW50IGNvbXBvbmVudHMgZnJvbSB0aGUgY29udGV4dC5cbiAqIEByZXR1cm5zIHtNRFhDb21wb25lbnRzfVxuICogICBBZGRpdGlvbmFsIGNvbXBvbmVudHMuXG4gKlxuICogQHR5cGVkZWYgUHJvcHNcbiAqICAgQ29uZmlndXJhdGlvbiBmb3IgYE1EWFByb3ZpZGVyYC5cbiAqIEBwcm9wZXJ0eSB7UmVhY3ROb2RlIHwgbnVsbCB8IHVuZGVmaW5lZH0gW2NoaWxkcmVuXVxuICogICBDaGlsZHJlbiAob3B0aW9uYWwpLlxuICogQHByb3BlcnR5IHtSZWFkb25seTxNRFhDb21wb25lbnRzPiB8IE1lcmdlQ29tcG9uZW50cyB8IG51bGwgfCB1bmRlZmluZWR9IFtjb21wb25lbnRzXVxuICogICBBZGRpdGlvbmFsIGNvbXBvbmVudHMgdG8gdXNlIG9yIGEgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIHRoZW0gKG9wdGlvbmFsKS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbiB8IG51bGwgfCB1bmRlZmluZWR9IFtkaXNhYmxlUGFyZW50Q29udGV4dD1mYWxzZV1cbiAqICAgVHVybiBvZmYgb3V0ZXIgY29tcG9uZW50IGNvbnRleHQgKGRlZmF1bHQ6IGBmYWxzZWApLlxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuLyoqIEB0eXBlIHtSZWFkb25seTxNRFhDb21wb25lbnRzPn0gKi9cbmNvbnN0IGVtcHR5Q29tcG9uZW50cyA9IHt9XG5cbmNvbnN0IE1EWENvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KGVtcHR5Q29tcG9uZW50cylcblxuLyoqXG4gKiBHZXQgY3VycmVudCBjb21wb25lbnRzIGZyb20gdGhlIE1EWCBDb250ZXh0LlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHk8TURYQ29tcG9uZW50cz4gfCBNZXJnZUNvbXBvbmVudHMgfCBudWxsIHwgdW5kZWZpbmVkfSBbY29tcG9uZW50c11cbiAqICAgQWRkaXRpb25hbCBjb21wb25lbnRzIHRvIHVzZSBvciBhIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyB0aGVtIChvcHRpb25hbCkuXG4gKiBAcmV0dXJucyB7TURYQ29tcG9uZW50c31cbiAqICAgQ3VycmVudCBjb21wb25lbnRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlTURYQ29tcG9uZW50cyhjb21wb25lbnRzKSB7XG4gIGNvbnN0IGNvbnRleHRDb21wb25lbnRzID0gUmVhY3QudXNlQ29udGV4dChNRFhDb250ZXh0KVxuXG4gIC8vIE1lbW9pemUgdG8gYXZvaWQgdW5uZWNlc3NhcnkgdG9wLWxldmVsIGNvbnRleHQgY2hhbmdlc1xuICByZXR1cm4gUmVhY3QudXNlTWVtbyhcbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBDdXN0b20gbWVyZ2UgdmlhIGEgZnVuY3Rpb24gcHJvcFxuICAgICAgaWYgKHR5cGVvZiBjb21wb25lbnRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBjb21wb25lbnRzKGNvbnRleHRDb21wb25lbnRzKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gey4uLmNvbnRleHRDb21wb25lbnRzLCAuLi5jb21wb25lbnRzfVxuICAgIH0sXG4gICAgW2NvbnRleHRDb21wb25lbnRzLCBjb21wb25lbnRzXVxuICApXG59XG5cbi8qKlxuICogUHJvdmlkZXIgZm9yIE1EWCBjb250ZXh0LlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHk8UHJvcHM+fSBwcm9wZXJ0aWVzXG4gKiAgIFByb3BlcnRpZXMuXG4gKiBAcmV0dXJucyB7UmVhY3RFbGVtZW50fVxuICogICBFbGVtZW50LlxuICogQHNhdGlzZmllcyB7Q29tcG9uZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gTURYUHJvdmlkZXIocHJvcGVydGllcykge1xuICAvKiogQHR5cGUge1JlYWRvbmx5PE1EWENvbXBvbmVudHM+fSAqL1xuICBsZXQgYWxsQ29tcG9uZW50c1xuXG4gIGlmIChwcm9wZXJ0aWVzLmRpc2FibGVQYXJlbnRDb250ZXh0KSB7XG4gICAgYWxsQ29tcG9uZW50cyA9XG4gICAgICB0eXBlb2YgcHJvcGVydGllcy5jb21wb25lbnRzID09PSAnZnVuY3Rpb24nXG4gICAgICAgID8gcHJvcGVydGllcy5jb21wb25lbnRzKGVtcHR5Q29tcG9uZW50cylcbiAgICAgICAgOiBwcm9wZXJ0aWVzLmNvbXBvbmVudHMgfHwgZW1wdHlDb21wb25lbnRzXG4gIH0gZWxzZSB7XG4gICAgYWxsQ29tcG9uZW50cyA9IHVzZU1EWENvbXBvbmVudHMocHJvcGVydGllcy5jb21wb25lbnRzKVxuICB9XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgTURYQ29udGV4dC5Qcm92aWRlcixcbiAgICB7dmFsdWU6IGFsbENvbXBvbmVudHN9LFxuICAgIHByb3BlcnRpZXMuY2hpbGRyZW5cbiAgKVxufVxuIl0sIm5hbWVzIjpbImciLCJjb25zb2xlIiwiZSIsIkVycm9yIiwiSlNPTiIsIlJlc2l6ZU9ic2VydmVyIiwiZG9jdW1lbnQiLCJ3aW5kb3ciLCJhIiwiT2JqZWN0IiwiUHJvbWlzZSJdLCJtYXBwaW5ncyI6IitMQUNBLE1BQTJRLHFEQUE0RCxxREFBMkQsb0RBQXNMLGtEQ2dEemlCLFNBQVMsRUFBSSxDQUN4QixXQUFTLENBQ1QsU0FBTyxDQUNQLFNBQU8sQ0FDUEEsTUFBQUEsRUFBUSxFQUFLLENBQ2IsUUFBUSxPQUFPLENBQ2YsU0FBUyxPQUFPLENBQ2hCLFdBQVcsRUFBSyxDQUNoQixRQUFNLENBQ04sWUFBVSxDQUNWLFVBQVEsQ0FDRCxFQUNQLEdBQU0sQ0FBQyxFQUFPLEVBQVMsQ0FBRyxVQUFjLENBQWdCLE1BQ2xELENBQUMsRUFBVyxFQUFhLENBQUcsVUFBYyxDQUFDLElBQzNDLENBQUMsRUFBcUIsRUFBdUIsQ0FBRyxVQUFjLENBQUMsSUFDL0QsRUFBYSxRQUFZLENBQW9CLE1BQzdDLEVBQVksUUFBWSxDQUEyQixNQUNuRCxFQUFXLFFBQVksQ0FBd0IsTUFDL0MsRUFBWSxRQUFZLENBQXdCLE1BQ2hELEVBQWEsUUFBWSxDQUFrQyxNQUMz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