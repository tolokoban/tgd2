"use strict";(self.webpackChunk_tolokoban_tgd=self.webpackChunk_tolokoban_tgd||[]).push([["9516"],{7546(e,n,t){t.d(n,{s:()=>s});var a=t(6540);function s(e,n){let[t,s]=a.useState(e);return a.useEffect(()=>n?.(t),[t]),[t,s]}},1278(e,n,t){e.exports=t.p+"bin/suzanne.f1e9692cdd07ad81.glb"},733(e,n,t){t.r(n),t.d(n,{default:()=>v});var a=t(4848),s=t(8453),r=t(6540),o=t(6671),i=t(385),l=t(2155),c=t(3172),g=t(7546),p=t(1278),m=t(2839),u=t(244),d=t(7729),b=t(5039),x=t(156),y=t(8073);function f(){let e=r.useRef(null),n=e.current,[t,s]=(0,g.s)(2.2,n?.specularExponent),[i,f]=(0,g.s)(2,n?.specularIntensity);return(0,a.jsx)("div",{children:(0,a.jsxs)(c.A,{onReady:(n,t)=>{let a,s,r,o;a=[...(0,l.tgdCalcRandom3)(),1],s=new l.TgdTextureCube(n,{imagePosX:t.image.posX,imagePosY:t.image.posY,imagePosZ:t.image.posZ,imageNegX:t.image.negX,imageNegY:t.image.negY,imageNegZ:t.image.negZ}),r=new l.TgdMaterialGlobal({color:a,ambientColor:s}),o=new l.TgdPainterMeshGltf(n,{asset:t.glb.suzane,material:r}),n.add(new l.TgdPainterClear(n,{color:[.3,.3,.3,1],depth:1}),new l.TgdPainterSkybox(n,{camera:n.camera,imagePosX:t.image.posX,imagePosY:t.image.posY,imagePosZ:t.image.posZ,imageNegX:t.image.negX,imageNegY:t.image.negY,imageNegZ:t.image.negZ}),new l.TgdPainterState(n,{depth:l.webglPresetDepth.less,children:[o]}),new l.TgdPainterLogic(e=>{o.transfo.setEulerRotation(0,-(20*e),0)})),n.play(),e.current={specularExponent(e){r.specularExponent=e,n.paint()},specularIntensity(e){r.specularIntensity=e,n.paint()}}},assets:{glb:{suzane:p},image:{posX:m,posY:u,posZ:d,negX:b,negY:x,negZ:y}},gizmo:!0,controller:{inertiaOrbit:1e3},children:[(0,a.jsxs)(o.sWC,{display:"flex",justifyContent:"space-around",alignItems:"center",children:[(0,a.jsx)(o.D3i,{label:"specularExponent",value:t,onChange:s}),(0,a.jsx)(o.D3i,{label:"specularIntensity",value:i,onChange:f})]}),(0,a.jsxs)(o.sWC,{display:"flex",justifyContent:"space-around",alignItems:"center",children:[(0,a.jsx)(o.yQN,{variant:"text",color:"primary-5",onClick:()=>{s(1),f(1)},children:"Brushed Metal"}),(0,a.jsx)(o.yQN,{variant:"text",color:"primary-5",onClick:()=>{s(.25),f(1.5)},children:"Soft Light"}),(0,a.jsx)(o.yQN,{variant:"text",color:"primary-5",onClick:()=>{s(2.2),f(2)},children:"Car Paint"}),(0,a.jsx)(o.yQN,{variant:"text",color:"primary-5",onClick:()=>{s(0),f(1)},children:"Plastic"})]})]})})}let h={"Initializing WebGL":"    const color: ArrayNumber4 = [...tgdCalcRandom3(), 1]\n    const skybox = new TgdTextureCube(context, {\n        imagePosX: assets.image.posX,\n        imagePosY: assets.image.posY,\n        imagePosZ: assets.image.posZ,\n        imageNegX: assets.image.negX,\n        imageNegY: assets.image.negY,\n        imageNegZ: assets.image.negZ,\n    })\n    const material = new TgdMaterialGlobal({\n        color,\n        ambientColor: skybox,\n    })\n    const mesh = new TgdPainterMeshGltf(context, {\n        asset: assets.glb.suzane,\n        material,\n    })"};function w(){let[e,n]=r.useState(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"half-left",children:(0,a.jsx)(f,{})}),(0,a.jsxs)("div",{className:"half-right",children:[(0,a.jsx)("div",{children:(0,a.jsx)(o.yQN,{variant:"elevated",onClick:()=>n(!e),children:e?"Show code details":"Show full code"})}),(0,a.jsx)(i.A,{language:"tsx",value:e?'import {\n    ArrayNumber4,\n    TgdContext,\n    TgdPainterClear,\n    TgdPainterMeshGltf,\n    TgdPainterState,\n    tgdCalcRandom3,\n    webglPresetDepth,\n    TgdTextureCube,\n    TgdPainterLogic,\n    TgdPainterSkybox,\n    TgdMaterialGlobal,\n} from "@tolokoban/tgd"\nimport View, { Assets } from "@/components/demo/Tgd"\nimport React from "react"\nimport { useFloat } from "@/utils/hooks/float"\nimport { ViewButton, ViewInputNumber, ViewPanel } from "@tolokoban/ui"\n\nimport SuzaneURL from "@/assets/mesh/suzanne.glb"\nimport PosX from "@/assets/cubemap/sky/posX.webp"\nimport PosY from "@/assets/cubemap/sky/posY.webp"\nimport PosZ from "@/assets/cubemap/sky/posZ.webp"\nimport NegX from "@/assets/cubemap/sky/negX.webp"\nimport NegY from "@/assets/cubemap/sky/negY.webp"\nimport NegZ from "@/assets/cubemap/sky/negZ.webp"\n\nfunction init(context: TgdContext, assets: Assets) {\n    const color: ArrayNumber4 = [...tgdCalcRandom3(), 1]\n    const skybox = new TgdTextureCube(context, {\n        imagePosX: assets.image.posX,\n        imagePosY: assets.image.posY,\n        imagePosZ: assets.image.posZ,\n        imageNegX: assets.image.negX,\n        imageNegY: assets.image.negY,\n        imageNegZ: assets.image.negZ,\n    })\n    const material = new TgdMaterialGlobal({\n        color,\n        ambientColor: skybox,\n    })\n    const mesh = new TgdPainterMeshGltf(context, {\n        asset: assets.glb.suzane,\n        material,\n    })\n    context.add(\n        new TgdPainterClear(context, {\n            color: [0.3, 0.3, 0.3, 1],\n            depth: 1,\n        }),\n        new TgdPainterSkybox(context, {\n            camera: context.camera,\n            imagePosX: assets.image.posX,\n            imagePosY: assets.image.posY,\n            imagePosZ: assets.image.posZ,\n            imageNegX: assets.image.negX,\n            imageNegY: assets.image.negY,\n            imageNegZ: assets.image.negZ,\n        }),\n        new TgdPainterState(context, {\n            depth: webglPresetDepth.less,\n            children: [mesh],\n        }),\n        new TgdPainterLogic((time) => {\n            mesh.transfo.setEulerRotation(0, -time * 20, 0)\n        })\n    )\n    context.play()\n    return {\n        specularExponent(value: number) {\n            material.specularExponent = value\n            context.paint()\n        },\n        specularIntensity(value: number) {\n            material.specularIntensity = value\n            context.paint()\n        },\n    }\n}\n\nexport default function Demo() {\n    const ref = React.useRef<ReturnType<typeof init> | null>(null)\n    const srv = ref.current\n    const [specularExponent, setSpecularExponent] = useFloat(\n        2.2,\n        srv?.specularExponent\n    )\n    const [specularIntensity, setSpecularIntensity] = useFloat(\n        2,\n        srv?.specularIntensity\n    )\n    return (\n        <div>\n            <View\n                onReady={(scene: TgdContext, assets: Assets) => {\n                    ref.current = init(scene, assets)\n                }}\n                assets={{\n                    glb: {\n                        suzane: SuzaneURL,\n                    },\n                    image: {\n                        posX: PosX,\n                        posY: PosY,\n                        posZ: PosZ,\n                        negX: NegX,\n                        negY: NegY,\n                        negZ: NegZ,\n                    },\n                }}\n                gizmo\n                controller={{\n                    inertiaOrbit: 1000,\n                }}\n            >\n                <ViewPanel\n                    display="flex"\n                    justifyContent="space-around"\n                    alignItems="center"\n                >\n                    <ViewInputNumber\n                        label="specularExponent"\n                        value={specularExponent}\n                        onChange={setSpecularExponent}\n                    />\n                    <ViewInputNumber\n                        label="specularIntensity"\n                        value={specularIntensity}\n                        onChange={setSpecularIntensity}\n                    />\n                </ViewPanel>\n                <ViewPanel\n                    display="flex"\n                    justifyContent="space-around"\n                    alignItems="center"\n                >\n                    <ViewButton\n                        variant="text"\n                        color="primary-5"\n                        onClick={() => {\n                            setSpecularExponent(1)\n                            setSpecularIntensity(1)\n                        }}\n                    >\n                        Brushed Metal\n                    </ViewButton>\n                    <ViewButton\n                        variant="text"\n                        color="primary-5"\n                        onClick={() => {\n                            setSpecularExponent(0.25)\n                            setSpecularIntensity(1.5)\n                        }}\n                    >\n                        Soft Light\n                    </ViewButton>\n                    <ViewButton\n                        variant="text"\n                        color="primary-5"\n                        onClick={() => {\n                            setSpecularExponent(2.2)\n                            setSpecularIntensity(2)\n                        }}\n                    >\n                        Car Paint\n                    </ViewButton>\n                    <ViewButton\n                        variant="text"\n                        color="primary-5"\n                        onClick={() => {\n                            setSpecularExponent(0)\n                            setSpecularIntensity(1)\n                        }}\n                    >\n                        Plastic\n                    </ViewButton>\n                </ViewPanel>\n            </View>\n        </div>\n    )\n}\n':h})]})]})}function P(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.forEach(function(n){var a;a=t[n],n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a})}return e}function j(e){var n=P({a:"a",h1:"h1",hr:"hr",p:"p"},(0,s.R)(),e.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{children:"Global material"}),"\n",(0,a.jsx)(w,{}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.a,{href:"",children:"Global material"})," is a versatile one, but one of the slowest because it relies on several textures."]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"#/articles/material",children:"Back"})})]})}function v(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=P({},(0,s.R)(),t.components).wrapper;return r?(0,a.jsx)(r,(e=P({},t),n=n={children:(0,a.jsx)(j,P({},t))},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t.push.apply(t,a)}return t})(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}),e)):j(t)}}}]);