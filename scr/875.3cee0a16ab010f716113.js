"use strict";(self.webpackChunk_tolokoban_tgd=self.webpackChunk_tolokoban_tgd||[]).push([[875],{4875:(e,n,t)=>{t.r(n),t.d(n,{default:()=>d});var o=t(4848),s=t(8453),i=t(50),a=t(6281),c=function(e,n,t,o){return new(t||(t=Promise))((function(s,i){function a(e){try{r(o.next(e))}catch(e){i(e)}}function c(e){try{r(o.throw(e))}catch(e){i(e)}}function r(e){var n;e.done?s(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,c)}r((o=o.apply(e,n||[])).next())}))};function r(){return(0,o.jsx)(a.A,{onReady:l})}function l(e){document.addEventListener("keydown",(n=>{switch(console.log("ðŸš€ [index] evt.key = ",n.key),n.key){case"0":e.camera.face("+X+Y+Z");break;case".":e.camera.zoom=1}e.paint()}));const n=new i.xN({distance:3,far:100,near:.1,fovy:Math.PI/4,zoom:1});e.camera=n,n.face("+X+Y+Z"),new i.pw(e,{inertiaOrbit:900}),e.paint(),(()=>{c(this,void 0,void 0,(function*(){const n=yield(0,i.TC)("mesh/suzanne.glb");if(!n)return;console.log("Suzanne has been loaded!");const t=new i.Ip(e,{depth:i.Eg.less,children:[new i.o5(e,{color:[0,.3,0,1],depth:1}),new i.dR(e,{asset:n})]}),o=new i.dN(e,{depthBuffer:!0,viewportMatchingScale:1});o.add(t);const s=new i.Ch;e.add(o,new i.D$(e,{filters:[s],texture:o.texture,flipY:!0}),new i.ZJ((e=>s.hueShiftInDegrees=.1*e))),e.paint(),console.log("========================================"),console.log(e.debugHierarchy())}))})()}function u(e){const n={h1:"h1",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{children:"Test"}),"\n",(0,o.jsx)(r,{})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}},3469:(e,n,t)=>{t.d(n,{A:()=>c});var o=t(1601),s=t.n(o),i=t(6314),a=t.n(i)()(s());a.push([e.id,".hgIjhDQIuBCJEQ4ZgLXp {\n    display: inline-block;\n    margin: 1em;\n}\n\n.hgIjhDQIuBCJEQ4ZgLXp canvas {\n    box-shadow: 0 0.25em 0.5em #fff1;\n    max-width: 100vw;\n    max-height: 100vh;\n}\n\n.efOyHCihw9wfMB6AaAqw {\n    position: relative;\n}\n\n.ywC8N0Uxbvm2Ug2DwPkE {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n    background-color: var(--theme-color-primary-1);\n    opacity: 0;\n    transition: opacity 0.3s;\n}\n\n.ywC8N0Uxbvm2Ug2DwPkE.PBWSRsbiwEqGpeL0hEfm {\n    opacity: 1;\n}\n",""]),a.locals={Tgd:"hgIjhDQIuBCJEQ4ZgLXp",relative:"efOyHCihw9wfMB6AaAqw",overlay:"ywC8N0Uxbvm2Ug2DwPkE",loading:"PBWSRsbiwEqGpeL0hEfm"};const c=a},6281:(e,n,t)=>{t.d(n,{A:()=>C});var o=t(4848),s=t(6540),i=t(50),a=t(8766),c=t(5072),r=t.n(c),l=t(7825),u=t.n(l),d=t(7659),h=t.n(d),f=t(5056),g=t.n(f),p=t(540),v=t.n(p),w=t(1113),m=t.n(w),y=t(3469),x={};x.styleTagTransform=m(),x.setAttributes=g(),x.insert=h().bind(null,"head"),x.domAPI=u(),x.insertStyleElement=v(),r()(y.A,x);const b=y.A&&y.A.locals?y.A.locals:void 0;var j=t(5670),k=function(e,n,t,o){return new(t||(t=Promise))((function(s,i){function a(e){try{r(o.next(e))}catch(e){i(e)}}function c(e){try{r(o.throw(e))}catch(e){i(e)}}function r(e){var n;e.done?s(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,c)}r((o=o.apply(e,n||[])).next())}))};function C({className:e,options:n,onReady:t,width:c="640px",height:r="480px",noBorder:l=!1,assets:u}){const[d,h]=s.useState(!1),f=s.useRef(null),g=s.useRef(null),[p,v]=s.useState(!0);let w="auto";c.endsWith("px")&&r.endsWith("px")&&(w=`${c.substring(c.length-2)} / ${r.substring(r.length-2)}`);const m=e=>{if(!e)return;if(g.current)return;g.current=e;const o=new i.tf(e,n);f.current=o,v(!0),function(){return k(this,arguments,void 0,(function*({glb:e,data:n,image:t}={}){console.log("ðŸš€ [Tgd] glb, data, image = ",e,n,t);const o={glb:{},data:{},image:{}},s=[];return t&&Object.keys(t).forEach((e=>{s.push((()=>k(this,void 0,void 0,(function*(){const n=t[e];console.log("Loading image:",n);const s=yield(0,i.V_)(n);s&&(o.image[e]=s)}))))})),e&&Object.keys(e).forEach((n=>{s.push((()=>k(this,void 0,void 0,(function*(){const t=e[n];console.log("Loading GLB:",t);const s=yield(0,i.TC)(t);s&&(o.glb[n]=s)}))))})),n&&Object.keys(n).forEach((e=>{s.push((()=>k(this,void 0,void 0,(function*(){const t=n[e],s=yield(0,i.vS)(t);s&&(o.data[e]=s)}))))})),yield Promise.all(s.map((e=>e()))),console.log("ðŸš€ [Tgd] assets = ",o),o}))}(u).then((e=>{t(o,e),o.paint(),v(!1)})).catch((()=>v(!1)))};return s.useEffect((()=>{const e=g.current,n=f.current;if(!e||!n)return;const t=new ResizeObserver((()=>n.paint()));return t.observe(e),e.requestFullscreen||(e.requestFullscreen=e.webkitRequestFullscreen),h(Boolean(e.requestFullscreen)),()=>t.unobserve(e)}),[f.current,g.current]),l?(0,o.jsx)("canvas",{className:e,style:{width:c,height:r,aspectRatio:w,maxWidth:"95%",maxHeight:"95%"},ref:m}):(0,o.jsxs)("div",{className:a.Sxu.classNames.join(e,b.Tgd),children:[(0,o.jsx)(a.sWC,{display:"flex",justifyContent:"flex-end",children:d&&(0,o.jsx)(a.yQN,{variant:"elevated",onClick:()=>{const e=g.current;e&&e.requestFullscreen()},enabled:!p,children:"Show fullscreen"})}),(0,o.jsxs)("div",{className:b.relative,children:[(0,o.jsx)("canvas",{style:{width:c,height:r},ref:m}),(0,o.jsx)("div",{className:a.Sxu.classNames.join(b.overlay,p&&b.loading),children:(0,o.jsx)(j.A,{})})]})]})}},8453:(e,n,t)=>{t.d(n,{R:()=>i});var o=t(6540);const s=o.createContext({});function i(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}}}]);