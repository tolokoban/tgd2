"use strict";(self.webpackChunk_tolokoban_tgd=self.webpackChunk_tolokoban_tgd||[]).push([["6522"],{6069:function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},l=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)0>t.indexOf(r[o])&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(6540)),c="undefined"!=typeof window&&"navigator"in window&&/Win/i.test(navigator.platform),u="undefined"!=typeof window&&"navigator"in window&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),f="npm__react-simple-code-editor__textarea",d="\n/**\n * Reset the text fill color so that placeholder is visible\n */\n.".concat(f,":empty {\n  -webkit-text-fill-color: inherit !important;\n}\n\n/**\n * Hack to apply on some CSS on IE10 and IE11\n */\n@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\n  /**\n    * IE doesn't support '-webkit-text-fill-color'\n    * So we use 'color: transparent' to make the text transparent on IE\n    * Unlike other browsers, it doesn't affect caret color in IE\n    */\n  .").concat(f," {\n    color: transparent !important;\n  }\n\n  .").concat(f,"::selection {\n    background-color: #accef7 !important;\n    color: transparent !important;\n  }\n}\n"),h=s.forwardRef(function(e,t){var n=e.autoFocus,o=e.disabled,i=e.form,a=e.highlight,h=e.ignoreTabKey,g=void 0!==h&&h,v=e.insertSpaces,y=void 0===v||v,m=e.maxLength,b=e.minLength,k=e.name,S=e.onBlur,C=e.onClick,w=e.onFocus,x=e.onKeyDown,E=e.onKeyUp,_=e.onValueChange,K=e.padding,O=void 0===K?0:K,j=e.placeholder,D=e.preClassName,P=e.readOnly,I=e.required,M=e.style,z=e.tabSize,T=void 0===z?2:z,F=e.textareaClassName,L=e.textareaId,W=e.value,B=l(e,["autoFocus","disabled","form","highlight","ignoreTabKey","insertSpaces","maxLength","minLength","name","onBlur","onClick","onFocus","onKeyDown","onKeyUp","onValueChange","padding","placeholder","preClassName","readOnly","required","style","tabSize","textareaClassName","textareaId","value"]),R=s.useRef({stack:[],offset:-1}),N=s.useRef(null),H=s.useState(!0),U=H[0],q=H[1],V={paddingTop:"object"==typeof O?O.top:O,paddingRight:"object"==typeof O?O.right:O,paddingBottom:"object"==typeof O?O.bottom:O,paddingLeft:"object"==typeof O?O.left:O},A=a(W),$=function(e,t){return e.substring(0,t).split("\n")},G=s.useCallback(function(e,t){void 0===t&&(t=!1);var n,o,i,a=R.current,l=a.stack,s=a.offset;if(l.length&&s>-1){R.current.stack=l.slice(0,s+1);var c=R.current.stack.length;if(c>100){var u=c-100;R.current.stack=l.slice(u,c),R.current.offset=Math.max(R.current.offset-u,0)}}var f=Date.now();if(t){var d=R.current.stack[R.current.offset];if(d&&f-d.timestamp<3e3){var h=/[^a-z0-9]([a-z0-9]+)$/i,p=null==(n=$(d.value,d.selectionStart).pop())?void 0:n.match(h),g=null==(o=$(e.value,e.selectionStart).pop())?void 0:o.match(h);if((null==p?void 0:p[1])&&(null==(i=null==g?void 0:g[1])?void 0:i.startsWith(p[1]))){R.current.stack[R.current.offset]=r(r({},e),{timestamp:f});return}}}R.current.stack.push(r(r({},e),{timestamp:f})),R.current.offset++},[]),J=s.useCallback(function(){var e=N.current;e&&G({value:e.value,selectionStart:e.selectionStart,selectionEnd:e.selectionEnd})},[G]),Q=function(e){var t=N.current;t&&(t.value=e.value,t.selectionStart=e.selectionStart,t.selectionEnd=e.selectionEnd,null==_||_(e.value))},X=function(e){var t=N.current,n=R.current.stack[R.current.offset];n&&t&&(R.current.stack[R.current.offset]=r(r({},n),{selectionStart:t.selectionStart,selectionEnd:t.selectionEnd})),G(e),Q(e)},Y=function(){var e=R.current,t=e.stack,n=e.offset,r=t[n-1];r&&(Q(r),R.current.offset=Math.max(n-1,0))},Z=function(){var e=R.current,t=e.stack,n=e.offset,r=t[n+1];r&&(Q(r),R.current.offset=Math.min(n+1,t.length-1))};return s.useEffect(function(){J()},[J]),s.useImperativeHandle(t,function(){return{get session(){return{history:R.current}},set session(session){R.current=session.history}}},[]),s.createElement("div",r({},B,{style:r(r({},p.container),M)}),s.createElement("pre",r({className:D,"aria-hidden":"true",style:r(r(r({},p.editor),p.highlight),V)},"string"==typeof A?{dangerouslySetInnerHTML:{__html:A+"<br />"}}:{children:A})),s.createElement("textarea",{ref:function(e){return N.current=e},style:r(r(r({},p.editor),p.textarea),V),className:f+(F?" ".concat(F):""),id:L,value:W,onChange:function(e){var t=e.currentTarget,n=t.value;G({value:n,selectionStart:t.selectionStart,selectionEnd:t.selectionEnd},!0),_(n)},onKeyDown:function(e){if(!x||(x(e),!e.defaultPrevented)){"Escape"===e.key&&e.currentTarget.blur();var t=e.currentTarget,n=t.value,r=t.selectionStart,o=t.selectionEnd,i=(y?" ":"	").repeat(T);if("Tab"===e.key&&!g&&U)if(e.preventDefault(),e.shiftKey){var a=$(n,r),l=a.length-1,s=$(n,o).length-1,f=n.split("\n").map(function(e,t){return t>=l&&t<=s&&e.startsWith(i)?e.substring(i.length):e}).join("\n");if(n!==f){var d=a[l];X({value:f,selectionStart:(null==d?void 0:d.startsWith(i))?r-i.length:r,selectionEnd:o-(n.length-f.length)})}}else if(r!==o){var a=$(n,r),h=a.length-1,p=$(n,o).length-1,d=a[h];X({value:n.split("\n").map(function(e,t){return t>=h&&t<=p?i+e:e}).join("\n"),selectionStart:d&&/\S/.test(d)?r+i.length:r,selectionEnd:o+i.length*(p-h+1)})}else{var v=r+i.length;X({value:n.substring(0,r)+i+n.substring(o),selectionStart:v,selectionEnd:v})}else if("Backspace"===e.key){var m=r!==o;if(n.substring(0,r).endsWith(i)&&!m){e.preventDefault();var v=r-i.length;X({value:n.substring(0,r-i.length)+n.substring(o),selectionStart:v,selectionEnd:v})}}else if("Enter"===e.key){if(r===o){var b=$(n,r).pop(),k=null==b?void 0:b.match(/^\s+/);if(null==k?void 0:k[0]){e.preventDefault();var S="\n"+k[0],v=r+S.length;X({value:n.substring(0,r)+S+n.substring(o),selectionStart:v,selectionEnd:v})}}}else if(57===e.keyCode||219===e.keyCode||222===e.keyCode||192===e.keyCode){var C=void 0;57===e.keyCode&&e.shiftKey?C=["(",")"]:219===e.keyCode?C=e.shiftKey?["{","}"]:["[","]"]:222===e.keyCode?C=e.shiftKey?['"','"']:["'","'"]:192!==e.keyCode||e.shiftKey||(C=["`","`"]),r!==o&&C&&(e.preventDefault(),X({value:n.substring(0,r)+C[0]+n.substring(r,o)+C[1]+n.substring(o),selectionStart:r,selectionEnd:o+2}))}else(u?e.metaKey&&90===e.keyCode:e.ctrlKey&&90===e.keyCode)&&!e.shiftKey&&!e.altKey?(e.preventDefault(),Y()):(u?e.metaKey&&90===e.keyCode&&e.shiftKey:c?e.ctrlKey&&89===e.keyCode:e.ctrlKey&&90===e.keyCode&&e.shiftKey)&&!e.altKey?(e.preventDefault(),Z()):77===e.keyCode&&e.ctrlKey&&(!u||e.shiftKey)&&(e.preventDefault(),q(function(e){return!e}))}},onClick:C,onKeyUp:E,onFocus:w,onBlur:S,disabled:o,form:i,maxLength:m,minLength:b,name:k,placeholder:j,readOnly:P,required:I,autoFocus:n,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"data-gramm":!1}),s.createElement("style",{dangerouslySetInnerHTML:{__html:d}}))}),p={container:{position:"relative",textAlign:"left",boxSizing:"border-box",padding:0,overflow:"hidden"},textarea:{position:"absolute",top:0,left:0,height:"100%",width:"100%",resize:"none",color:"inherit",overflow:"hidden",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",WebkitTextFillColor:"transparent"},highlight:{position:"relative",pointerEvents:"none"},editor:{margin:0,border:0,background:"none",boxSizing:"inherit",display:"inherit",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariantLigatures:"inherit",fontWeight:"inherit",letterSpacing:"inherit",lineHeight:"inherit",tabSize:"inherit",textIndent:"inherit",textRendering:"inherit",textTransform:"inherit",whiteSpace:"pre-wrap",wordBreak:"keep-all",overflowWrap:"break-word"}};t.default=h},8453:function(e,t,n){n.d(t,{R:()=>i});var r=n(6540);let o=r.createContext({});function i(e){let t=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NyLzY1MjIuMGI2ZjA1NWI1ZTM5MTllYi5qcyIsInNvdXJjZXMiOlsiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9kb2Mvbm9kZV9tb2R1bGVzL3JlYWN0LXNpbXBsZS1jb2RlLWVkaXRvci9saWIvaW5kZXguanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2RvYy9ub2RlX21vZHVsZXMvQG1keC1qcy9yZWFjdC9saWIvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdCkgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcbn0pO1xudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG52YXIgX19yZXN0ID0gKHRoaXMgJiYgdGhpcy5fX3Jlc3QpIHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcbiAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUmVhY3QgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcInJlYWN0XCIpKTtcbnZhciBLRVlDT0RFX1kgPSA4OTtcbnZhciBLRVlDT0RFX1ogPSA5MDtcbnZhciBLRVlDT0RFX00gPSA3NztcbnZhciBLRVlDT0RFX1BBUkVOUyA9IDU3O1xudmFyIEtFWUNPREVfQlJBQ0tFVFMgPSAyMTk7XG52YXIgS0VZQ09ERV9RVU9URSA9IDIyMjtcbnZhciBLRVlDT0RFX0JBQ0tfUVVPVEUgPSAxOTI7XG52YXIgSElTVE9SWV9MSU1JVCA9IDEwMDtcbnZhciBISVNUT1JZX1RJTUVfR0FQID0gMzAwMDtcbnZhciBpc1dpbmRvd3MgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICduYXZpZ2F0b3InIGluIHdpbmRvdyAmJlxuICAgIC9XaW4vaS50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSk7XG52YXIgaXNNYWNMaWtlID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAnbmF2aWdhdG9yJyBpbiB3aW5kb3cgJiZcbiAgICAvKE1hY3xpUGhvbmV8aVBvZHxpUGFkKS9pLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKTtcbnZhciBjbGFzc05hbWUgPSAnbnBtX19yZWFjdC1zaW1wbGUtY29kZS1lZGl0b3JfX3RleHRhcmVhJztcbnZhciBjc3NUZXh0ID0gLyogQ1NTICovIFwiXFxuLyoqXFxuICogUmVzZXQgdGhlIHRleHQgZmlsbCBjb2xvciBzbyB0aGF0IHBsYWNlaG9sZGVyIGlzIHZpc2libGVcXG4gKi9cXG4uXCIuY29uY2F0KGNsYXNzTmFtZSwgXCI6ZW1wdHkge1xcbiAgLXdlYmtpdC10ZXh0LWZpbGwtY29sb3I6IGluaGVyaXQgIWltcG9ydGFudDtcXG59XFxuXFxuLyoqXFxuICogSGFjayB0byBhcHBseSBvbiBzb21lIENTUyBvbiBJRTEwIGFuZCBJRTExXFxuICovXFxuQG1lZGlhIGFsbCBhbmQgKC1tcy1oaWdoLWNvbnRyYXN0OiBub25lKSwgKC1tcy1oaWdoLWNvbnRyYXN0OiBhY3RpdmUpIHtcXG4gIC8qKlxcbiAgICAqIElFIGRvZXNuJ3Qgc3VwcG9ydCAnLXdlYmtpdC10ZXh0LWZpbGwtY29sb3InXFxuICAgICogU28gd2UgdXNlICdjb2xvcjogdHJhbnNwYXJlbnQnIHRvIG1ha2UgdGhlIHRleHQgdHJhbnNwYXJlbnQgb24gSUVcXG4gICAgKiBVbmxpa2Ugb3RoZXIgYnJvd3NlcnMsIGl0IGRvZXNuJ3QgYWZmZWN0IGNhcmV0IGNvbG9yIGluIElFXFxuICAgICovXFxuICAuXCIpLmNvbmNhdChjbGFzc05hbWUsIFwiIHtcXG4gICAgY29sb3I6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7XFxuICB9XFxuXFxuICAuXCIpLmNvbmNhdChjbGFzc05hbWUsIFwiOjpzZWxlY3Rpb24ge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYWNjZWY3ICFpbXBvcnRhbnQ7XFxuICAgIGNvbG9yOiB0cmFuc3BhcmVudCAhaW1wb3J0YW50O1xcbiAgfVxcbn1cXG5cIik7XG52YXIgRWRpdG9yID0gUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiBFZGl0b3IocHJvcHMsIHJlZikge1xuICAgIHZhciBhdXRvRm9jdXMgPSBwcm9wcy5hdXRvRm9jdXMsIGRpc2FibGVkID0gcHJvcHMuZGlzYWJsZWQsIGZvcm0gPSBwcm9wcy5mb3JtLCBoaWdobGlnaHQgPSBwcm9wcy5oaWdobGlnaHQsIF9hID0gcHJvcHMuaWdub3JlVGFiS2V5LCBpZ25vcmVUYWJLZXkgPSBfYSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfYSwgX2IgPSBwcm9wcy5pbnNlcnRTcGFjZXMsIGluc2VydFNwYWNlcyA9IF9iID09PSB2b2lkIDAgPyB0cnVlIDogX2IsIG1heExlbmd0aCA9IHByb3BzLm1heExlbmd0aCwgbWluTGVuZ3RoID0gcHJvcHMubWluTGVuZ3RoLCBuYW1lID0gcHJvcHMubmFtZSwgb25CbHVyID0gcHJvcHMub25CbHVyLCBvbkNsaWNrID0gcHJvcHMub25DbGljaywgb25Gb2N1cyA9IHByb3BzLm9uRm9jdXMsIG9uS2V5RG93biA9IHByb3BzLm9uS2V5RG93biwgb25LZXlVcCA9IHByb3BzLm9uS2V5VXAsIG9uVmFsdWVDaGFuZ2UgPSBwcm9wcy5vblZhbHVlQ2hhbmdlLCBfYyA9IHByb3BzLnBhZGRpbmcsIHBhZGRpbmcgPSBfYyA9PT0gdm9pZCAwID8gMCA6IF9jLCBwbGFjZWhvbGRlciA9IHByb3BzLnBsYWNlaG9sZGVyLCBwcmVDbGFzc05hbWUgPSBwcm9wcy5wcmVDbGFzc05hbWUsIHJlYWRPbmx5ID0gcHJvcHMucmVhZE9ubHksIHJlcXVpcmVkID0gcHJvcHMucmVxdWlyZWQsIHN0eWxlID0gcHJvcHMuc3R5bGUsIF9kID0gcHJvcHMudGFiU2l6ZSwgdGFiU2l6ZSA9IF9kID09PSB2b2lkIDAgPyAyIDogX2QsIHRleHRhcmVhQ2xhc3NOYW1lID0gcHJvcHMudGV4dGFyZWFDbGFzc05hbWUsIHRleHRhcmVhSWQgPSBwcm9wcy50ZXh0YXJlYUlkLCB2YWx1ZSA9IHByb3BzLnZhbHVlLCByZXN0ID0gX19yZXN0KHByb3BzLCBbXCJhdXRvRm9jdXNcIiwgXCJkaXNhYmxlZFwiLCBcImZvcm1cIiwgXCJoaWdobGlnaHRcIiwgXCJpZ25vcmVUYWJLZXlcIiwgXCJpbnNlcnRTcGFjZXNcIiwgXCJtYXhMZW5ndGhcIiwgXCJtaW5MZW5ndGhcIiwgXCJuYW1lXCIsIFwib25CbHVyXCIsIFwib25DbGlja1wiLCBcIm9uRm9jdXNcIiwgXCJvbktleURvd25cIiwgXCJvbktleVVwXCIsIFwib25WYWx1ZUNoYW5nZVwiLCBcInBhZGRpbmdcIiwgXCJwbGFjZWhvbGRlclwiLCBcInByZUNsYXNzTmFtZVwiLCBcInJlYWRPbmx5XCIsIFwicmVxdWlyZWRcIiwgXCJzdHlsZVwiLCBcInRhYlNpemVcIiwgXCJ0ZXh0YXJlYUNsYXNzTmFtZVwiLCBcInRleHRhcmVhSWRcIiwgXCJ2YWx1ZVwiXSk7XG4gICAgdmFyIGhpc3RvcnlSZWYgPSBSZWFjdC51c2VSZWYoe1xuICAgICAgICBzdGFjazogW10sXG4gICAgICAgIG9mZnNldDogLTEsXG4gICAgfSk7XG4gICAgdmFyIGlucHV0UmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICAgIHZhciBfZSA9IFJlYWN0LnVzZVN0YXRlKHRydWUpLCBjYXB0dXJlID0gX2VbMF0sIHNldENhcHR1cmUgPSBfZVsxXTtcbiAgICB2YXIgY29udGVudFN0eWxlID0ge1xuICAgICAgICBwYWRkaW5nVG9wOiB0eXBlb2YgcGFkZGluZyA9PT0gJ29iamVjdCcgPyBwYWRkaW5nLnRvcCA6IHBhZGRpbmcsXG4gICAgICAgIHBhZGRpbmdSaWdodDogdHlwZW9mIHBhZGRpbmcgPT09ICdvYmplY3QnID8gcGFkZGluZy5yaWdodCA6IHBhZGRpbmcsXG4gICAgICAgIHBhZGRpbmdCb3R0b206IHR5cGVvZiBwYWRkaW5nID09PSAnb2JqZWN0JyA/IHBhZGRpbmcuYm90dG9tIDogcGFkZGluZyxcbiAgICAgICAgcGFkZGluZ0xlZnQ6IHR5cGVvZiBwYWRkaW5nID09PSAnb2JqZWN0JyA/IHBhZGRpbmcubGVmdCA6IHBhZGRpbmcsXG4gICAgfTtcbiAgICB2YXIgaGlnaGxpZ2h0ZWQgPSBoaWdobGlnaHQodmFsdWUpO1xuICAgIHZhciBnZXRMaW5lcyA9IGZ1bmN0aW9uICh0ZXh0LCBwb3NpdGlvbikge1xuICAgICAgICByZXR1cm4gdGV4dC5zdWJzdHJpbmcoMCwgcG9zaXRpb24pLnNwbGl0KCdcXG4nKTtcbiAgICB9O1xuICAgIHZhciByZWNvcmRDaGFuZ2UgPSBSZWFjdC51c2VDYWxsYmFjayhmdW5jdGlvbiAocmVjb3JkLCBvdmVyd3JpdGUpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIGlmIChvdmVyd3JpdGUgPT09IHZvaWQgMCkgeyBvdmVyd3JpdGUgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgX2QgPSBoaXN0b3J5UmVmLmN1cnJlbnQsIHN0YWNrID0gX2Quc3RhY2ssIG9mZnNldCA9IF9kLm9mZnNldDtcbiAgICAgICAgaWYgKHN0YWNrLmxlbmd0aCAmJiBvZmZzZXQgPiAtMSkge1xuICAgICAgICAgICAgLy8gV2hlbiBzb21ldGhpbmcgdXBkYXRlcywgZHJvcCB0aGUgcmVkbyBvcGVyYXRpb25zXG4gICAgICAgICAgICBoaXN0b3J5UmVmLmN1cnJlbnQuc3RhY2sgPSBzdGFjay5zbGljZSgwLCBvZmZzZXQgKyAxKTtcbiAgICAgICAgICAgIC8vIExpbWl0IHRoZSBudW1iZXIgb2Ygb3BlcmF0aW9ucyB0byAxMDBcbiAgICAgICAgICAgIHZhciBjb3VudCA9IGhpc3RvcnlSZWYuY3VycmVudC5zdGFjay5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoY291bnQgPiBISVNUT1JZX0xJTUlUKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV4dHJhcyA9IGNvdW50IC0gSElTVE9SWV9MSU1JVDtcbiAgICAgICAgICAgICAgICBoaXN0b3J5UmVmLmN1cnJlbnQuc3RhY2sgPSBzdGFjay5zbGljZShleHRyYXMsIGNvdW50KTtcbiAgICAgICAgICAgICAgICBoaXN0b3J5UmVmLmN1cnJlbnQub2Zmc2V0ID0gTWF0aC5tYXgoaGlzdG9yeVJlZi5jdXJyZW50Lm9mZnNldCAtIGV4dHJhcywgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gICAgICAgIGlmIChvdmVyd3JpdGUpIHtcbiAgICAgICAgICAgIHZhciBsYXN0ID0gaGlzdG9yeVJlZi5jdXJyZW50LnN0YWNrW2hpc3RvcnlSZWYuY3VycmVudC5vZmZzZXRdO1xuICAgICAgICAgICAgaWYgKGxhc3QgJiYgdGltZXN0YW1wIC0gbGFzdC50aW1lc3RhbXAgPCBISVNUT1JZX1RJTUVfR0FQKSB7XG4gICAgICAgICAgICAgICAgLy8gQSBwcmV2aW91cyBlbnRyeSBleGlzdHMgYW5kIHdhcyBpbiBzaG9ydCBpbnRlcnZhbFxuICAgICAgICAgICAgICAgIC8vIE1hdGNoIHRoZSBsYXN0IHdvcmQgaW4gdGhlIGxpbmVcbiAgICAgICAgICAgICAgICB2YXIgcmUgPSAvW15hLXowLTldKFthLXowLTldKykkL2k7XG4gICAgICAgICAgICAgICAgLy8gR2V0IHRoZSBwcmV2aW91cyBsaW5lXG4gICAgICAgICAgICAgICAgdmFyIHByZXZpb3VzID0gKF9hID0gZ2V0TGluZXMobGFzdC52YWx1ZSwgbGFzdC5zZWxlY3Rpb25TdGFydClcbiAgICAgICAgICAgICAgICAgICAgLnBvcCgpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWF0Y2gocmUpO1xuICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgY3VycmVudCBsaW5lXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSAoX2IgPSBnZXRMaW5lcyhyZWNvcmQudmFsdWUsIHJlY29yZC5zZWxlY3Rpb25TdGFydClcbiAgICAgICAgICAgICAgICAgICAgLnBvcCgpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IubWF0Y2gocmUpO1xuICAgICAgICAgICAgICAgIGlmICgocHJldmlvdXMgPT09IG51bGwgfHwgcHJldmlvdXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByZXZpb3VzWzFdKSAmJiAoKF9jID0gY3VycmVudCA9PT0gbnVsbCB8fCBjdXJyZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjdXJyZW50WzFdKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Muc3RhcnRzV2l0aChwcmV2aW91c1sxXSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBsYXN0IHdvcmQgb2YgdGhlIHByZXZpb3VzIGxpbmUgYW5kIGN1cnJlbnQgbGluZSBtYXRjaFxuICAgICAgICAgICAgICAgICAgICAvLyBPdmVyd3JpdGUgcHJldmlvdXMgZW50cnkgc28gdGhhdCB1bmRvIHdpbGwgcmVtb3ZlIHdob2xlIHdvcmRcbiAgICAgICAgICAgICAgICAgICAgaGlzdG9yeVJlZi5jdXJyZW50LnN0YWNrW2hpc3RvcnlSZWYuY3VycmVudC5vZmZzZXRdID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHJlY29yZCksIHsgdGltZXN0YW1wOiB0aW1lc3RhbXAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkIHRoZSBuZXcgb3BlcmF0aW9uIHRvIHRoZSBzdGFja1xuICAgICAgICBoaXN0b3J5UmVmLmN1cnJlbnQuc3RhY2sucHVzaChfX2Fzc2lnbihfX2Fzc2lnbih7fSwgcmVjb3JkKSwgeyB0aW1lc3RhbXA6IHRpbWVzdGFtcCB9KSk7XG4gICAgICAgIGhpc3RvcnlSZWYuY3VycmVudC5vZmZzZXQrKztcbiAgICB9LCBbXSk7XG4gICAgdmFyIHJlY29yZEN1cnJlbnRTdGF0ZSA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGlucHV0ID0gaW5wdXRSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKCFpbnB1dClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgLy8gU2F2ZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBpbnB1dFxuICAgICAgICB2YXIgdmFsdWUgPSBpbnB1dC52YWx1ZSwgc2VsZWN0aW9uU3RhcnQgPSBpbnB1dC5zZWxlY3Rpb25TdGFydCwgc2VsZWN0aW9uRW5kID0gaW5wdXQuc2VsZWN0aW9uRW5kO1xuICAgICAgICByZWNvcmRDaGFuZ2Uoe1xuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgc2VsZWN0aW9uU3RhcnQ6IHNlbGVjdGlvblN0YXJ0LFxuICAgICAgICAgICAgc2VsZWN0aW9uRW5kOiBzZWxlY3Rpb25FbmQsXG4gICAgICAgIH0pO1xuICAgIH0sIFtyZWNvcmRDaGFuZ2VdKTtcbiAgICB2YXIgdXBkYXRlSW5wdXQgPSBmdW5jdGlvbiAocmVjb3JkKSB7XG4gICAgICAgIHZhciBpbnB1dCA9IGlucHV0UmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghaW5wdXQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIC8vIFVwZGF0ZSB2YWx1ZXMgYW5kIHNlbGVjdGlvbiBzdGF0ZVxuICAgICAgICBpbnB1dC52YWx1ZSA9IHJlY29yZC52YWx1ZTtcbiAgICAgICAgaW5wdXQuc2VsZWN0aW9uU3RhcnQgPSByZWNvcmQuc2VsZWN0aW9uU3RhcnQ7XG4gICAgICAgIGlucHV0LnNlbGVjdGlvbkVuZCA9IHJlY29yZC5zZWxlY3Rpb25FbmQ7XG4gICAgICAgIG9uVmFsdWVDaGFuZ2UgPT09IG51bGwgfHwgb25WYWx1ZUNoYW5nZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25WYWx1ZUNoYW5nZShyZWNvcmQudmFsdWUpO1xuICAgIH07XG4gICAgdmFyIGFwcGx5RWRpdHMgPSBmdW5jdGlvbiAocmVjb3JkKSB7XG4gICAgICAgIC8vIFNhdmUgbGFzdCBzZWxlY3Rpb24gc3RhdGVcbiAgICAgICAgdmFyIGlucHV0ID0gaW5wdXRSZWYuY3VycmVudDtcbiAgICAgICAgdmFyIGxhc3QgPSBoaXN0b3J5UmVmLmN1cnJlbnQuc3RhY2tbaGlzdG9yeVJlZi5jdXJyZW50Lm9mZnNldF07XG4gICAgICAgIGlmIChsYXN0ICYmIGlucHV0KSB7XG4gICAgICAgICAgICBoaXN0b3J5UmVmLmN1cnJlbnQuc3RhY2tbaGlzdG9yeVJlZi5jdXJyZW50Lm9mZnNldF0gPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgbGFzdCksIHsgc2VsZWN0aW9uU3RhcnQ6IGlucHV0LnNlbGVjdGlvblN0YXJ0LCBzZWxlY3Rpb25FbmQ6IGlucHV0LnNlbGVjdGlvbkVuZCB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTYXZlIHRoZSBjaGFuZ2VzXG4gICAgICAgIHJlY29yZENoYW5nZShyZWNvcmQpO1xuICAgICAgICB1cGRhdGVJbnB1dChyZWNvcmQpO1xuICAgIH07XG4gICAgdmFyIHVuZG9FZGl0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSBoaXN0b3J5UmVmLmN1cnJlbnQsIHN0YWNrID0gX2Euc3RhY2ssIG9mZnNldCA9IF9hLm9mZnNldDtcbiAgICAgICAgLy8gR2V0IHRoZSBwcmV2aW91cyBlZGl0XG4gICAgICAgIHZhciByZWNvcmQgPSBzdGFja1tvZmZzZXQgLSAxXTtcbiAgICAgICAgaWYgKHJlY29yZCkge1xuICAgICAgICAgICAgLy8gQXBwbHkgdGhlIGNoYW5nZXMgYW5kIHVwZGF0ZSB0aGUgb2Zmc2V0XG4gICAgICAgICAgICB1cGRhdGVJbnB1dChyZWNvcmQpO1xuICAgICAgICAgICAgaGlzdG9yeVJlZi5jdXJyZW50Lm9mZnNldCA9IE1hdGgubWF4KG9mZnNldCAtIDEsIDApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgcmVkb0VkaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IGhpc3RvcnlSZWYuY3VycmVudCwgc3RhY2sgPSBfYS5zdGFjaywgb2Zmc2V0ID0gX2Eub2Zmc2V0O1xuICAgICAgICAvLyBHZXQgdGhlIG5leHQgZWRpdFxuICAgICAgICB2YXIgcmVjb3JkID0gc3RhY2tbb2Zmc2V0ICsgMV07XG4gICAgICAgIGlmIChyZWNvcmQpIHtcbiAgICAgICAgICAgIC8vIEFwcGx5IHRoZSBjaGFuZ2VzIGFuZCB1cGRhdGUgdGhlIG9mZnNldFxuICAgICAgICAgICAgdXBkYXRlSW5wdXQocmVjb3JkKTtcbiAgICAgICAgICAgIGhpc3RvcnlSZWYuY3VycmVudC5vZmZzZXQgPSBNYXRoLm1pbihvZmZzZXQgKyAxLCBzdGFjay5sZW5ndGggLSAxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIGhhbmRsZUtleURvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAob25LZXlEb3duKSB7XG4gICAgICAgICAgICBvbktleURvd24oZSk7XG4gICAgICAgICAgICBpZiAoZS5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlLmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5ibHVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hID0gZS5jdXJyZW50VGFyZ2V0LCB2YWx1ZSA9IF9hLnZhbHVlLCBzZWxlY3Rpb25TdGFydCA9IF9hLnNlbGVjdGlvblN0YXJ0LCBzZWxlY3Rpb25FbmQgPSBfYS5zZWxlY3Rpb25FbmQ7XG4gICAgICAgIHZhciB0YWJDaGFyYWN0ZXIgPSAoaW5zZXJ0U3BhY2VzID8gJyAnIDogJ1xcdCcpLnJlcGVhdCh0YWJTaXplKTtcbiAgICAgICAgaWYgKGUua2V5ID09PSAnVGFiJyAmJiAhaWdub3JlVGFiS2V5ICYmIGNhcHR1cmUpIHtcbiAgICAgICAgICAgIC8vIFByZXZlbnQgZm9jdXMgY2hhbmdlXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBpZiAoZS5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgIC8vIFVuaW5kZW50IHNlbGVjdGVkIGxpbmVzXG4gICAgICAgICAgICAgICAgdmFyIGxpbmVzQmVmb3JlQ2FyZXQgPSBnZXRMaW5lcyh2YWx1ZSwgc2VsZWN0aW9uU3RhcnQpO1xuICAgICAgICAgICAgICAgIHZhciBzdGFydExpbmVfMSA9IGxpbmVzQmVmb3JlQ2FyZXQubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICB2YXIgZW5kTGluZV8xID0gZ2V0TGluZXModmFsdWUsIHNlbGVjdGlvbkVuZCkubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICB2YXIgbmV4dFZhbHVlID0gdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgLnNwbGl0KCdcXG4nKVxuICAgICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChsaW5lLCBpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpID49IHN0YXJ0TGluZV8xICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBpIDw9IGVuZExpbmVfMSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZS5zdGFydHNXaXRoKHRhYkNoYXJhY3RlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsaW5lLnN1YnN0cmluZyh0YWJDaGFyYWN0ZXIubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGluZTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuam9pbignXFxuJyk7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBuZXh0VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0TGluZVRleHQgPSBsaW5lc0JlZm9yZUNhcmV0W3N0YXJ0TGluZV8xXTtcbiAgICAgICAgICAgICAgICAgICAgYXBwbHlFZGl0cyh7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbmV4dFZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTW92ZSB0aGUgc3RhcnQgY3Vyc29yIGlmIGZpcnN0IGxpbmUgaW4gc2VsZWN0aW9uIHdhcyBtb2RpZmllZFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSXQgd2FzIG1vZGlmaWVkIG9ubHkgaWYgaXQgc3RhcnRlZCB3aXRoIGEgdGFiXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25TdGFydDogKHN0YXJ0TGluZVRleHQgPT09IG51bGwgfHwgc3RhcnRMaW5lVGV4dCA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3RhcnRMaW5lVGV4dC5zdGFydHNXaXRoKHRhYkNoYXJhY3RlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzZWxlY3Rpb25TdGFydCAtIHRhYkNoYXJhY3Rlci5sZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNlbGVjdGlvblN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTW92ZSB0aGUgZW5kIGN1cnNvciBieSB0b3RhbCBudW1iZXIgb2YgY2hhcmFjdGVycyByZW1vdmVkXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25FbmQ6IHNlbGVjdGlvbkVuZCAtICh2YWx1ZS5sZW5ndGggLSBuZXh0VmFsdWUubGVuZ3RoKSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc2VsZWN0aW9uU3RhcnQgIT09IHNlbGVjdGlvbkVuZCkge1xuICAgICAgICAgICAgICAgIC8vIEluZGVudCBzZWxlY3RlZCBsaW5lc1xuICAgICAgICAgICAgICAgIHZhciBsaW5lc0JlZm9yZUNhcmV0ID0gZ2V0TGluZXModmFsdWUsIHNlbGVjdGlvblN0YXJ0KTtcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnRMaW5lXzIgPSBsaW5lc0JlZm9yZUNhcmV0Lmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgdmFyIGVuZExpbmVfMiA9IGdldExpbmVzKHZhbHVlLCBzZWxlY3Rpb25FbmQpLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0TGluZVRleHQgPSBsaW5lc0JlZm9yZUNhcmV0W3N0YXJ0TGluZV8yXTtcbiAgICAgICAgICAgICAgICBhcHBseUVkaXRzKHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJ1xcbicpXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChsaW5lLCBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA+PSBzdGFydExpbmVfMiAmJiBpIDw9IGVuZExpbmVfMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJDaGFyYWN0ZXIgKyBsaW5lO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxpbmU7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuam9pbignXFxuJyksXG4gICAgICAgICAgICAgICAgICAgIC8vIE1vdmUgdGhlIHN0YXJ0IGN1cnNvciBieSBudW1iZXIgb2YgY2hhcmFjdGVycyBhZGRlZCBpbiBmaXJzdCBsaW5lIG9mIHNlbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCBtb3ZlIGl0IGlmIGl0IHRoZXJlIHdhcyBubyB0ZXh0IGJlZm9yZSBjdXJzb3JcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uU3RhcnQ6IHN0YXJ0TGluZVRleHQgJiYgL1xcUy8udGVzdChzdGFydExpbmVUZXh0KVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBzZWxlY3Rpb25TdGFydCArIHRhYkNoYXJhY3Rlci5sZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgICAgIDogc2VsZWN0aW9uU3RhcnQsXG4gICAgICAgICAgICAgICAgICAgIC8vIE1vdmUgdGhlIGVuZCBjdXJzb3IgYnkgdG90YWwgbnVtYmVyIG9mIGNoYXJhY3RlcnMgYWRkZWRcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uRW5kOiBzZWxlY3Rpb25FbmQgKyB0YWJDaGFyYWN0ZXIubGVuZ3RoICogKGVuZExpbmVfMiAtIHN0YXJ0TGluZV8yICsgMSksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgdXBkYXRlZFNlbGVjdGlvbiA9IHNlbGVjdGlvblN0YXJ0ICsgdGFiQ2hhcmFjdGVyLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBhcHBseUVkaXRzKHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSW5zZXJ0IHRhYiBjaGFyYWN0ZXIgYXQgY2FyZXRcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLnN1YnN0cmluZygwLCBzZWxlY3Rpb25TdGFydCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFiQ2hhcmFjdGVyICtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLnN1YnN0cmluZyhzZWxlY3Rpb25FbmQpLFxuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgY2FyZXQgcG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uU3RhcnQ6IHVwZGF0ZWRTZWxlY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbkVuZDogdXBkYXRlZFNlbGVjdGlvbixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlLmtleSA9PT0gJ0JhY2tzcGFjZScpIHtcbiAgICAgICAgICAgIHZhciBoYXNTZWxlY3Rpb24gPSBzZWxlY3Rpb25TdGFydCAhPT0gc2VsZWN0aW9uRW5kO1xuICAgICAgICAgICAgdmFyIHRleHRCZWZvcmVDYXJldCA9IHZhbHVlLnN1YnN0cmluZygwLCBzZWxlY3Rpb25TdGFydCk7XG4gICAgICAgICAgICBpZiAodGV4dEJlZm9yZUNhcmV0LmVuZHNXaXRoKHRhYkNoYXJhY3RlcikgJiYgIWhhc1NlbGVjdGlvbikge1xuICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgZGVmYXVsdCBkZWxldGUgYmVoYXZpb3VyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHZhciB1cGRhdGVkU2VsZWN0aW9uID0gc2VsZWN0aW9uU3RhcnQgLSB0YWJDaGFyYWN0ZXIubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGFwcGx5RWRpdHMoe1xuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGFiIGNoYXJhY3RlciBhdCBjYXJldFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUuc3Vic3RyaW5nKDAsIHNlbGVjdGlvblN0YXJ0IC0gdGFiQ2hhcmFjdGVyLmxlbmd0aCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUuc3Vic3RyaW5nKHNlbGVjdGlvbkVuZCksXG4gICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBjYXJldCBwb3NpdGlvblxuICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25TdGFydDogdXBkYXRlZFNlbGVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uRW5kOiB1cGRhdGVkU2VsZWN0aW9uLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGUua2V5ID09PSAnRW50ZXInKSB7XG4gICAgICAgICAgICAvLyBJZ25vcmUgc2VsZWN0aW9uc1xuICAgICAgICAgICAgaWYgKHNlbGVjdGlvblN0YXJ0ID09PSBzZWxlY3Rpb25FbmQpIHtcbiAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIGN1cnJlbnQgbGluZVxuICAgICAgICAgICAgICAgIHZhciBsaW5lID0gZ2V0TGluZXModmFsdWUsIHNlbGVjdGlvblN0YXJ0KS5wb3AoKTtcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IGxpbmUgPT09IG51bGwgfHwgbGluZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbGluZS5tYXRjaCgvXlxccysvKTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hlcyA9PT0gbnVsbCB8fCBtYXRjaGVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtYXRjaGVzWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJlc2VydmUgaW5kZW50YXRpb24gb24gaW5zZXJ0aW5nIGEgbmV3IGxpbmVcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGVudCA9ICdcXG4nICsgbWF0Y2hlc1swXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVwZGF0ZWRTZWxlY3Rpb24gPSBzZWxlY3Rpb25TdGFydCArIGluZGVudC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGFwcGx5RWRpdHMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW5zZXJ0IGluZGVudGF0aW9uIGNoYXJhY3RlciBhdCBjYXJldFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLnN1YnN0cmluZygwLCBzZWxlY3Rpb25TdGFydCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGVudCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUuc3Vic3RyaW5nKHNlbGVjdGlvbkVuZCksXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgY2FyZXQgcG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvblN0YXJ0OiB1cGRhdGVkU2VsZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uRW5kOiB1cGRhdGVkU2VsZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09PSBLRVlDT0RFX1BBUkVOUyB8fFxuICAgICAgICAgICAgZS5rZXlDb2RlID09PSBLRVlDT0RFX0JSQUNLRVRTIHx8XG4gICAgICAgICAgICBlLmtleUNvZGUgPT09IEtFWUNPREVfUVVPVEUgfHxcbiAgICAgICAgICAgIGUua2V5Q29kZSA9PT0gS0VZQ09ERV9CQUNLX1FVT1RFKSB7XG4gICAgICAgICAgICB2YXIgY2hhcnMgPSB2b2lkIDA7XG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSBLRVlDT0RFX1BBUkVOUyAmJiBlLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgY2hhcnMgPSBbJygnLCAnKSddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09PSBLRVlDT0RFX0JSQUNLRVRTKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhcnMgPSBbJ3snLCAnfSddO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhcnMgPSBbJ1snLCAnXSddO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gS0VZQ09ERV9RVU9URSkge1xuICAgICAgICAgICAgICAgIGlmIChlLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYXJzID0gWydcIicsICdcIiddO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhcnMgPSBbXCInXCIsIFwiJ1wiXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT09IEtFWUNPREVfQkFDS19RVU9URSAmJiAhZS5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgIGNoYXJzID0gWydgJywgJ2AnXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHRleHQgaXMgc2VsZWN0ZWQsIHdyYXAgdGhlbSBpbiB0aGUgY2hhcmFjdGVyc1xuICAgICAgICAgICAgaWYgKHNlbGVjdGlvblN0YXJ0ICE9PSBzZWxlY3Rpb25FbmQgJiYgY2hhcnMpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgYXBwbHlFZGl0cyh7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZS5zdWJzdHJpbmcoMCwgc2VsZWN0aW9uU3RhcnQpICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJzWzBdICtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLnN1YnN0cmluZyhzZWxlY3Rpb25TdGFydCwgc2VsZWN0aW9uRW5kKSArXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFyc1sxXSArXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5zdWJzdHJpbmcoc2VsZWN0aW9uRW5kKSxcbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGNhcmV0IHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvblN0YXJ0OiBzZWxlY3Rpb25TdGFydCxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uRW5kOiBzZWxlY3Rpb25FbmQgKyAyLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChpc01hY0xpa2VcbiAgICAgICAgICAgID8gLy8gVHJpZ2dlciB1bmRvIHdpdGgg4oyYK1ogb24gTWFjXG4gICAgICAgICAgICAgICAgZS5tZXRhS2V5ICYmIGUua2V5Q29kZSA9PT0gS0VZQ09ERV9aXG4gICAgICAgICAgICA6IC8vIFRyaWdnZXIgdW5kbyB3aXRoIEN0cmwrWiBvbiBvdGhlciBwbGF0Zm9ybXNcbiAgICAgICAgICAgICAgICBlLmN0cmxLZXkgJiYgZS5rZXlDb2RlID09PSBLRVlDT0RFX1opICYmXG4gICAgICAgICAgICAhZS5zaGlmdEtleSAmJlxuICAgICAgICAgICAgIWUuYWx0S2V5KSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB1bmRvRWRpdCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChpc01hY0xpa2VcbiAgICAgICAgICAgID8gLy8gVHJpZ2dlciByZWRvIHdpdGgg4oyYK1NoaWZ0K1ogb24gTWFjXG4gICAgICAgICAgICAgICAgZS5tZXRhS2V5ICYmIGUua2V5Q29kZSA9PT0gS0VZQ09ERV9aICYmIGUuc2hpZnRLZXlcbiAgICAgICAgICAgIDogaXNXaW5kb3dzXG4gICAgICAgICAgICAgICAgPyAvLyBUcmlnZ2VyIHJlZG8gd2l0aCBDdHJsK1kgb24gV2luZG93c1xuICAgICAgICAgICAgICAgICAgICBlLmN0cmxLZXkgJiYgZS5rZXlDb2RlID09PSBLRVlDT0RFX1lcbiAgICAgICAgICAgICAgICA6IC8vIFRyaWdnZXIgcmVkbyB3aXRoIEN0cmwrU2hpZnQrWiBvbiBvdGhlciBwbGF0Zm9ybXNcbiAgICAgICAgICAgICAgICAgICAgZS5jdHJsS2V5ICYmIGUua2V5Q29kZSA9PT0gS0VZQ09ERV9aICYmIGUuc2hpZnRLZXkpICYmXG4gICAgICAgICAgICAhZS5hbHRLZXkpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHJlZG9FZGl0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09PSBLRVlDT0RFX00gJiZcbiAgICAgICAgICAgIGUuY3RybEtleSAmJlxuICAgICAgICAgICAgKGlzTWFjTGlrZSA/IGUuc2hpZnRLZXkgOiB0cnVlKSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgLy8gVG9nZ2xlIGNhcHR1cmluZyB0YWIga2V5IHNvIHVzZXJzIGNhbiBmb2N1cyBhd2F5XG4gICAgICAgICAgICBzZXRDYXB0dXJlKGZ1bmN0aW9uIChwcmV2KSB7IHJldHVybiAhcHJldjsgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBoYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgX2EgPSBlLmN1cnJlbnRUYXJnZXQsIHZhbHVlID0gX2EudmFsdWUsIHNlbGVjdGlvblN0YXJ0ID0gX2Euc2VsZWN0aW9uU3RhcnQsIHNlbGVjdGlvbkVuZCA9IF9hLnNlbGVjdGlvbkVuZDtcbiAgICAgICAgcmVjb3JkQ2hhbmdlKHtcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIHNlbGVjdGlvblN0YXJ0OiBzZWxlY3Rpb25TdGFydCxcbiAgICAgICAgICAgIHNlbGVjdGlvbkVuZDogc2VsZWN0aW9uRW5kLFxuICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgb25WYWx1ZUNoYW5nZSh2YWx1ZSk7XG4gICAgfTtcbiAgICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICByZWNvcmRDdXJyZW50U3RhdGUoKTtcbiAgICB9LCBbcmVjb3JkQ3VycmVudFN0YXRlXSk7XG4gICAgUmVhY3QudXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGdldCBzZXNzaW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGhpc3Rvcnk6IGhpc3RvcnlSZWYuY3VycmVudCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBzZXNzaW9uKHNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICBoaXN0b3J5UmVmLmN1cnJlbnQgPSBzZXNzaW9uLmhpc3Rvcnk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX19hc3NpZ24oe30sIHJlc3QsIHsgc3R5bGU6IF9fYXNzaWduKF9fYXNzaWduKHt9LCBzdHlsZXMuY29udGFpbmVyKSwgc3R5bGUpIH0pLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwicHJlXCIsIF9fYXNzaWduKHsgY2xhc3NOYW1lOiBwcmVDbGFzc05hbWUsIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIsIHN0eWxlOiBfX2Fzc2lnbihfX2Fzc2lnbihfX2Fzc2lnbih7fSwgc3R5bGVzLmVkaXRvciksIHN0eWxlcy5oaWdobGlnaHQpLCBjb250ZW50U3R5bGUpIH0sICh0eXBlb2YgaGlnaGxpZ2h0ZWQgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICA/IHsgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHsgX19odG1sOiBoaWdobGlnaHRlZCArICc8YnIgLz4nIH0gfVxuICAgICAgICAgICAgOiB7IGNoaWxkcmVuOiBoaWdobGlnaHRlZCB9KSkpLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIiwgeyByZWY6IGZ1bmN0aW9uIChjKSB7IHJldHVybiAoaW5wdXRSZWYuY3VycmVudCA9IGMpOyB9LCBzdHlsZTogX19hc3NpZ24oX19hc3NpZ24oX19hc3NpZ24oe30sIHN0eWxlcy5lZGl0b3IpLCBzdHlsZXMudGV4dGFyZWEpLCBjb250ZW50U3R5bGUpLCBjbGFzc05hbWU6IGNsYXNzTmFtZSArICh0ZXh0YXJlYUNsYXNzTmFtZSA/IFwiIFwiLmNvbmNhdCh0ZXh0YXJlYUNsYXNzTmFtZSkgOiAnJyksIGlkOiB0ZXh0YXJlYUlkLCB2YWx1ZTogdmFsdWUsIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsIG9uS2V5RG93bjogaGFuZGxlS2V5RG93biwgb25DbGljazogb25DbGljaywgb25LZXlVcDogb25LZXlVcCwgb25Gb2N1czogb25Gb2N1cywgb25CbHVyOiBvbkJsdXIsIGRpc2FibGVkOiBkaXNhYmxlZCwgZm9ybTogZm9ybSwgbWF4TGVuZ3RoOiBtYXhMZW5ndGgsIG1pbkxlbmd0aDogbWluTGVuZ3RoLCBuYW1lOiBuYW1lLCBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIsIHJlYWRPbmx5OiByZWFkT25seSwgcmVxdWlyZWQ6IHJlcXVpcmVkLCBhdXRvRm9jdXM6IGF1dG9Gb2N1cywgYXV0b0NhcGl0YWxpemU6IFwib2ZmXCIsIGF1dG9Db21wbGV0ZTogXCJvZmZcIiwgYXV0b0NvcnJlY3Q6IFwib2ZmXCIsIHNwZWxsQ2hlY2s6IGZhbHNlLCBcImRhdGEtZ3JhbW1cIjogZmFsc2UgfSksXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiLCB7IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7IF9faHRtbDogY3NzVGV4dCB9IH0pKSk7XG59KTtcbnZhciBzdHlsZXMgPSB7XG4gICAgY29udGFpbmVyOiB7XG4gICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICB0ZXh0QWxpZ246ICdsZWZ0JyxcbiAgICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICAgIHBhZGRpbmc6IDAsXG4gICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICB9LFxuICAgIHRleHRhcmVhOiB7XG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICB0b3A6IDAsXG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICByZXNpemU6ICdub25lJyxcbiAgICAgICAgY29sb3I6ICdpbmhlcml0JyxcbiAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgICBNb3pPc3hGb250U21vb3RoaW5nOiAnZ3JheXNjYWxlJyxcbiAgICAgICAgV2Via2l0Rm9udFNtb290aGluZzogJ2FudGlhbGlhc2VkJyxcbiAgICAgICAgV2Via2l0VGV4dEZpbGxDb2xvcjogJ3RyYW5zcGFyZW50JyxcbiAgICB9LFxuICAgIGhpZ2hsaWdodDoge1xuICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgIH0sXG4gICAgZWRpdG9yOiB7XG4gICAgICAgIG1hcmdpbjogMCxcbiAgICAgICAgYm9yZGVyOiAwLFxuICAgICAgICBiYWNrZ3JvdW5kOiAnbm9uZScsXG4gICAgICAgIGJveFNpemluZzogJ2luaGVyaXQnLFxuICAgICAgICBkaXNwbGF5OiAnaW5oZXJpdCcsXG4gICAgICAgIGZvbnRGYW1pbHk6ICdpbmhlcml0JyxcbiAgICAgICAgZm9udFNpemU6ICdpbmhlcml0JyxcbiAgICAgICAgZm9udFN0eWxlOiAnaW5oZXJpdCcsXG4gICAgICAgIGZvbnRWYXJpYW50TGlnYXR1cmVzOiAnaW5oZXJpdCcsXG4gICAgICAgIGZvbnRXZWlnaHQ6ICdpbmhlcml0JyxcbiAgICAgICAgbGV0dGVyU3BhY2luZzogJ2luaGVyaXQnLFxuICAgICAgICBsaW5lSGVpZ2h0OiAnaW5oZXJpdCcsXG4gICAgICAgIHRhYlNpemU6ICdpbmhlcml0JyxcbiAgICAgICAgdGV4dEluZGVudDogJ2luaGVyaXQnLFxuICAgICAgICB0ZXh0UmVuZGVyaW5nOiAnaW5oZXJpdCcsXG4gICAgICAgIHRleHRUcmFuc2Zvcm06ICdpbmhlcml0JyxcbiAgICAgICAgd2hpdGVTcGFjZTogJ3ByZS13cmFwJyxcbiAgICAgICAgd29yZEJyZWFrOiAna2VlcC1hbGwnLFxuICAgICAgICBvdmVyZmxvd1dyYXA6ICdicmVhay13b3JkJyxcbiAgICB9LFxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IEVkaXRvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIi8qKlxuICogQGltcG9ydCB7TURYQ29tcG9uZW50c30gZnJvbSAnbWR4L3R5cGVzLmpzJ1xuICogQGltcG9ydCB7Q29tcG9uZW50LCBSZWFjdEVsZW1lbnQsIFJlYWN0Tm9kZX0gZnJvbSAncmVhY3QnXG4gKi9cblxuLyoqXG4gKiBAY2FsbGJhY2sgTWVyZ2VDb21wb25lbnRzXG4gKiAgIEN1c3RvbSBtZXJnZSBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7UmVhZG9ubHk8TURYQ29tcG9uZW50cz59IGN1cnJlbnRDb21wb25lbnRzXG4gKiAgIEN1cnJlbnQgY29tcG9uZW50cyBmcm9tIHRoZSBjb250ZXh0LlxuICogQHJldHVybnMge01EWENvbXBvbmVudHN9XG4gKiAgIEFkZGl0aW9uYWwgY29tcG9uZW50cy5cbiAqXG4gKiBAdHlwZWRlZiBQcm9wc1xuICogICBDb25maWd1cmF0aW9uIGZvciBgTURYUHJvdmlkZXJgLlxuICogQHByb3BlcnR5IHtSZWFjdE5vZGUgfCBudWxsIHwgdW5kZWZpbmVkfSBbY2hpbGRyZW5dXG4gKiAgIENoaWxkcmVuIChvcHRpb25hbCkuXG4gKiBAcHJvcGVydHkge1JlYWRvbmx5PE1EWENvbXBvbmVudHM+IHwgTWVyZ2VDb21wb25lbnRzIHwgbnVsbCB8IHVuZGVmaW5lZH0gW2NvbXBvbmVudHNdXG4gKiAgIEFkZGl0aW9uYWwgY29tcG9uZW50cyB0byB1c2Ugb3IgYSBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgdGhlbSAob3B0aW9uYWwpLlxuICogQHByb3BlcnR5IHtib29sZWFuIHwgbnVsbCB8IHVuZGVmaW5lZH0gW2Rpc2FibGVQYXJlbnRDb250ZXh0PWZhbHNlXVxuICogICBUdXJuIG9mZiBvdXRlciBjb21wb25lbnQgY29udGV4dCAoZGVmYXVsdDogYGZhbHNlYCkuXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG4vKiogQHR5cGUge1JlYWRvbmx5PE1EWENvbXBvbmVudHM+fSAqL1xuY29uc3QgZW1wdHlDb21wb25lbnRzID0ge31cblxuY29uc3QgTURYQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQoZW1wdHlDb21wb25lbnRzKVxuXG4vKipcbiAqIEdldCBjdXJyZW50IGNvbXBvbmVudHMgZnJvbSB0aGUgTURYIENvbnRleHQuXG4gKlxuICogQHBhcmFtIHtSZWFkb25seTxNRFhDb21wb25lbnRzPiB8IE1lcmdlQ29tcG9uZW50cyB8IG51bGwgfCB1bmRlZmluZWR9IFtjb21wb25lbnRzXVxuICogICBBZGRpdGlvbmFsIGNvbXBvbmVudHMgdG8gdXNlIG9yIGEgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIHRoZW0gKG9wdGlvbmFsKS5cbiAqIEByZXR1cm5zIHtNRFhDb21wb25lbnRzfVxuICogICBDdXJyZW50IGNvbXBvbmVudHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VNRFhDb21wb25lbnRzKGNvbXBvbmVudHMpIHtcbiAgY29uc3QgY29udGV4dENvbXBvbmVudHMgPSBSZWFjdC51c2VDb250ZXh0KE1EWENvbnRleHQpXG5cbiAgLy8gTWVtb2l6ZSB0byBhdm9pZCB1bm5lY2Vzc2FyeSB0b3AtbGV2ZWwgY29udGV4dCBjaGFuZ2VzXG4gIHJldHVybiBSZWFjdC51c2VNZW1vKFxuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIEN1c3RvbSBtZXJnZSB2aWEgYSBmdW5jdGlvbiBwcm9wXG4gICAgICBpZiAodHlwZW9mIGNvbXBvbmVudHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudHMoY29udGV4dENvbXBvbmVudHMpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7Li4uY29udGV4dENvbXBvbmVudHMsIC4uLmNvbXBvbmVudHN9XG4gICAgfSxcbiAgICBbY29udGV4dENvbXBvbmVudHMsIGNvbXBvbmVudHNdXG4gIClcbn1cblxuLyoqXG4gKiBQcm92aWRlciBmb3IgTURYIGNvbnRleHQuXG4gKlxuICogQHBhcmFtIHtSZWFkb25seTxQcm9wcz59IHByb3BlcnRpZXNcbiAqICAgUHJvcGVydGllcy5cbiAqIEByZXR1cm5zIHtSZWFjdEVsZW1lbnR9XG4gKiAgIEVsZW1lbnQuXG4gKiBAc2F0aXNmaWVzIHtDb21wb25lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBNRFhQcm92aWRlcihwcm9wZXJ0aWVzKSB7XG4gIC8qKiBAdHlwZSB7UmVhZG9ubHk8TURYQ29tcG9uZW50cz59ICovXG4gIGxldCBhbGxDb21wb25lbnRzXG5cbiAgaWYgKHByb3BlcnRpZXMuZGlzYWJsZVBhcmVudENvbnRleHQpIHtcbiAgICBhbGxDb21wb25lbnRzID1cbiAgICAgIHR5cGVvZiBwcm9wZXJ0aWVzLmNvbXBvbmVudHMgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyBwcm9wZXJ0aWVzLmNvbXBvbmVudHMoZW1wdHlDb21wb25lbnRzKVxuICAgICAgICA6IHByb3BlcnRpZXMuY29tcG9uZW50cyB8fCBlbXB0eUNvbXBvbmVudHNcbiAgfSBlbHNlIHtcbiAgICBhbGxDb21wb25lbnRzID0gdXNlTURYQ29tcG9uZW50cyhwcm9wZXJ0aWVzLmNvbXBvbmVudHMpXG4gIH1cblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICBNRFhDb250ZXh0LlByb3ZpZGVyLFxuICAgIHt2YWx1ZTogYWxsQ29tcG9uZW50c30sXG4gICAgcHJvcGVydGllcy5jaGlsZHJlblxuICApXG59XG4iXSwibmFtZXMiOlsiT2JqZWN0IiwiYXJndW1lbnRzIiwid2luZG93IiwibmF2aWdhdG9yIiwibSIsImMiLCJNYXRoIiwiRGF0ZSIsInAiLCJyIiwic2Vzc2lvbiIsImUiXSwibWFwcGluZ3MiOiJ3SEFDQSxJQUFJLEVBQVcsQUFBQyxJQUFJLEVBQUksSUFBSSxDQUFDLFFBQVEsRUFBSyxXQVN0QyxNQUFPLEFBUlAsR0FBV0EsT0FBTyxNQUFNLEVBQUksU0FBUyxDQUFDLEVBQ2xDLElBQUssSUFBSSxFQUFHLEVBQUksRUFBRyxFQUFJQyxVQUFVLE1BQU0sQ0FBRSxFQUFJLEVBQUcsSUFFNUMsSUFBSyxJ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