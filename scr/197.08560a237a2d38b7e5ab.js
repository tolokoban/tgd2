"use strict";(self.webpackChunk_tolokoban_tgd=self.webpackChunk_tolokoban_tgd||[]).push([[197],{3529:(n,e,t)=>{t.d(e,{A:()=>r});var s=t(1601),a=t.n(s),i=t(6314),o=t.n(i)()(a());o.push([n.id,".TivnAbABYZdpWW9GZs6n {\n}\n",""]),o.locals={action:"TivnAbABYZdpWW9GZs6n"};const r=o},778:(n,e,t)=>{t.d(e,{A:()=>r});var s=t(1601),a=t.n(s),i=t(6314),o=t.n(i)()(a());o.push([n.id,".FHDDVaFyhGXfoGBta3yQ {\n}\n",""]),o.locals={actionNode:"FHDDVaFyhGXfoGBta3yQ"};const r=o},3829:(n,e,t)=>{t.d(e,{A:()=>r});var s=t(1601),a=t.n(s),i=t(6314),o=t.n(i)()(a());o.push([n.id,".H9dDNSbXjsX6jN3Bf3xh {\n}\n",""]),o.locals={actionNodeCamera:"H9dDNSbXjsX6jN3Bf3xh"};const r=o},4457:(n,e,t)=>{t.d(e,{A:()=>r});var s=t(1601),a=t.n(s),i=t(6314),o=t.n(i)()(a());o.push([n.id,".p9Kbtkuegy0iOh66GNDX {\n}\n",""]),o.locals={actionNodeMesh:"p9Kbtkuegy0iOh66GNDX"};const r=o},6163:(n,e,t)=>{t.d(e,{A:()=>r});var s=t(1601),a=t.n(s),i=t(6314),o=t.n(i)()(a());o.push([n.id,".WlQP8S7OoKQ5p9KJGWab {\n    width: 100%;\n    height: 100%;\n}\n\n.WlQP8S7OoKQ5p9KJGWab > * {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n}\n",""]),o.locals={actionNodeRender:"WlQP8S7OoKQ5p9KJGWab"};const r=o},6181:(n,e,t)=>{t.d(e,{A:()=>r});var s=t(1601),a=t.n(s),i=t(6314),o=t.n(i)()(a());o.push([n.id,".YXMiTxYNCxTJZifDB0En {\n}\n",""]),o.locals={actionNodeTransfo:"YXMiTxYNCxTJZifDB0En"};const r=o},9722:(n,e,t)=>{t.d(e,{A:()=>r});var s=t(1601),a=t.n(s),i=t(6314),o=t.n(i)()(a());o.push([n.id,".DDPnQZRYo1kuL7VAHG1j > pre {\n    white-space: pre-wrap;\n}\n",""]),o.locals={verbatin:"DDPnQZRYo1kuL7VAHG1j"};const r=o},5639:(n,e,t)=>{t.d(e,{A:()=>r});var s=t(1601),a=t.n(s),i=t(6314),o=t.n(i)()(a());o.push([n.id,".V3aob0pLE9HcHxN5iVyj > summary {\n    display: flex;\n    flex-wrap: nowrap;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n    gap: 0.5em;\n    cursor: pointer;\n}\n\n.V3aob0pLE9HcHxN5iVyj > div {\n    margin-left: 0.5em;\n    padding-left: 0.5em;\n    border-left: 1px solid color-mix(in srgb, currentColor, transparent);\n}\n\n.PbWyyuXizmAAIbcs5urg {\n    opacity: 0.5;\n}\n",""]),o.locals={expander:"V3aob0pLE9HcHxN5iVyj",handle:"PbWyyuXizmAAIbcs5urg"};const r=o},2799:(n,e,t)=>{t.d(e,{A:()=>r});var s=t(1601),a=t.n(s),i=t(6314),o=t.n(i)()(a());o.push([n.id,".XPMLtzXBRVSrxv_Xe50A {\n}\n",""]),o.locals={gltfTree:"XPMLtzXBRVSrxv_Xe50A"};const r=o},4631:(n,e,t)=>{t.d(e,{A:()=>r});var s=t(1601),a=t.n(s),i=t(6314),o=t.n(i)()(a());o.push([n.id,".NfTq2DFPNmKZMmKZ2Z9s {\n}\n",""]),o.locals={node:"NfTq2DFPNmKZMmKZ2Z9s"};const r=o},4078:(n,e,t)=>{t.d(e,{A:()=>r});var s=t(1601),a=t.n(s),i=t(6314),o=t.n(i)()(a());o.push([n.id,".jgtK2RMH89K4DKGqzXgk {\n}\n",""]),o.locals={viewgltf:"jgtK2RMH89K4DKGqzXgk"};const r=o},607:(n,e,t)=>{t.d(e,{A:()=>r});var s=t(1601),a=t.n(s),i=t(6314),o=t.n(i)()(a());o.push([n.id,".H0UnrqUJgmcVuhNY9Flo {\n    white-space: pre-wrap;\n    font-family: monospace;\n    background-color: #a00;\n    color: #fff;\n    padding: 1em;\n    margin: 1em;\n    box-shadow: 0 0.125em 0.25em #000;\n}\n",""]),o.locals={Error:"H0UnrqUJgmcVuhNY9Flo"};const r=o},107:(n,e,t)=>{t.r(e),t.d(e,{default:()=>Kn});var s=t(4848),a=t(6540),i=t(5968),o=t(5072),r=t.n(o),l=t(7825),c=t.n(l),d=t(7659),u=t.n(d),m=t(5056),h=t.n(m),f=t(540),x=t.n(f),p=t(1113),j=t.n(p),A=t(4078),v={};v.styleTagTransform=j(),v.setAttributes=h(),v.insert=u().bind(null,"head"),v.domAPI=c(),v.insertStyleElement=x(),r()(A.A,v);const b=A.A&&A.A.locals?A.A.locals:void 0;var g=t(5639),y={};y.styleTagTransform=j(),y.setAttributes=h(),y.insert=u().bind(null,"head"),y.domAPI=c(),y.insertStyleElement=x(),r()(g.A,y);const N=g.A&&g.A.locals?g.A.locals:void 0,S=i.Sxu.classNames;function w(n){const[e,t]=a.useState(!1),o=Object.assign(Object.assign({},(0,i.$qi)(n)),n.style),r=n.icon;return(0,s.jsxs)("details",{className:S.join(n.className,N.expander),style:o,onToggle:s=>{var a;s.preventDefault(),s.stopPropagation(),t(!e),null===(a=n.onClick)||void 0===a||a.call(n)},onClick:n.children?void 0:e=>{var t;e.preventDefault(),e.stopPropagation(),null===(t=n.onClick)||void 0===t||t.call(n)},name:n.name,children:[(0,s.jsxs)("summary",{children:[(0,s.jsx)("div",{className:N.handle,children:n.children?e?(0,s.jsx)(i.vpi,{size:"1em"}):(0,s.jsx)(i.DF0,{size:"1em"}):(0,s.jsx)(i.Sg,{size:"1em"})}),r&&(0,s.jsx)(r,{color:"primary-7"}),(0,s.jsx)("span",{children:n.title})]}),(0,s.jsx)("div",{children:n.children})]})}var T=t(2799),P={};P.styleTagTransform=j(),P.setAttributes=h(),P.insert=u().bind(null,"head"),P.domAPI=c(),P.insertStyleElement=x(),r()(T.A,P);const k=T.A&&T.A.locals?T.A.locals:void 0;var C=t(2197);function M(n){return(0,C.Xj)(n,{camera:"number"})}var E=t(4631),X={};X.styleTagTransform=j(),X.setAttributes=h(),X.insert=u().bind(null,"head"),X.domAPI=c(),X.insertStyleElement=x(),r()(E.A,X);const I=E.A&&E.A.locals?E.A.locals:void 0,D=i.Sxu.classNames;function O(n){var e,t;const a=Object.assign({},(0,i.$qi)(n)),o=null===(e=n.data.gltf.nodes)||void 0===e?void 0:e[n.index];if(!o)return null;const r=null!==(t=o.name)&&void 0!==t?t:`#${n.index}`,l=function(n){return M(n)?i.PEB:(e=n,(0,C.Xj)(e,{mesh:"number"})?i.Td5:function(n){return(0,C.Xj)(n,{extensions:{KHR_lights_punctual:{light:"number"}}})}(n)?i.H3I:Array.isArray(n.children)?i.MRx:i.dlJ);var e}(o);return(0,s.jsx)(w,{className:D.join(n.className,I.node),name:n.name,style:a,title:r,onClick:()=>{var e;null===(e=n.onAction)||void 0===e||e.call(n,{type:"node",index:n.index})},icon:l,children:Array.isArray(o.children)&&o.children.map((e=>(0,s.jsx)(O,{data:n.data,index:e,onAction:n.onAction},`#${e}`)))})}function K(n){const{nodes:e}=n.data.gltf;return e?(0,s.jsx)(w,{title:"Nodes",children:e.map(((e,t)=>(0,s.jsx)(O,{data:n.data,index:t,onAction:n.onAction},`#${t}`)))}):(0,s.jsx)("p",{children:"No nodes."})}i.Sxu.classNames;const V=i.Sxu.classNames;function W(n){const e=Object.assign({},(0,i.$qi)(n));return(0,s.jsxs)("div",{className:V.join(n.className,k.gltfTree),style:e,children:[(0,s.jsxs)(w,{title:"GLTF",name:"root",children:[(0,s.jsx)(i.yQN,{variant:"text",color:"secondary-5",fullwidth:!0,onClick:(t={type:"verbatim"},()=>n.onAction(t)),children:"Show verbatim content"}),(0,s.jsx)(K,{data:n.data,onAction:n.onAction})]}),(0,s.jsx)(w,{title:"Chunks",name:"root"})]});var t}var Z=t(4444);const $=t.p+"bin/danatia.b03f55aeadf7e337f613.glb";var H=t(3529),z={};z.styleTagTransform=j(),z.setAttributes=h(),z.insert=u().bind(null,"head"),z.domAPI=c(),z.insertStyleElement=x(),r()(H.A,z);const G=H.A&&H.A.locals?H.A.locals:void 0;var B=t(9722),q={};q.styleTagTransform=j(),q.setAttributes=h(),q.insert=u().bind(null,"head"),q.domAPI=c(),q.insertStyleElement=x(),r()(B.A,q);const J=B.A&&B.A.locals?B.A.locals:void 0,F=i.Sxu.classNames;function Q(n){return(0,s.jsxs)(i.sWC,{className:F.join(n.className,J.verbatin),overflow:"auto",fullsize:!0,color:"neutral-1",padding:"S",children:[(0,s.jsx)(i.yQN,{onClick:()=>console.log(n.data.gltf),children:"Write to console"}),(0,s.jsx)("pre",{children:JSON.stringify(n.data.gltf,null,"  ")})]})}var R=t(2212),L=t(6181),Y={};Y.styleTagTransform=j(),Y.setAttributes=h(),Y.insert=u().bind(null,"head"),Y.domAPI=c(),Y.insertStyleElement=x(),r()(L.A,Y);const U=L.A&&L.A.locals?L.A.locals:void 0,_=i.Sxu.classNames;function nn(n){const e=Object.assign({},(0,i.$qi)(n)),t=["const transfo = new TgdTransfo({"];var a;return en(n.node.translation)&&t.push(`  position: [${n.node.translation.join(", ")}],`),a=n.node.rotation,(0,C.Xj)(a,["array","number",{min:4,max:4}])&&t.push(`  orientation: [${n.node.rotation.join(", ")}],`),en(n.node.scale)&&t.push(`  position: [${n.node.scale.join(", ")}],`),t.push("})"),(0,s.jsx)("div",{className:_.join(n.className,U.actionNodeTransfo),style:e,children:(0,s.jsx)(R.A,{language:"ts",value:t.join("\n")})})}function en(n){return(0,C.Xj)(n,["array","number",{min:3,max:3}])}var tn=t(607),sn={};sn.styleTagTransform=j(),sn.setAttributes=h(),sn.insert=u().bind(null,"head"),sn.domAPI=c(),sn.insertStyleElement=x(),r()(tn.A,sn);const an=tn.A&&tn.A.locals?tn.A.locals:void 0,on=i.Sxu.classNames;function rn({className:n,children:e}){return(0,s.jsx)("div",{className:on.join(n,an.Error),children:e})}var ln=t(3829),cn={};cn.styleTagTransform=j(),cn.setAttributes=h(),cn.insert=u().bind(null,"head"),cn.domAPI=c(),cn.insertStyleElement=x(),r()(ln.A,cn);const dn=ln.A&&ln.A.locals?ln.A.locals:void 0,un=i.Sxu.classNames;function mn(n){var e,t;const a=Object.assign({},(0,i.$qi)(n)),o=null===(e=n.data.gltf.cameras)||void 0===e?void 0:e[null!==(t=n.node.camera)&&void 0!==t?t:-1];if(!o)return(0,s.jsx)(rn,{children:"No camera found!"});const r=function(n,e){var t;const s=[];return(0,Z.JAF)(e)&&(s.push("const camera = new TgdCameraPerspective({",`  fovy: ${e.perspective.yfov},  // around ${Math.round((0,Z.ZvP)(e.perspective.yfov))}Â°`,`  near: ${(0,C.GB)(e.perspective.znear,.001)}`,`  far: ${null!==(t=e.perspective.zfar)&&void 0!==t?t:"Infinity"}`,"  transfo: {","    distrance: 0,"),n.translation&&s.push(`    position: [${n.translation.join(", ")}],`),n.rotation&&s.push(`    orientation: [${n.rotation.join(", ")}],`),n.scale&&s.push(`    scale: [${n.scale.join(", ")}],`),s.push("  }","})")),s.join("\n")}(n.node,o);return(0,s.jsx)("div",{className:un.join(n.className,dn.actionNodeCamera),style:a,children:(0,s.jsx)(R.A,{language:"ts",value:r})})}var hn=t(778),fn={};fn.styleTagTransform=j(),fn.setAttributes=h(),fn.insert=u().bind(null,"head"),fn.domAPI=c(),fn.insertStyleElement=x(),r()(hn.A,fn);const xn=hn.A&&hn.A.locals?hn.A.locals:void 0;var pn=t(6163),jn={};jn.styleTagTransform=j(),jn.setAttributes=h(),jn.insert=u().bind(null,"head"),jn.domAPI=c(),jn.insertStyleElement=x(),r()(pn.A,jn);const An=pn.A&&pn.A.locals?pn.A.locals:void 0;var vn=t(6989);function bn({data:n,node:e}){const t=function(n,e){return a.useCallback((t=>{const s=yn(n,e);t.camera.transfo.position=s.center,t.camera.transfo.distance=2*s.radius,t.camera.far=10*s.radius,new Z.pwt(t,{inertiaOrbit:1e3});const a=new Z.o57(t,{color:[.2,.2,.2,1],depth:1}),i=new Z.Ipk(t,{depth:Z.Eg5.lessOrEqual,children:[gn(n,e,t)]});t.add(a,i),t.paint()}),[n,e])}(n,e);return(0,s.jsx)("div",{className:An.actionNodeRender,children:(0,s.jsx)(vn.A,{onReady:t,width:"100%",height:"100%",gizmo:!0,noBorder:!0},JSON.stringify(e))})}function gn(n,e,t){const s={};e.translation&&(s.position=e.translation),e.rotation&&(s.orientation=e.rotation),e.scale&&(s.scale=e.scale);const a=function(n,e,t){if(!(0,C.Et)(e))return;const s=n.getMesh(e);return new Z.buV({children:s.primitives.map(((s,a)=>new Z.buV({target:new Z.dRj(t,{asset:n,meshIndex:e,primitiveIndex:a})})))})}(n,e.mesh,t),i=[];if(e.children)for(const s of e.children)i.push(gn(n,n.getNode(s),t));return new Z.buV({target:a,transfo:s,children:i})}function yn(n,e){var t;const s=[];(0,C.Et)(e.mesh)&&s.push(Sn(function(n,e){const t=n.getMesh(e);if(!t)return[{center:new Z.hNi,radius:1}];const s=[];for(const e of t.primitives){const t=n.getAccessorByAttributeName(e,"POSITION");if(Nn(t.min)&&Nn(t.max)){const[n,e,a]=t.min,[i,o,r]=t.max;s.push({center:Z.hNi.newFromMix(t.min,t.max),radius:Math.max(Math.abs(i-n),Math.abs(o-e),Math.abs(r-a))})}}return s}(n,e.mesh)));for(const a of null!==(t=e.children)&&void 0!==t?t:[]){const e=n.getNode(a);s.push(yn(n,e))}return function(n,e){const[t,s,a]=n.center,i=new Z.oao(t,s,a,1),o={};e.translation&&(o.position=e.translation),e.rotation&&(o.orientation=e.rotation),e.scale&&(o.scale=e.scale);const r=new Z.tSS(o);i.applyMatrix(r.matrix);const[l,c,d]=r.scale,u=Math.max(l,c,d);return{center:new Z.hNi(i.x,i.y,i.z),radius:n.radius*u}}(Sn(s),e)}function Nn(n){return(0,C.Xj)(n,["array","number",{min:3,max:3}])}function Sn(n){if(0===n.length)return{center:new Z.hNi,radius:1};let e=0,t=0,s=0;for(const{center:a}of n){const[n,i,o]=a;e+=n,t+=i,s+=o}const a=n.length;e/=a,t/=a,s/=a;const i=new Z.hNi(e,t,s);let o=0;for(const{center:e,radius:t}of n)o=Math.max(o,t+Z.hNi.distance(i,new Z.hNi(e)));return{center:i,radius:o}}i.Sxu.classNames;var wn=t(4457),Tn={};Tn.styleTagTransform=j(),Tn.setAttributes=h(),Tn.insert=u().bind(null,"head"),Tn.domAPI=c(),Tn.insertStyleElement=x(),r()(wn.A,Tn);const Pn=wn.A&&wn.A.locals?wn.A.locals:void 0,kn=i.Sxu.classNames;function Cn({className:n,data:e,meshIndex:t}){const a=e.getMesh(t);return a?(0,s.jsx)("div",{className:kn.join(n,Pn.actionNodeMesh),children:(0,s.jsx)("ul",{children:a.primitives.map(((n,t)=>(0,s.jsxs)("li",{children:[(0,s.jsxs)("b",{children:["Primitive ",t]}),Object.keys(n.attributes).map((t=>(0,s.jsx)(w,{title:t,children:(0,s.jsx)("pre",{children:JSON.stringify(e.getAccessor(n.attributes[t]),null,"  ")})},t)))]},t)))})}):(0,s.jsxs)(rn,{children:["No mesh found with index #",t,"!"]})}const Mn=i.Sxu.classNames;function En(n){var e,t;const a=Object.assign({},(0,i.$qi)(n)),o=null===(e=n.data.gltf.nodes)||void 0===e?void 0:e[n.index];return o?(0,s.jsxs)(i.UkC,{orientation:"column",template:"-1",className:Mn.join(n.className,xn.actionNode),children:[(0,s.jsx)(i.sWC,{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"M",color:"primary-5",padding:"S",children:(0,s.jsxs)("div",{children:["Node #",n.index,":"," ",(0,s.jsx)("b",{children:null!==(t=o.name)&&void 0!==t?t:(0,s.jsx)("em",{children:"anonymous"})})]})}),(0,s.jsx)(i.sWC,{style:a,children:(0,s.jsxs)(i.WET,{fullsize:!0,children:[(0,s.jsx)(i.Zdo,{label:"3D View",children:!M(o)&&(0,s.jsx)(bn,{data:n.data,node:o})},"render"),(0,s.jsx)(i.Zdo,{label:"Camera",children:M(o)&&(0,s.jsx)(mn,{data:n.data,node:o})},"camera"),(0,s.jsx)(i.Zdo,{label:"Transformation",children:(0,s.jsx)(nn,{node:o})},"transfo"),(0,s.jsx)(i.Zdo,{label:"Mesh",children:(0,C.Et)(o.mesh)&&(0,s.jsx)(Cn,{data:n.data,meshIndex:o.mesh})},"mesh"),(0,s.jsx)(i.Zdo,{label:"Verbatim",children:(0,s.jsx)("pre",{children:JSON.stringify(o,null,"  ")})},"verbatim")]})})]}):null}const Xn=i.Sxu.classNames;function In(n){const e=Object.assign({},(0,i.$qi)(n));switch(n.action.type){case"verbatim":return(0,s.jsx)(Q,{data:n.data});case"node":return(0,s.jsx)(En,{data:n.data,index:n.action.index});default:return(0,s.jsxs)("div",{className:Xn.join(n.className,G.action),style:e,children:["Don't know what to do with this action:"," ",(0,s.jsx)("pre",{children:JSON.stringify(n.action,null,"  ")}),"."]})}}const Dn=i.Sxu.classNames;function On(n){const[e,t]=a.useState({type:"verbatim"}),[o,r]=function(){const[n,e]=a.useState(null),t=a.useCallback((n=>{(0,Z.vSU)(n).then((n=>{if(!n)return;const t=new Z.FXz(n);e(t)})).catch(console.error)}),[e]);return a.useEffect((()=>{t($)}),[]),[n,t]}();return a.useState(null),(0,s.jsxs)(i.UkC,{className:Dn.join(n.className,b.viewgltf),template:"*1",orientation:"row",fullsize:!0,gap:"8px",children:[(0,s.jsxs)(i.UkC,{template:"*1",orientation:"column",children:[(0,s.jsxs)(i.sWC,{color:"primary-5",display:"flex",justifyContent:"space-between",alignItems:"center",padding:["S","M"],minWidth:"300px",gap:"M",children:[(0,s.jsx)("div",{children:"GLB Viewer"}),o&&(0,s.jsxs)("em",{children:[Math.floor(o.fileSize/1024)," Kb"]}),(0,s.jsx)(i.e3B,{accept:"glb",onLoad:function(n){const[e]=n;e&&r(e)},children:(0,s.jsx)(i.Thu,{})})]}),(0,s.jsxs)(i.sWC,{overflow:"auto",minHeight:"auto",color:"neutral-5",padding:"S",children:[!o&&(0,s.jsx)("div",{children:"Loading..."}),o&&(0,s.jsx)(W,{data:o,onAction:t})]})]}),o&&(0,s.jsx)(In,{action:e,data:o})]})}function Kn(){return(0,s.jsx)(On,{})}}}]);