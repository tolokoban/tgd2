"use strict";(self.webpackChunk_tolokoban_tgd=self.webpackChunk_tolokoban_tgd||[]).push([[883],{8883:(e,n,t)=>{t.r(n),t.d(n,{default:()=>p});var r=t(4848),l=t(8453),o=t(6540),h=t(8766),i=t(2261),s=t(3078),a=t(4088),d=t(7276);function c(e){const n=e.textures2D.create({image:d,width:512,height:512}),t=new s.Ei({uniforms:{uniThreshold:"float"},setUniforms(e,n){const t=2*Math.abs(Math.sin(1e-4*n));e.uniform1f("uniThreshold",t)},fragmentShaderCode:["float threshold = uniThreshold;","vec4 pixel = texture(uniTexture, varUV);","float value = pixel.r + pixel.g + pixel.b;","if (value > threshold) {",["FragColor = vec4(0, 0.2, 0.4, 1.0);"],"} else {",["float strength = (threshold - value) / threshold;","FragColor = vec4(threshold, threshold * .667, threshold * 0.1, 1);"],"}"]});e.add(new s.D$(e,{texture:n,filters:[t]})),e.play()}function u(){return(0,r.jsx)(a.A,{onReady:c,width:"512px",height:"512px"})}const f={"Detail #1":'    const texture = context.textures2D.create({\n        image: BackgroundURL,\n        width: 512,\n        height: 512,\n    })\n    const filter = new TgdFilter({\n        uniforms: {\n            uniThreshold: "float",\n        },\n        setUniforms(program, time) {\n            const threshold = 2 * Math.abs(Math.sin(time * 1e-4))\n            program.uniform1f("uniThreshold", threshold)\n        },\n        fragmentShaderCode: [\n            "float threshold = uniThreshold;",\n            "vec4 pixel = texture(uniTexture, varUV);",\n            "float value = pixel.r + pixel.g + pixel.b;",\n            "if (value > threshold) {",\n            ["FragColor = vec4(0, 0.2, 0.4, 1.0);"],\n            "} else {",\n            [\n                "float strength = (threshold - value) / threshold;",\n                "FragColor = vec4(threshold, threshold * .667, threshold * 0.1, 1);",\n            ],\n            "}",\n        ],\n    })\n    context.add(\n        new TgdPainterFilter(context, {\n            texture,\n            filters: [filter],\n        })\n    )\n    context.play()'},x='import {\n    TgdContext,\n    TgdFilter,\n    TgdFilterBlur,\n    TgdPainterFilter,\n    TgdVec2,\n} from "@tolokoban/tgd"\nimport View from "@/components/demo/Tgd"\n\nimport BackgroundURL from "../../../marylin.webp"\n\nfunction init(context: TgdContext) {\n    const texture = context.textures2D.create({\n        image: BackgroundURL,\n        width: 512,\n        height: 512,\n    })\n    const filter = new TgdFilter({\n        uniforms: {\n            uniThreshold: "float",\n        },\n        setUniforms(program, time) {\n            const threshold = 2 * Math.abs(Math.sin(time * 1e-4))\n            program.uniform1f("uniThreshold", threshold)\n        },\n        fragmentShaderCode: [\n            "float threshold = uniThreshold;",\n            "vec4 pixel = texture(uniTexture, varUV);",\n            "float value = pixel.r + pixel.g + pixel.b;",\n            "if (value > threshold) {",\n            ["FragColor = vec4(0, 0.2, 0.4, 1.0);"],\n            "} else {",\n            [\n                "float strength = (threshold - value) / threshold;",\n                "FragColor = vec4(threshold, threshold * .667, threshold * 0.1, 1);",\n            ],\n            "}",\n        ],\n    })\n    context.add(\n        new TgdPainterFilter(context, {\n            texture,\n            filters: [filter],\n        })\n    )\n    context.play()\n}\n\nexport default function Demo() {\n    return <View onReady={init} width="512px" height="512px" />\n}\n';function g(){const[e,n]=o.useState(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"half-left",children:(0,r.jsx)(u,{})}),(0,r.jsxs)("div",{className:"half-right",children:[(0,r.jsx)("div",{children:(0,r.jsx)(h.yQN,{variant:"elevated",onClick:()=>n(!e),children:e?"Show code details":"Show full code"})}),(0,r.jsx)(i.A,{language:"tsx",value:e?x:f})]})]})}function m(e){const n={a:"a",h1:"h1",h2:"h2",p:"p",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{children:(0,r.jsx)(n.a,{href:"docs/classes/TgdPainterFilter.html",children:"TgdPainterFilter"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"#..",children:"Back to the list of available filters"})}),"\n",(0,r.jsxs)(n.h2,{children:["Custom filter with ",(0,r.jsx)(n.a,{href:"docs/classes/TgdFilter.html",children:"TgdFilter"})]}),"\n",(0,r.jsx)(n.p,{children:"We want some kind of line art for Marylin. Everything dark enough will become\npart of a line, the rest will be discarded."}),"\n",(0,r.jsx)(g,{})]})}function p(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(m,{...e})}):m(e)}}}]);